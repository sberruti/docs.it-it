---
title: Derivazione da WebResponse
ms.date: 03/30/2017
helpviewer_keywords:
- Deriving from WebResponse
ms.assetid: f11d4866-a199-4087-9306-a5a4c18b13db
ms.openlocfilehash: bd06928b08eb085ef13371687fb1e5b92c6c1d86
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/15/2020
ms.locfileid: "71048584"
---
# <a name="deriving-from-webresponse"></a><span data-ttu-id="7ed84-102">Derivazione da WebResponse</span><span class="sxs-lookup"><span data-stu-id="7ed84-102">Deriving from WebResponse</span></span>
<span data-ttu-id="7ed84-103">La classe <xref:System.Net.WebResponse> è una classe base astratta che fornisce metodi e proprietà di base per creare un risposta specifica del protocollo adatta al modello di protocollo di collegamento di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7ed84-103">The <xref:System.Net.WebResponse> class is an abstract base class that provides the basic methods and properties for creating a protocol-specific response that fits the .NET Framework pluggable protocol model.</span></span> <span data-ttu-id="7ed84-104">Le applicazioni che usano la classe <xref:System.Net.WebRequest> per richiedere i dati dalle risorse ricevono le risposte in **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="7ed84-104">Applications that use the <xref:System.Net.WebRequest> class to request data from resources receive the responses in a **WebResponse**.</span></span> <span data-ttu-id="7ed84-105">I discendenti specifici del protocollo **WebResponse** devono implementare i membri astratti della classe **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="7ed84-105">Protocol-specific **WebResponse** descendants must implement the abstract members of the **WebResponse** class.</span></span>  
  
 <span data-ttu-id="7ed84-106">La classe **WebRequest** associata deve creare i discendenti di **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="7ed84-106">The associated **WebRequest** class must create **WebResponse** descendants.</span></span> <span data-ttu-id="7ed84-107">Le istanze di <xref:System.Net.HttpWebResponse>, ad esempio, vengono create solo come risultato della chiamata a <xref:System.Net.HttpWebRequest.GetResponse%2A?displayProperty=nameWithType> o <xref:System.Net.HttpWebRequest.EndGetResponse%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7ed84-107">For example, <xref:System.Net.HttpWebResponse> instances are created only as the result of calling <xref:System.Net.HttpWebRequest.GetResponse%2A?displayProperty=nameWithType> or <xref:System.Net.HttpWebRequest.EndGetResponse%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="7ed84-108">Ogni elemento **WebResponse** contiene il risultato di una richiesta a una risorsa e non è destinato a essere riutilizzato.</span><span class="sxs-lookup"><span data-stu-id="7ed84-108">Each **WebResponse** contains the result of a request to a resource and is not intended to be reused.</span></span>  
  
## <a name="contentlength-property"></a><span data-ttu-id="7ed84-109">Proprietà ContentLength</span><span class="sxs-lookup"><span data-stu-id="7ed84-109">ContentLength Property</span></span>  
 <span data-ttu-id="7ed84-110">La proprietà <xref:System.Net.WebResponse.ContentLength%2A> indica il numero di byte di dati disponibili dal flusso restituito dal metodo <xref:System.Net.WebResponse.GetResponseStream%2A>.</span><span class="sxs-lookup"><span data-stu-id="7ed84-110">The <xref:System.Net.WebResponse.ContentLength%2A> property indicates the number of bytes of data that are available from the stream returned by the <xref:System.Net.WebResponse.GetResponseStream%2A> method.</span></span> <span data-ttu-id="7ed84-111">La proprietà **ContentLength** non indica il numero di byte delle informazioni dell'intestazione o dei metadati restituite dal server. Indica solo il numero di byte di dati nella risorsa richiesta in sé.</span><span class="sxs-lookup"><span data-stu-id="7ed84-111">The **ContentLength** property does not indicate the number of bytes of header or metadata information returned by the server; it indicates only the number of bytes of data in the requested resource itself.</span></span>  
  
## <a name="contenttype-property"></a><span data-ttu-id="7ed84-112">Proprietà ContentType</span><span class="sxs-lookup"><span data-stu-id="7ed84-112">ContentType Property</span></span>  
 <span data-ttu-id="7ed84-113">La proprietà <xref:System.Net.WebResponse.ContentType%2A> fornisce le informazioni speciali che, in base al protocollo, devono essere inviate al client per identificare il tipo di contenuto inviato dal server.</span><span class="sxs-lookup"><span data-stu-id="7ed84-113">The <xref:System.Net.WebResponse.ContentType%2A> property provides any special information that your protocol requires you to send to the client to identify the type of content being sent by the server.</span></span> <span data-ttu-id="7ed84-114">Si tratta in genere del tipo di contenuto MIME dei dati restituiti.</span><span class="sxs-lookup"><span data-stu-id="7ed84-114">Typically this is the MIME content type of any data returned.</span></span>  
  
## <a name="headers-property"></a><span data-ttu-id="7ed84-115">Proprietà Headers</span><span class="sxs-lookup"><span data-stu-id="7ed84-115">Headers Property</span></span>  
 <span data-ttu-id="7ed84-116">La proprietà <xref:System.Net.WebResponse.Headers%2A> contiene una raccolta arbitraria di coppie nome/valore dei metadati associati alla risposta.</span><span class="sxs-lookup"><span data-stu-id="7ed84-116">The <xref:System.Net.WebResponse.Headers%2A> property contains an arbitrary collection of name/value pairs of metadata associated with the response.</span></span> <span data-ttu-id="7ed84-117">Tutti i metadati necessari per il protocollo che possono essere espressi come coppia di nome/valore possono essere inclusi nella proprietà **Headers**.</span><span class="sxs-lookup"><span data-stu-id="7ed84-117">Any metadata needed by the protocol that can be expressed as a name/value pair can be included in the **Headers** property.</span></span>  
  
 <span data-ttu-id="7ed84-118">Non è obbligatorio usare la proprietà **Headers** per usare i metadati dell'intestazione.</span><span class="sxs-lookup"><span data-stu-id="7ed84-118">You are not required to use the **Headers** property to use header metadata.</span></span> <span data-ttu-id="7ed84-119">I metadati specifici del protocollo possono essere esposti come proprietà. La proprietà <xref:System.Net.HttpWebResponse.LastModified%2A?displayProperty=nameWithType>, ad esempio, espone l'intestazione HTTP **Last-Modified**.</span><span class="sxs-lookup"><span data-stu-id="7ed84-119">Protocol-specific metadata can be exposed as properties; for example, the <xref:System.Net.HttpWebResponse.LastModified%2A?displayProperty=nameWithType> property exposes the **Last-Modified** HTTP header.</span></span> <span data-ttu-id="7ed84-120">Quando si espongono i metadati dell'intestazione come proprietà, non consentire l'impostazione della stessa proprietà tramite la proprietà **Headers**.</span><span class="sxs-lookup"><span data-stu-id="7ed84-120">When you expose header metadata as a property, you should not allow the same property to be set using the **Headers** property.</span></span>  
  
## <a name="responseuri-property"></a><span data-ttu-id="7ed84-121">Proprietà ResponseUri</span><span class="sxs-lookup"><span data-stu-id="7ed84-121">ResponseUri Property</span></span>  
 <span data-ttu-id="7ed84-122">La proprietà <xref:System.Net.WebResponse.ResponseUri%2A> contiene l'URI della risorsa che ha effettivamente fornito la risposta.</span><span class="sxs-lookup"><span data-stu-id="7ed84-122">The <xref:System.Net.WebResponse.ResponseUri%2A> property contains the URI of the resource that actually provided the response.</span></span> <span data-ttu-id="7ed84-123">Per i protocolli che non supportano il reindirizzamento, **ResponseUri** sarà uguale alla proprietà <xref:System.Net.WebRequest.RequestUri%2A> dell'elemento **WebRequest** che ha creato la risposta.</span><span class="sxs-lookup"><span data-stu-id="7ed84-123">For protocols that do not support redirection, **ResponseUri** will be the same as the <xref:System.Net.WebRequest.RequestUri%2A> property of the **WebRequest** that created the response.</span></span> <span data-ttu-id="7ed84-124">Se il protocollo supporta il reindirizzamento della richiesta, **ResponseUri** conterrà l'URI della risposta.</span><span class="sxs-lookup"><span data-stu-id="7ed84-124">If the protocol supports redirecting the request, **ResponseUri** will contain the URI of the response.</span></span>  
  
## <a name="close-method"></a><span data-ttu-id="7ed84-125">Metodo Close</span><span class="sxs-lookup"><span data-stu-id="7ed84-125">Close Method</span></span>  
 <span data-ttu-id="7ed84-126">Il metodo <xref:System.Net.WebResponse.Close%2A> chiude le connessioni eseguite dalla richiesta e dalla risposta e pulisce le risorse usate dalla risposta.</span><span class="sxs-lookup"><span data-stu-id="7ed84-126">The <xref:System.Net.WebResponse.Close%2A> method closes any connections made by the request and response and cleans up resources used by the response.</span></span> <span data-ttu-id="7ed84-127">Il metodo **Close** chiude le istanze del flusso usate dalla risposta, ma non genera un'eccezione se il flusso della risposta è stato chiuso prima da una chiamata al metodo <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7ed84-127">The **Close** method closes any stream instances used by the response, but it does not throw an exception if the response stream was previously closed by a call to the <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> method.</span></span>  
  
## <a name="getresponsestream-method"></a><span data-ttu-id="7ed84-128">Metodo GetResponseStream</span><span class="sxs-lookup"><span data-stu-id="7ed84-128">GetResponseStream Method</span></span>  
 <span data-ttu-id="7ed84-129">Il metodo <xref:System.Net.WebResponse.GetResponseStream%2A> restituisce un flusso contenente la risposta dalla risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="7ed84-129">The <xref:System.Net.WebResponse.GetResponseStream%2A> method returns a stream containing the response from the requested resource.</span></span> <span data-ttu-id="7ed84-130">Il flusso della risposta contiene solo i dati restituiti dalla risorsa. Le intestazioni o i metadati inclusi nella risposta devono essere rimossi dalla risposta ed esposti all'applicazione tramite le proprietà specifiche del protocollo o la proprietà **Headers**.</span><span class="sxs-lookup"><span data-stu-id="7ed84-130">The response stream contains only the data returned by the resource; any header or metadata included in the response should be stripped from the response and exposed to the application through protocol-specific properties or the **Headers** property.</span></span>  
  
 <span data-ttu-id="7ed84-131">L'istanza del flusso restituita dal metodo **GetResponseStream** è di proprietà dell'applicazione e può essere chiusa senza chiudere **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="7ed84-131">The stream instance returned by the **GetResponseStream** method is owned by the application and can be closed without closing the **WebResponse**.</span></span> <span data-ttu-id="7ed84-132">Per convenzione, la chiamata al metodo **WebResponse.Close** chiude anche il flusso restituito da **GetResponse**.</span><span class="sxs-lookup"><span data-stu-id="7ed84-132">By convention, calling the **WebResponse.Close** method also closes the stream returned by **GetResponse**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7ed84-133">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="7ed84-133">See also</span></span>

- <xref:System.Net.WebResponse>
- <xref:System.Net.HttpWebResponse>
- <xref:System.Net.FileWebResponse>
- [<span data-ttu-id="7ed84-134">programmazione di protocolli di collegamento</span><span class="sxs-lookup"><span data-stu-id="7ed84-134">Programming Pluggable Protocols</span></span>](programming-pluggable-protocols.md)
- [<span data-ttu-id="7ed84-135">Derivazione da WebRequest</span><span class="sxs-lookup"><span data-stu-id="7ed84-135">Deriving from WebRequest</span></span>](deriving-from-webrequest.md)
