---
title: Risoluzione dei problemi relativi ad applicazioni ibride
ms.date: 03/30/2017
helpviewer_keywords:
- overlapping controls [WPF]
- Windows Forms [WPF], interoperability with
- Windows Forms [WPF], WPF interoperation
- interoperability [WPF], Windows Forms
- hybrid applications [WPF interoperability]
- message loops [WPF]
ms.assetid: f440c23f-fa5d-4d5a-852f-ba61150e6405
ms.openlocfilehash: b85a607d2e44d6253359a81118f90e6ee05d2d3f
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/12/2020
ms.locfileid: "79187318"
---
# <a name="troubleshooting-hybrid-applications"></a><span data-ttu-id="bbd15-102">Risoluzione dei problemi relativi ad applicazioni ibride</span><span class="sxs-lookup"><span data-stu-id="bbd15-102">Troubleshooting Hybrid Applications</span></span>
<a name="introduction"></a><span data-ttu-id="bbd15-103">In questo argomento vengono elencati alcuni problemi comuni [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] che possono verificarsi durante la creazione di applicazioni ibride, che utilizzano entrambe le tecnologie Windows Form.This topic lists some common problems that can occur when authoring hybrid applications, which use both and Windows Forms technologies.</span><span class="sxs-lookup"><span data-stu-id="bbd15-103">This topic lists some common problems that can occur when authoring hybrid applications, which use both [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and Windows Forms technologies.</span></span>  

<a name="overlapping_controls"></a>
## <a name="overlapping-controls"></a><span data-ttu-id="bbd15-104">Sovrapposizione di controlli</span><span class="sxs-lookup"><span data-stu-id="bbd15-104">Overlapping Controls</span></span>  
 <span data-ttu-id="bbd15-105">I controlli potrebbero sovrapporsi in maniera imprevista.</span><span class="sxs-lookup"><span data-stu-id="bbd15-105">Controls may not overlap as you would expect.</span></span> <span data-ttu-id="bbd15-106">Windows Form utilizza un HWND separato per ogni controllo.</span><span class="sxs-lookup"><span data-stu-id="bbd15-106">Windows Forms uses a separate HWND for each control.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="bbd15-107">usa un HWND per tutto il contenuto in una pagina.</span><span class="sxs-lookup"><span data-stu-id="bbd15-107">uses one HWND for all content on a page.</span></span> <span data-ttu-id="bbd15-108">Questa differenza di implementazione provoca comportamenti di sovrapposizione imprevisti.</span><span class="sxs-lookup"><span data-stu-id="bbd15-108">This implementation difference causes unexpected overlapping behaviors.</span></span>  
  
 <span data-ttu-id="bbd15-109">Un controllo Windows Form [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ospitato in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] viene sempre visualizzato sopra il contenuto.</span><span class="sxs-lookup"><span data-stu-id="bbd15-109">A Windows Forms control hosted in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] always appears on top of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="bbd15-110">contenuto ospitato <xref:System.Windows.Forms.Integration.ElementHost> in un controllo viene visualizzato <xref:System.Windows.Forms.Integration.ElementHost> nell'ordine z del controllo.</span><span class="sxs-lookup"><span data-stu-id="bbd15-110">content hosted in an <xref:System.Windows.Forms.Integration.ElementHost> control appears at the z-order of the <xref:System.Windows.Forms.Integration.ElementHost> control.</span></span> <span data-ttu-id="bbd15-111">È possibile sovrapporsi <xref:System.Windows.Forms.Integration.ElementHost> ai [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controlli, ma il contenuto ospitato non combina né interagisce.</span><span class="sxs-lookup"><span data-stu-id="bbd15-111">It is possible to overlap <xref:System.Windows.Forms.Integration.ElementHost> controls, but the hosted [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content does not combine or interact.</span></span>  
  
<a name="child_property"></a>
## <a name="child-property"></a><span data-ttu-id="bbd15-112">Child Property</span><span class="sxs-lookup"><span data-stu-id="bbd15-112">Child Property</span></span>  
 <span data-ttu-id="bbd15-113">Le <xref:System.Windows.Forms.Integration.WindowsFormsHost> <xref:System.Windows.Forms.Integration.ElementHost> classi e possono ospitare un solo controllo figlio o elemento.</span><span class="sxs-lookup"><span data-stu-id="bbd15-113">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes can host only a single child control or element.</span></span> <span data-ttu-id="bbd15-114">Per ospitarne più di uno, è necessario usare un contenitore come contenuto figlio.</span><span class="sxs-lookup"><span data-stu-id="bbd15-114">To host more than one control or element, you must use a container as the child content.</span></span> <span data-ttu-id="bbd15-115">Ad esempio, è possibile aggiungere controlli pulsante <xref:System.Windows.Forms.Panel?displayProperty=nameWithType> e casella di controllo <xref:System.Windows.Forms.Integration.WindowsFormsHost> Windows Form <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A> a un controllo e quindi assegnare il pannello alla proprietà di un controllo.</span><span class="sxs-lookup"><span data-stu-id="bbd15-115">For example, you could add Windows Forms button and check box controls to a <xref:System.Windows.Forms.Panel?displayProperty=nameWithType> control, and then assign the panel to a <xref:System.Windows.Forms.Integration.WindowsFormsHost> control's <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A> property.</span></span> <span data-ttu-id="bbd15-116">Tuttavia, non è possibile aggiungere i controlli <xref:System.Windows.Forms.Integration.WindowsFormsHost> pulsante e casella di controllo separatamente allo stesso controllo.</span><span class="sxs-lookup"><span data-stu-id="bbd15-116">However, you cannot add the button and check box controls separately to the same <xref:System.Windows.Forms.Integration.WindowsFormsHost> control.</span></span>  
  
<a name="scaling"></a>
## <a name="scaling"></a><span data-ttu-id="bbd15-117">Scalabilità</span><span class="sxs-lookup"><span data-stu-id="bbd15-117">Scaling</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="bbd15-118">e Windows Form hanno modelli di ridimensionamento diversi.</span><span class="sxs-lookup"><span data-stu-id="bbd15-118">and Windows Forms have different scaling models.</span></span> <span data-ttu-id="bbd15-119">Alcune [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] trasformazioni di ridimensionamento sono significative per i controlli Windows Form, ma altre no.</span><span class="sxs-lookup"><span data-stu-id="bbd15-119">Some [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] scaling transformations are meaningful to Windows Forms controls, but others are not.</span></span> <span data-ttu-id="bbd15-120">Ad esempio, il ridimensionamento di un controllo Windows Form a 0 funzionerà, ma se si tenta di ridimensionare lo stesso controllo a un valore diverso da zero, le dimensioni del controllo rimangono 0.For example, scaling a Windows Forms control to 0 will work, but if you try to scale the same control back to a diverso da zero value, the control's size remains 0.</span><span class="sxs-lookup"><span data-stu-id="bbd15-120">For example, scaling a Windows Forms control to 0 will work, but if you try to scale the same control back to a non-zero value, the control's size remains 0.</span></span> <span data-ttu-id="bbd15-121">Per altre informazioni, vedere [Considerazioni sul layout per l'elemento WindowsFormsHost](layout-considerations-for-the-windowsformshost-element.md).</span><span class="sxs-lookup"><span data-stu-id="bbd15-121">For more information, see [Layout Considerations for the WindowsFormsHost Element](layout-considerations-for-the-windowsformshost-element.md).</span></span>  
  
<a name="adapter"></a>
## <a name="adapter"></a><span data-ttu-id="bbd15-122">Adattatore</span><span class="sxs-lookup"><span data-stu-id="bbd15-122">Adapter</span></span>  
 <span data-ttu-id="bbd15-123">Potrebbe esserci confusione <xref:System.Windows.Forms.Integration.WindowsFormsHost> durante <xref:System.Windows.Forms.Integration.ElementHost> il lavoro e classi, perché includono un contenitore nascosto.</span><span class="sxs-lookup"><span data-stu-id="bbd15-123">There may be confusion when working the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes, because they include a hidden container.</span></span> <span data-ttu-id="bbd15-124">Entrambe <xref:System.Windows.Forms.Integration.WindowsFormsHost> <xref:System.Windows.Forms.Integration.ElementHost> le classi e dispongono di un contenitore nascosto, denominato *adattatore*, che vengono utilizzati per ospitare il contenuto.</span><span class="sxs-lookup"><span data-stu-id="bbd15-124">Both the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes have a hidden container, called an *adapter*, which they use to host content.</span></span> <span data-ttu-id="bbd15-125">Per <xref:System.Windows.Forms.Integration.WindowsFormsHost> l'elemento, l'adattatore deriva dalla <xref:System.Windows.Forms.ContainerControl?displayProperty=nameWithType> classe .</span><span class="sxs-lookup"><span data-stu-id="bbd15-125">For the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, the adapter derives from the <xref:System.Windows.Forms.ContainerControl?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="bbd15-126">Per <xref:System.Windows.Forms.Integration.ElementHost> il controllo, l'adattatore deriva dall'elemento. <xref:System.Windows.Controls.DockPanel></span><span class="sxs-lookup"><span data-stu-id="bbd15-126">For the <xref:System.Windows.Forms.Integration.ElementHost> control, the adapter derives from the <xref:System.Windows.Controls.DockPanel> element.</span></span> <span data-ttu-id="bbd15-127">I riferimenti all'adattatore presenti in altri argomenti sull'interoperabilità alludono a tale contenitore.</span><span class="sxs-lookup"><span data-stu-id="bbd15-127">When you see references to the adapter in other interoperation topics, this container is what is being discussed.</span></span>  
  
<a name="nesting"></a>
## <a name="nesting"></a><span data-ttu-id="bbd15-128">Annidamento</span><span class="sxs-lookup"><span data-stu-id="bbd15-128">Nesting</span></span>  
 <span data-ttu-id="bbd15-129">La nidificazione di un <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento all'interno di un <xref:System.Windows.Forms.Integration.ElementHost> controllo non è supportata.</span><span class="sxs-lookup"><span data-stu-id="bbd15-129">Nesting a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element inside an <xref:System.Windows.Forms.Integration.ElementHost> control is not supported.</span></span> <span data-ttu-id="bbd15-130">Anche la <xref:System.Windows.Forms.Integration.ElementHost> nidificazione <xref:System.Windows.Forms.Integration.WindowsFormsHost> di un controllo all'interno di un elemento non è supportata.</span><span class="sxs-lookup"><span data-stu-id="bbd15-130">Nesting an <xref:System.Windows.Forms.Integration.ElementHost> control inside a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element is also not supported.</span></span>  
  
<a name="focus"></a>
## <a name="focus"></a><span data-ttu-id="bbd15-131">Focus</span><span class="sxs-lookup"><span data-stu-id="bbd15-131">Focus</span></span>  
 <span data-ttu-id="bbd15-132">Lo stato attivo [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] funziona in modo diverso in Windows Form e Windows Form, il che significa che possono verificarsi problemi di messa a fuoco in un'applicazione ibrida.</span><span class="sxs-lookup"><span data-stu-id="bbd15-132">Focus works differently in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and Windows Forms, which means that focus issues may occur in a hybrid application.</span></span> <span data-ttu-id="bbd15-133">Ad esempio, se si <xref:System.Windows.Forms.Integration.WindowsFormsHost> dispone di stato attivo all'interno di un elemento e <xref:System.Windows.Forms.Integration.WindowsFormsHost> si riduce a icona e ripristinare la pagina o visualizzare una finestra di dialogo modale, lo stato attivo all'interno dell'elemento potrebbe andare perso.</span><span class="sxs-lookup"><span data-stu-id="bbd15-133">For example, if you have focus inside a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, and you either minimize and restore the page or show a modal dialog box, focus inside the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element may be lost.</span></span> <span data-ttu-id="bbd15-134">L'elemento <xref:System.Windows.Forms.Integration.WindowsFormsHost> ha ancora lo stato attivo, ma il controllo al suo interno potrebbe non.</span><span class="sxs-lookup"><span data-stu-id="bbd15-134">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element still has focus, but the control inside it may not.</span></span>  
  
 <span data-ttu-id="bbd15-135">Lo stato attivo influisce anche sulla convalida dei dati.</span><span class="sxs-lookup"><span data-stu-id="bbd15-135">Data validation is also affected by focus.</span></span> <span data-ttu-id="bbd15-136">La convalida <xref:System.Windows.Forms.Integration.WindowsFormsHost> funziona in un elemento, ma non <xref:System.Windows.Forms.Integration.WindowsFormsHost> funziona come si <xref:System.Windows.Forms.Integration.WindowsFormsHost> tabulazione all'esterno dell'elemento o tra due elementi diversi.</span><span class="sxs-lookup"><span data-stu-id="bbd15-136">Validation works in a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, but it does not work as you tab out of the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, or between two different <xref:System.Windows.Forms.Integration.WindowsFormsHost> elements.</span></span>  
  
<a name="property_mapping"></a>
## <a name="property-mapping"></a><span data-ttu-id="bbd15-137">Mapping di proprietà</span><span class="sxs-lookup"><span data-stu-id="bbd15-137">Property Mapping</span></span>  
 <span data-ttu-id="bbd15-138">Alcuni mapping di proprietà richiedono un'interpretazione completa [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] per colmare implementazioni diverse tra le tecnologie Windows Form e Windows.</span><span class="sxs-lookup"><span data-stu-id="bbd15-138">Some property mappings require extensive interpretation to bridge dissimilar implementations between the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and Windows Forms technologies.</span></span> <span data-ttu-id="bbd15-139">I mapping di proprietà consentono al codice di rispondere alle modifiche apportate ai tipi di carattere, ai colori e ad altre proprietà.</span><span class="sxs-lookup"><span data-stu-id="bbd15-139">Property mappings enable your code to react to changes in fonts, colors, and other properties.</span></span> <span data-ttu-id="bbd15-140">In generale, i mapping di proprietà funzionano rimanendo in ascolto di eventi *Property*Changed o chiamate On*Property*Changed e impostando le proprietà adeguate sul controllo figlio o sul relativo adattatore.</span><span class="sxs-lookup"><span data-stu-id="bbd15-140">In general, property mappings work by listening for either *Property*Changed events or On*Property*Changed calls, and setting appropriate properties on either the child control or its adapter.</span></span> <span data-ttu-id="bbd15-141">Per altre informazioni, vedere [Mapping di proprietà di Windows Form e WPF](windows-forms-and-wpf-property-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="bbd15-141">For more information, see [Windows Forms and WPF Property Mapping](windows-forms-and-wpf-property-mapping.md).</span></span>  
  
<a name="layoutrelated_properties_on_hosted_content"></a>
## <a name="layout-related-properties-on-hosted-content"></a><span data-ttu-id="bbd15-142">Proprietà relative al layout nel contenuto ospitato</span><span class="sxs-lookup"><span data-stu-id="bbd15-142">Layout-related Properties on Hosted Content</span></span>  
 <span data-ttu-id="bbd15-143">Quando <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A?displayProperty=nameWithType> viene <xref:System.Windows.Forms.Integration.ElementHost.Child%2A?displayProperty=nameWithType> assegnata la proprietà o , vengono impostate automaticamente diverse proprietà relative al layout nel contenuto ospitato.</span><span class="sxs-lookup"><span data-stu-id="bbd15-143">When the <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A?displayProperty=nameWithType> or <xref:System.Windows.Forms.Integration.ElementHost.Child%2A?displayProperty=nameWithType> property is assigned, several layout-related properties on the hosted content are set automatically.</span></span> <span data-ttu-id="bbd15-144">La modifica di queste proprietà di contenuto può determinare comportamenti di layout imprevisti.</span><span class="sxs-lookup"><span data-stu-id="bbd15-144">Changing these content properties can cause unexpected layout behaviors.</span></span>  
  
 <span data-ttu-id="bbd15-145">Il contenuto ospitato è ancorato <xref:System.Windows.Forms.Integration.ElementHost> per riempire l'oggetto e l'elemento <xref:System.Windows.Forms.Integration.WindowsFormsHost> padre.</span><span class="sxs-lookup"><span data-stu-id="bbd15-145">Your hosted content is docked to fill the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> parent.</span></span> <span data-ttu-id="bbd15-146">Per abilitare questo comportamento di riempimento, durante l'impostazione della proprietà figlio vengono impostate varie proprietà.</span><span class="sxs-lookup"><span data-stu-id="bbd15-146">To enable this fill behavior, several properties are set when you set the child property.</span></span> <span data-ttu-id="bbd15-147">Nella tabella seguente sono elencate le <xref:System.Windows.Forms.Integration.ElementHost> <xref:System.Windows.Forms.Integration.WindowsFormsHost> proprietà di contenuto impostate dalle classi e .</span><span class="sxs-lookup"><span data-stu-id="bbd15-147">The following table lists which content properties are set by the <xref:System.Windows.Forms.Integration.ElementHost> and <xref:System.Windows.Forms.Integration.WindowsFormsHost> classes.</span></span>  
  
|<span data-ttu-id="bbd15-148">Classe host</span><span class="sxs-lookup"><span data-stu-id="bbd15-148">Host Class</span></span>|<span data-ttu-id="bbd15-149">Proprietà di contenuto</span><span class="sxs-lookup"><span data-stu-id="bbd15-149">Content Properties</span></span>|  
|----------------|------------------------|  
|<xref:System.Windows.Forms.Integration.ElementHost>|<xref:System.Windows.FrameworkElement.Height%2A><br /><br /> <xref:System.Windows.FrameworkElement.Width%2A><br /><br /> <xref:System.Windows.FrameworkElement.Margin%2A><br /><br /> <xref:System.Windows.FrameworkElement.VerticalAlignment%2A><br /><br /> <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>|  
|<xref:System.Windows.Forms.Integration.WindowsFormsHost>|<xref:System.Windows.Forms.Control.Margin%2A><br /><br /> <xref:System.Windows.Forms.Control.Dock%2A><br /><br /> <xref:System.Windows.Forms.Control.AutoSize%2A><br /><br /> <xref:System.Windows.Forms.Control.Location%2A><br /><br /> <xref:System.Windows.Forms.Control.MaximumSize%2A>|  
  
 <span data-ttu-id="bbd15-150">Non impostare queste proprietà direttamente sul contenuto ospitato.</span><span class="sxs-lookup"><span data-stu-id="bbd15-150">Do not set these properties directly on the hosted content.</span></span> <span data-ttu-id="bbd15-151">Per altre informazioni, vedere [Considerazioni sul layout per l'elemento WindowsFormsHost](layout-considerations-for-the-windowsformshost-element.md).</span><span class="sxs-lookup"><span data-stu-id="bbd15-151">For more information, see [Layout Considerations for the WindowsFormsHost Element](layout-considerations-for-the-windowsformshost-element.md).</span></span>  
  
<a name="navigation_applications"></a>
## <a name="navigation-applications"></a><span data-ttu-id="bbd15-152">Applicazioni di navigazione</span><span class="sxs-lookup"><span data-stu-id="bbd15-152">Navigation Applications</span></span>  
 <span data-ttu-id="bbd15-153">Le applicazioni di navigazione potrebbero non mantenere lo stato dell'utente.</span><span class="sxs-lookup"><span data-stu-id="bbd15-153">Navigation applications may not maintain user state.</span></span> <span data-ttu-id="bbd15-154">L'elemento <xref:System.Windows.Forms.Integration.WindowsFormsHost> ricrea i controlli quando viene utilizzato in un'applicazione di navigazione.</span><span class="sxs-lookup"><span data-stu-id="bbd15-154">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element recreates its controls when it is used in a navigation application.</span></span> <span data-ttu-id="bbd15-155">La ricreazione dei controlli figlio si verifica quando <xref:System.Windows.Forms.Integration.WindowsFormsHost> l'utente esce dalla pagina che ospita l'elemento e quindi vi ritorna.</span><span class="sxs-lookup"><span data-stu-id="bbd15-155">Recreating child controls occurs when the user navigates away from the page hosting the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element and then returns to it.</span></span> <span data-ttu-id="bbd15-156">Qualsiasi contenuto digitato dall'utente andrà perduto.</span><span class="sxs-lookup"><span data-stu-id="bbd15-156">Any content that has been typed in by the user will be lost.</span></span>  
  
<a name="message_loop_interoperation"></a>
## <a name="message-loop-interoperation"></a><span data-ttu-id="bbd15-157">Interoperabilità del ciclo di messaggi</span><span class="sxs-lookup"><span data-stu-id="bbd15-157">Message Loop Interoperation</span></span>  
 <span data-ttu-id="bbd15-158">Quando si lavora con i cicli di messaggi di Windows Form, i messaggi potrebbero non essere elaborati come previsto.</span><span class="sxs-lookup"><span data-stu-id="bbd15-158">When working with Windows Forms message loops, messages may not be processed as expected.</span></span> <span data-ttu-id="bbd15-159">Il <xref:System.Windows.Forms.Integration.WindowsFormsHost.EnableWindowsFormsInterop%2A> metodo viene <xref:System.Windows.Forms.Integration.WindowsFormsHost> chiamato dal costruttore.</span><span class="sxs-lookup"><span data-stu-id="bbd15-159">The <xref:System.Windows.Forms.Integration.WindowsFormsHost.EnableWindowsFormsInterop%2A> method is called by the <xref:System.Windows.Forms.Integration.WindowsFormsHost> constructor.</span></span> <span data-ttu-id="bbd15-160">Questo metodo aggiunge un filtro messaggi al ciclo di messaggi [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bbd15-160">This method adds a message filter to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] message loop.</span></span> <span data-ttu-id="bbd15-161">Questo filtro <xref:System.Windows.Forms.Control.PreProcessMessage%2A?displayProperty=nameWithType> chiama il <xref:System.Windows.Forms.Control?displayProperty=nameWithType> metodo se un oggetto è la destinazione del messaggio e lo converte o invia il messaggio.</span><span class="sxs-lookup"><span data-stu-id="bbd15-161">This filter calls the <xref:System.Windows.Forms.Control.PreProcessMessage%2A?displayProperty=nameWithType> method if a <xref:System.Windows.Forms.Control?displayProperty=nameWithType> was the target of the message and translates/dispatches the message.</span></span>  
  
 <span data-ttu-id="bbd15-162">Se si <xref:System.Windows.Window> visualizza un in un <xref:System.Windows.Forms.Application.Run%2A?displayProperty=nameWithType>ciclo di messaggi di <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> Windows Form con , non è possibile digitare nulla a meno che non si chiami il metodo .</span><span class="sxs-lookup"><span data-stu-id="bbd15-162">If you show a <xref:System.Windows.Window> in a Windows Forms message loop with <xref:System.Windows.Forms.Application.Run%2A?displayProperty=nameWithType>, you cannot type anything unless you call the <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> method.</span></span> <span data-ttu-id="bbd15-163">Il <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> metodo <xref:System.Windows.Window> accetta e <xref:System.Windows.Forms.IMessageFilter?displayProperty=nameWithType>aggiunge un oggetto , che [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] reindirizza i messaggi relativi ai tasti al ciclo di messaggi.</span><span class="sxs-lookup"><span data-stu-id="bbd15-163">The <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> method takes a <xref:System.Windows.Window> and adds a <xref:System.Windows.Forms.IMessageFilter?displayProperty=nameWithType>, which reroutes key-related messages to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] message loop.</span></span> <span data-ttu-id="bbd15-164">Per altre informazioni, vedere [Architettura di input per l'interoperabilità tra Windows Form e WPF](windows-forms-and-wpf-interoperability-input-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="bbd15-164">For more information, see [Windows Forms and WPF Interoperability Input Architecture](windows-forms-and-wpf-interoperability-input-architecture.md).</span></span>  
  
<a name="opacity_and_layering"></a>
## <a name="opacity-and-layering"></a><span data-ttu-id="bbd15-165">Opacità e sovrapposizione</span><span class="sxs-lookup"><span data-stu-id="bbd15-165">Opacity and Layering</span></span>  
 <span data-ttu-id="bbd15-166">La <xref:System.Windows.Interop.HwndHost> classe non supporta la stratificazione.</span><span class="sxs-lookup"><span data-stu-id="bbd15-166">The <xref:System.Windows.Interop.HwndHost> class does not support layering.</span></span> <span data-ttu-id="bbd15-167">Ciò significa <xref:System.Windows.UIElement.Opacity%2A> che l'impostazione della proprietà <xref:System.Windows.Forms.Integration.WindowsFormsHost> sull'elemento non [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ha <xref:System.Windows.Window.AllowsTransparency%2A> alcun `true`effetto e non verrà eseguita alcuna fusione con altre finestre che sono state impostate su .</span><span class="sxs-lookup"><span data-stu-id="bbd15-167">This means that setting the <xref:System.Windows.UIElement.Opacity%2A> property on the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element has no effect, and no blending will occur with other [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] windows which have <xref:System.Windows.Window.AllowsTransparency%2A> set to `true`.</span></span>  
  
<a name="dispose"></a>
## <a name="dispose"></a><span data-ttu-id="bbd15-168">Dispose</span><span class="sxs-lookup"><span data-stu-id="bbd15-168">Dispose</span></span>  
 <span data-ttu-id="bbd15-169">L'eliminazione non corretta delle classi può determinare una perdita di risorse.</span><span class="sxs-lookup"><span data-stu-id="bbd15-169">Not disposing classes properly can leak resources.</span></span> <span data-ttu-id="bbd15-170">Nelle applicazioni ibride, assicurarsi che le <xref:System.Windows.Forms.Integration.WindowsFormsHost> classi e <xref:System.Windows.Forms.Integration.ElementHost> vengono eliminate, altrimenti è possibile causare perdite di risorse.</span><span class="sxs-lookup"><span data-stu-id="bbd15-170">In your hybrid applications, make sure that the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes are disposed, or you could leak resources.</span></span> <span data-ttu-id="bbd15-171">Windows Form <xref:System.Windows.Forms.Integration.ElementHost> elimina i controlli <xref:System.Windows.Forms.Form> quando il padre non modale viene chiuso.</span><span class="sxs-lookup"><span data-stu-id="bbd15-171">Windows Forms disposes <xref:System.Windows.Forms.Integration.ElementHost> controls when its non-modal <xref:System.Windows.Forms.Form> parent closes.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="bbd15-172">elimina <xref:System.Windows.Forms.Integration.WindowsFormsHost> gli elementi quando l'applicazione viene arrestata.</span><span class="sxs-lookup"><span data-stu-id="bbd15-172">disposes <xref:System.Windows.Forms.Integration.WindowsFormsHost> elements when your application shuts down.</span></span> <span data-ttu-id="bbd15-173">È possibile visualizzare <xref:System.Windows.Forms.Integration.WindowsFormsHost> un elemento <xref:System.Windows.Window> in un in un ciclo di messaggi di Windows Form.It is possible to show a element in a in a Windows Forms message loop.</span><span class="sxs-lookup"><span data-stu-id="bbd15-173">It is possible to show a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element in a <xref:System.Windows.Window> in a Windows Forms message loop.</span></span> <span data-ttu-id="bbd15-174">In questo caso, è possibile che il codice non riceva notifica della chiusura dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="bbd15-174">In this case, your code may not receive notification that your application is shutting down.</span></span>  
  
<a name="enabling_visual_styles"></a>
## <a name="enabling-visual-styles"></a><span data-ttu-id="bbd15-175">Abilitazione degli stili di visualizzazione</span><span class="sxs-lookup"><span data-stu-id="bbd15-175">Enabling Visual Styles</span></span>  
 <span data-ttu-id="bbd15-176">Gli stili di visualizzazione di Microsoft Windows XP in un controllo Windows Form potrebbero non essere abilitati.</span><span class="sxs-lookup"><span data-stu-id="bbd15-176">Microsoft Windows XP visual styles on a Windows Forms control may not be enabled.</span></span> <span data-ttu-id="bbd15-177">Il <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> metodo viene chiamato nel modello per un'applicazione Windows Form.The method is called in the template for a Windows Forms application.</span><span class="sxs-lookup"><span data-stu-id="bbd15-177">The <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> method is called in the template for a Windows Forms application.</span></span> <span data-ttu-id="bbd15-178">Anche se questo metodo non viene chiamato per impostazione predefinita, se si utilizza Visual Studio per creare un progetto, si otterranno gli stili di visualizzazione di Microsoft Windows XP per i controlli, se è disponibile la versione 6.0 di Comctl32.dll.</span><span class="sxs-lookup"><span data-stu-id="bbd15-178">Although this method is not called by default, if you use Visual Studio to create a project, you will get Microsoft Windows XP visual styles for controls, if version 6.0 of Comctl32.dll is available.</span></span> <span data-ttu-id="bbd15-179">È necessario <xref:System.Windows.Forms.Application.EnableVisualStyles%2A> chiamare il metodo prima che gli handle vengano creati nel thread.</span><span class="sxs-lookup"><span data-stu-id="bbd15-179">You must call the <xref:System.Windows.Forms.Application.EnableVisualStyles%2A> method before handles are created on the thread.</span></span> <span data-ttu-id="bbd15-180">Per altre informazioni, vedere [Procedura: Abilitare stili di visualizzazione in un'applicazione ibrida](how-to-enable-visual-styles-in-a-hybrid-application.md).</span><span class="sxs-lookup"><span data-stu-id="bbd15-180">For more information, see [How to: Enable Visual Styles in a Hybrid Application](how-to-enable-visual-styles-in-a-hybrid-application.md).</span></span>  
  
<a name="licensed_controls"></a>
## <a name="licensed-controls"></a><span data-ttu-id="bbd15-181">Controlli con licenza</span><span class="sxs-lookup"><span data-stu-id="bbd15-181">Licensed Controls</span></span>  
 <span data-ttu-id="bbd15-182">I controlli Windows Form con licenza che visualizzano informazioni sulle licenze in una finestra di messaggio all'utente potrebbero causare un comportamento imprevisto per un'applicazione ibrida.</span><span class="sxs-lookup"><span data-stu-id="bbd15-182">Licensed Windows Forms controls that display licensing information in a message box to the user might cause unexpected behavior for a hybrid application.</span></span> <span data-ttu-id="bbd15-183">Alcuni controlli con licenza visualizzano una finestra di dialogo in risposta alla creazione di handle.</span><span class="sxs-lookup"><span data-stu-id="bbd15-183">Some licensed controls show a dialog box in response to handle creation.</span></span> <span data-ttu-id="bbd15-184">Ad esempio, un controllo con licenza potrebbe informare l'utente che è richiesta una licenza oppure che sono consentiti ancora tre usi del controllo a scopo di valutazione.</span><span class="sxs-lookup"><span data-stu-id="bbd15-184">For example, a licensed control might inform the user that a license is required, or that the user has three remaining trial uses of the control.</span></span>  
  
 <span data-ttu-id="bbd15-185">L'elemento <xref:System.Windows.Forms.Integration.WindowsFormsHost> deriva <xref:System.Windows.Interop.HwndHost> dalla classe e l'handle del controllo <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> figlio viene creato all'interno del metodo.</span><span class="sxs-lookup"><span data-stu-id="bbd15-185">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element derives from the <xref:System.Windows.Interop.HwndHost> class, and the child control’s handle is created inside the <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> method.</span></span> <span data-ttu-id="bbd15-186">La <xref:System.Windows.Interop.HwndHost> classe non consente l'elaborazione dei messaggi nel metodo , ma la <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> visualizzazione di una finestra di dialogo causa l'invio di messaggi.</span><span class="sxs-lookup"><span data-stu-id="bbd15-186">The <xref:System.Windows.Interop.HwndHost> class does not allow messages to be processed in the <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> method, but displaying a dialog box causes messages to be sent.</span></span> <span data-ttu-id="bbd15-187">Per abilitare questo scenario <xref:System.Windows.Forms.Control.CreateControl%2A?displayProperty=nameWithType> di gestione delle licenze, <xref:System.Windows.Forms.Integration.WindowsFormsHost> chiamare il metodo sul controllo prima di assegnarlo come figlio dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="bbd15-187">To enable this licensing scenario, call the <xref:System.Windows.Forms.Control.CreateControl%2A?displayProperty=nameWithType> method on the control before assigning it as the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element's child.</span></span>  
  
<a name="wpf_designer"></a>
## <a name="wpf-designer"></a><span data-ttu-id="bbd15-188">WPF Designer</span><span class="sxs-lookup"><span data-stu-id="bbd15-188">WPF Designer</span></span>  
 <span data-ttu-id="bbd15-189">È possibile progettare il contenuto WPFWPF usando WPF Designer per Visual Studio.You can design your WPFWPF content by using the WPF Designer for Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="bbd15-189">You can design your WPF content by using the WPF Designer for Visual Studio.</span></span> <span data-ttu-id="bbd15-190">Nelle sezioni seguenti sono elencati alcuni problemi comuni che possono verificarsi durante la creazione di applicazioni ibride con WPF Designer.</span><span class="sxs-lookup"><span data-stu-id="bbd15-190">The following sections list some common problems that can occur when authoring hybrid applications with the WPF Designer.</span></span>  
  
### <a name="backcolortransparent-is-ignored-at-design-time"></a><span data-ttu-id="bbd15-191">Proprietà BackColorTransparent ignorata in fase di progettazione</span><span class="sxs-lookup"><span data-stu-id="bbd15-191">BackColorTransparent is ignored at design time</span></span>  
 <span data-ttu-id="bbd15-192">La <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> proprietà potrebbe non funzionare come previsto in fase di progettazione.</span><span class="sxs-lookup"><span data-stu-id="bbd15-192">The <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> property might not work as expected at design time.</span></span>  
  
 <span data-ttu-id="bbd15-193">Se un controllo WPFWPF non si trova in <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> un elemento padre visibile, il runtime WPFWPF ignora il valore.</span><span class="sxs-lookup"><span data-stu-id="bbd15-193">If a WPF control is not on a visible parent, the WPF runtime ignores the <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> value.</span></span> <span data-ttu-id="bbd15-194">Il motivo che <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> potrebbe <xref:System.Windows.Forms.Integration.ElementHost> essere ignorato <xref:System.AppDomain>è perché l'oggetto viene creato in un file .</span><span class="sxs-lookup"><span data-stu-id="bbd15-194">The reason that <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> might be ignored is because <xref:System.Windows.Forms.Integration.ElementHost> object is created in a separate <xref:System.AppDomain>.</span></span> <span data-ttu-id="bbd15-195">Tuttavia, quando si <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> esegue l'applicazione, funziona come previsto.</span><span class="sxs-lookup"><span data-stu-id="bbd15-195">However, when you run the application, <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> does work as expected.</span></span>  
  
### <a name="design-time-error-list-appears-when-the-obj-folder-is-deleted"></a><span data-ttu-id="bbd15-196">Visualizzazione dell'elenco errori della fase di progettazione quando viene eliminata la cartella obj</span><span class="sxs-lookup"><span data-stu-id="bbd15-196">Design-time Error List appears when the obj folder is deleted</span></span>  
 <span data-ttu-id="bbd15-197">Se la cartella obj viene eliminata, viene visualizzato l'elenco errori della fase di progettazione.</span><span class="sxs-lookup"><span data-stu-id="bbd15-197">If the obj folder is deleted, the Design-time Error List appears.</span></span>  
  
 <span data-ttu-id="bbd15-198">Quando si <xref:System.Windows.Forms.Integration.ElementHost>progetta utilizzando , Progettazione Windows Form utilizza i file generati nella cartella Debug o Release all'interno della cartella obj del progetto.</span><span class="sxs-lookup"><span data-stu-id="bbd15-198">When you design using <xref:System.Windows.Forms.Integration.ElementHost>, the Windows Forms Designer uses generated files in the Debug or Release folder within your project's obj folder.</span></span> <span data-ttu-id="bbd15-199">Se si eliminano questi file, viene visualizzato l'elenco errori della fase di progettazione.</span><span class="sxs-lookup"><span data-stu-id="bbd15-199">If you delete these files, the Design-time Error List appears.</span></span> <span data-ttu-id="bbd15-200">Per risolvere questo problema, ricompilare il progetto.</span><span class="sxs-lookup"><span data-stu-id="bbd15-200">To fix this problem, rebuild your project.</span></span> <span data-ttu-id="bbd15-201">Per altre informazioni, vedere [Errori in fase di progettazione in Progettazione Windows Form](../../winforms/controls/design-time-errors-in-the-windows-forms-designer.md).</span><span class="sxs-lookup"><span data-stu-id="bbd15-201">For more information, see [Design-Time Errors in the Windows Forms Designer](../../winforms/controls/design-time-errors-in-the-windows-forms-designer.md).</span></span>  
  
<a name="elementhost_and_ime"></a>
## <a name="elementhost-and-ime"></a><span data-ttu-id="bbd15-202">ElementHost e IME</span><span class="sxs-lookup"><span data-stu-id="bbd15-202">ElementHost and IME</span></span>  
 <span data-ttu-id="bbd15-203">I controlli WPF <xref:System.Windows.Forms.Integration.ElementHost> ospitati in <xref:System.Windows.Forms.Control.ImeMode%2A> un oggetto attualmente non supportano la proprietà.</span><span class="sxs-lookup"><span data-stu-id="bbd15-203">WPF controls hosted in an <xref:System.Windows.Forms.Integration.ElementHost> currently do not support the <xref:System.Windows.Forms.Control.ImeMode%2A> property.</span></span> <span data-ttu-id="bbd15-204">Le <xref:System.Windows.Forms.Control.ImeMode%2A> modifiche apportate verranno ignorate dai controlli ospitati.</span><span class="sxs-lookup"><span data-stu-id="bbd15-204">Changes to <xref:System.Windows.Forms.Control.ImeMode%2A> will be ignored by the hosted controls.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bbd15-205">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="bbd15-205">See also</span></span>

- <xref:System.Windows.Forms.Integration.ElementHost>
- <xref:System.Windows.Forms.Integration.WindowsFormsHost>
- <span data-ttu-id="bbd15-206">[Interoperabilità in WPF Designer](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/bb628658(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="bbd15-206">[Interoperability in the WPF Designer](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/bb628658(v=vs.100))</span></span>
- [<span data-ttu-id="bbd15-207">Architettura di input per l'interoperabilità tra Windows Form e WPF</span><span class="sxs-lookup"><span data-stu-id="bbd15-207">Windows Forms and WPF Interoperability Input Architecture</span></span>](windows-forms-and-wpf-interoperability-input-architecture.md)
- [<span data-ttu-id="bbd15-208">Procedura: Abilitare stili di visualizzazione in un'applicazione ibrida</span><span class="sxs-lookup"><span data-stu-id="bbd15-208">How to: Enable Visual Styles in a Hybrid Application</span></span>](how-to-enable-visual-styles-in-a-hybrid-application.md)
- [<span data-ttu-id="bbd15-209">Considerazioni sul layout per l'elemento WindowsFormsHost</span><span class="sxs-lookup"><span data-stu-id="bbd15-209">Layout Considerations for the WindowsFormsHost Element</span></span>](layout-considerations-for-the-windowsformshost-element.md)
- [<span data-ttu-id="bbd15-210">Mapping di proprietà di Windows Form e WPF</span><span class="sxs-lookup"><span data-stu-id="bbd15-210">Windows Forms and WPF Property Mapping</span></span>](windows-forms-and-wpf-property-mapping.md)
- [<span data-ttu-id="bbd15-211">Errori in fase di progettazione in Progettazione Windows Form</span><span class="sxs-lookup"><span data-stu-id="bbd15-211">Design-Time Errors in the Windows Forms Designer</span></span>](../../winforms/controls/design-time-errors-in-the-windows-forms-designer.md)
- [<span data-ttu-id="bbd15-212">Migrazione e interoperabilità</span><span class="sxs-lookup"><span data-stu-id="bbd15-212">Migration and Interoperability</span></span>](migration-and-interoperability.md)
