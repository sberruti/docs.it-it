---
title: Precedenza del valore della proprietà di dipendenza
ms.date: 03/30/2017
helpviewer_keywords:
- dependency properties [WPF], classes as owners
- dependency properties [WPF], metadata
- classes [WPF], owners of dependency properties
- metadata [WPF], dependency properties
ms.assetid: 1fbada8e-4867-4ed1-8d97-62c07dad7ebc
ms.openlocfilehash: a9ff3a4f6ac08a0f7ec6dd9fc26bf190f43f3584
ms.sourcegitcommit: 011314e0c8eb4cf4a11d92078f58176c8c3efd2d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/09/2020
ms.locfileid: "77095203"
---
# <a name="dependency-property-value-precedence"></a><span data-ttu-id="b5ff4-102">Precedenza del valore della proprietà di dipendenza</span><span class="sxs-lookup"><span data-stu-id="b5ff4-102">Dependency Property Value Precedence</span></span>
<a name="introduction"></a> <span data-ttu-id="b5ff4-103">Questo argomento illustra il modo in cui i meccanismi del sistema di proprietà [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] possono influire sul valore di una proprietà di dipendenza e descrive la precedenza in base alla quale gli aspetti del sistema di proprietà si applicano al valore effettivo di una proprietà.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-103">This topic explains how the workings of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system can affect the value of a dependency property, and describes the precedence by which aspects of the property system apply to the effective value of a property.</span></span>  

<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="b5ff4-104">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="b5ff4-104">Prerequisites</span></span>  
 <span data-ttu-id="b5ff4-105">Questo argomento presuppone la conoscenza delle proprietà di dipendenza dal punto di vista di un consumer delle proprietà di dipendenza esistenti nelle classi di [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], nonché la lettura dell'argomento [Panoramica sulle proprietà di dipendenza](dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-105">This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes, and have read [Dependency Properties Overview](dependency-properties-overview.md).</span></span> <span data-ttu-id="b5ff4-106">Per seguire gli esempi illustrati in questo argomento, è anche necessario conoscere [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] e saper scrivere applicazioni [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5ff4-106">To follow the examples in this topic, you should also understand [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] and know how to write [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications.</span></span>  
  
<a name="intro"></a>   
## <a name="the-wpf-property-system"></a><span data-ttu-id="b5ff4-107">Il sistema di proprietà WPF</span><span class="sxs-lookup"><span data-stu-id="b5ff4-107">The WPF Property System</span></span>  
 <span data-ttu-id="b5ff4-108">Il sistema di proprietà [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] offre un potente strumento per consentire la determinazione del valore delle proprietà di dipendenza in base a numerosi fattori, abilitando funzionalità quali la convalida delle proprietà in tempo reale, l'associazione tardiva e la notifica alle proprietà correlate delle modifiche ai valori di altre proprietà.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-108">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system offers a powerful way to have the value of dependency properties be determined by a variety of factors, enabling features such as real-time property validation, late binding, and notifying related properties of changes to values for other properties.</span></span> <span data-ttu-id="b5ff4-109">L'ordine e logica precisi usati per determinare i valori delle proprietà di dipendenza sono piuttosto complessi.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-109">The exact order and logic that is used to determine dependency property values is reasonably complex.</span></span> <span data-ttu-id="b5ff4-110">La conoscenza di questo ordine consentirà di evitare l'impostazione dì proprietà non necessarie e potrebbe anche eliminare i dubbi sui motivi precisi per i quali alcuni tentativi di influenzare o anticipare un valore delle proprietà di dipendenza non hanno determinato il valore atteso.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-110">Knowing this order will help you avoid unnecessary property setting, and might also clear up confusion over exactly why some attempt to influence or anticipate a dependency property value did not end up resulting in the value you expected.</span></span>  
  
<a name="multiple_sets"></a>   
## <a name="dependency-properties-might-be-set-in-multiple-places"></a><span data-ttu-id="b5ff4-111">Le proprietà di dipendenza possono essere impostate in più punti</span><span class="sxs-lookup"><span data-stu-id="b5ff4-111">Dependency Properties Might Be "Set" in Multiple Places</span></span>  
 <span data-ttu-id="b5ff4-112">Di seguito è riportato un esempio [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] in cui la stessa proprietà (<xref:System.Windows.Controls.Control.Background%2A>) presenta tre diverse operazioni "set" che potrebbero influenzare il valore.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-112">The following is example [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] where the same property (<xref:System.Windows.Controls.Control.Background%2A>) has three different "set" operations that might influence the value.</span></span>  
  
 [!code-xaml[PropertiesOvwSupport#DPPrecedence](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml#dpprecedence)]  
  
 <span data-ttu-id="b5ff4-113">In questo caso, quale colore ci si aspetta che verrà applicato, rosso, verde o blu?</span><span class="sxs-lookup"><span data-stu-id="b5ff4-113">Here, which color do you expect will apply—red, green, or blue?</span></span>  
  
 <span data-ttu-id="b5ff4-114">Ad eccezione dei valori animati e della coercizione, i set di proprietà locali vengono impostati con la precedenza più elevata.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-114">With the exception of animated values and coercion, local property sets are set at the highest precedence.</span></span> <span data-ttu-id="b5ff4-115">Se si imposta localmente un valore, è possibile prevedere che il valore venga accettato, anche al di là degli stili o dei modelli di controllo.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-115">If you set a value locally you can expect that the value will be honored, even above any styles or control templates.</span></span> <span data-ttu-id="b5ff4-116">Nell'esempio <xref:System.Windows.Controls.Control.Background%2A> viene impostato su rosso localmente.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-116">Here in the example, <xref:System.Windows.Controls.Control.Background%2A> is set to Red locally.</span></span> <span data-ttu-id="b5ff4-117">Pertanto, lo stile definito in questo ambito, anche se si tratta di uno stile implicito altrimenti applicabile a tutti gli elementi di quel tipo in tale ambito, non è la precedenza più elevata per fornire il valore della proprietà <xref:System.Windows.Controls.Control.Background%2A>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-117">Therefore, the style defined in this scope, even though it is an implicit style that would otherwise apply to all elements of that type in that scope, is not the highest precedence for giving the <xref:System.Windows.Controls.Control.Background%2A> property its value.</span></span>  <span data-ttu-id="b5ff4-118">Se è stato rimosso il valore locale Red dall'istanza specifica del controllo Button, lo stile avrà la precedenza e il pulsante otterrà il valore di Background dallo stile.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-118">If you removed the local value of Red from that Button instance, then the style would have precedence and the button would obtain the Background value from the style.</span></span>  <span data-ttu-id="b5ff4-119">All'interno dello stile, i trigger hanno la precedenza, pertanto il pulsante sarà blu se il mouse è posizionato su di esso e verde in caso contrario.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-119">Within the style, triggers take precedence, so the button will be blue if the mouse is over it, and green otherwise.</span></span>  
  
<a name="listing"></a>   
## <a name="dependency-property-setting-precedence-list"></a><span data-ttu-id="b5ff4-120">Elenco delle precedenze per l'impostazione delle proprietà di dipendenza</span><span class="sxs-lookup"><span data-stu-id="b5ff4-120">Dependency Property Setting Precedence List</span></span>  
 <span data-ttu-id="b5ff4-121">Di seguito viene riportato l'ordine definitivo usato dal sistema di proprietà per l'assegnazione dei valori di runtime delle proprietà di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-121">The following is the definitive order that the property system uses when assigning the run-time values of dependency properties.</span></span> <span data-ttu-id="b5ff4-122">La precedenza più elevata viene elencata per prima.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-122">Highest precedence is listed first.</span></span> <span data-ttu-id="b5ff4-123">Questo elenco si basa su alcuni dei concetti generali espressi in [Panoramica sulle proprietà di dipendenza](dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-123">This list expands on some of the generalizations made in the [Dependency Properties Overview](dependency-properties-overview.md).</span></span>  
  
1. <span data-ttu-id="b5ff4-124">**Coercizione del sistema di proprietà.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-124">**Property system coercion.**</span></span> <span data-ttu-id="b5ff4-125">Per informazioni dettagliate sulla coercizione, vedere [Coercizione, animazione e valore di base](#animations) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-125">For details on coercion, see [Coercion, Animation, and Base Value](#animations) later in this topic.</span></span>  
  
2. <span data-ttu-id="b5ff4-126">**Animazioni attive o animazioni con un comportamento di attesa.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-126">**Active animations, or animations with a Hold behavior.**</span></span> <span data-ttu-id="b5ff4-127">Per ottenere qualsiasi effetto pratico, l'animazione di una proprietà deve essere in grado di avere la precedenza sul valore di base (inanimato), anche se quel valore è stato impostato localmente.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-127">In order to have any practical effect, an animation of a property must be able to have precedence over the base (unanimated) value, even if that value was set locally.</span></span> <span data-ttu-id="b5ff4-128">Per informazioni dettagliate, vedere [Coercizione, animazione e valore di base](#animations) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-128">For details, see [Coercion, Animation, and Base Value](#animations) later in this topic.</span></span>  
  
3. <span data-ttu-id="b5ff4-129">**Valore locale.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-129">**Local value.**</span></span> <span data-ttu-id="b5ff4-130">Un valore locale può essere impostato tramite la praticità della proprietà "wrapper", che equivale anche a impostare come attributo o elemento proprietà in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]o da una chiamata all'API <xref:System.Windows.DependencyObject.SetValue%2A> utilizzando una proprietà di un'istanza specifica.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-130">A local value might be set through the convenience of the "wrapper" property, which also equates to setting as an attribute or property element in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], or by a call to the <xref:System.Windows.DependencyObject.SetValue%2A> API using a property of a specific instance.</span></span> <span data-ttu-id="b5ff4-131">Se si imposta un valore locale usando un'associazione o una risorsa, ciascuno di questi elementi dispone della precedenza come se fosse stato impostato un valore diretto.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-131">If you set a local value by using a binding or a resource, these each act in the precedence as if a direct value was set.</span></span>  
  
4. <span data-ttu-id="b5ff4-132">**Proprietà del modello TemplatedParent.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-132">**TemplatedParent template properties.**</span></span> <span data-ttu-id="b5ff4-133">Un elemento ha un <xref:System.Windows.FrameworkElement.TemplatedParent%2A> se è stato creato come parte di un modello (<xref:System.Windows.Controls.ControlTemplate> o <xref:System.Windows.DataTemplate>).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-133">An element has a <xref:System.Windows.FrameworkElement.TemplatedParent%2A> if it was created as part of a template (a <xref:System.Windows.Controls.ControlTemplate> or <xref:System.Windows.DataTemplate>).</span></span> <span data-ttu-id="b5ff4-134">Per informazioni dettagliate sulle situazioni in cui viene applicato, vedere [TemplatedParent](#templatedparent) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-134">For details on when this applies, see [TemplatedParent](#templatedparent) later in this topic.</span></span> <span data-ttu-id="b5ff4-135">All'interno del modello, viene applicata la seguente precedenza:</span><span class="sxs-lookup"><span data-stu-id="b5ff4-135">Within the template, the following precedence applies:</span></span>  
  
    1. <span data-ttu-id="b5ff4-136">Trigger dal modello di <xref:System.Windows.FrameworkElement.TemplatedParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-136">Triggers from the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template.</span></span>  
  
    2. <span data-ttu-id="b5ff4-137">Set di proprietà (in genere tramite [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] attributi) nel modello di <xref:System.Windows.FrameworkElement.TemplatedParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-137">Property sets (typically through [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] attributes) in the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template.</span></span>  
  
5. <span data-ttu-id="b5ff4-138">**Stile implicito.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-138">**Implicit style.**</span></span> <span data-ttu-id="b5ff4-139">Si applica solo alla proprietà `Style`.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-139">Applies only to the `Style` property.</span></span> <span data-ttu-id="b5ff4-140">La proprietà `Style` viene riempita da qualsiasi risorsa di stile con una chiave che corrisponde al tipo di quell'elemento.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-140">The `Style` property is filled by any style resource with a key that matches the type of that element.</span></span> <span data-ttu-id="b5ff4-141">Quella risorsa di stile deve essere presente nella pagina o nell'applicazione. La ricerca per una risorsa di stile implicita non viene eseguita nei temi.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-141">That style resource must exist either in the page or the application; lookup for an implicit style resource does not proceed into the themes.</span></span>  
  
6. <span data-ttu-id="b5ff4-142">**Trigger degli stili.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-142">**Style triggers.**</span></span> <span data-ttu-id="b5ff4-143">I trigger all'interno di stili da una pagina o un'applicazione (questi stili potrebbero essere stili espliciti o impliciti, ma non derivati dagli stili predefiniti, che hanno una precedenza inferiore).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-143">The triggers within styles from page or application (these styles might be either explicit or implicit styles, but not from the default styles, which have lower precedence).</span></span>  
  
7. <span data-ttu-id="b5ff4-144">**Trigger dei modelli.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-144">**Template triggers.**</span></span> <span data-ttu-id="b5ff4-145">Qualsiasi trigger da un modello all'interno di uno stile oppure un modello applicato direttamente.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-145">Any trigger from a template within a style, or a directly applied template.</span></span>  
  
8. <span data-ttu-id="b5ff4-146">**Setter di stili.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-146">**Style setters.**</span></span> <span data-ttu-id="b5ff4-147">Valori da un <xref:System.Windows.Setter> all'interno di stili dalla pagina o dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-147">Values from a <xref:System.Windows.Setter> within styles from page or application.</span></span>  
  
9. <span data-ttu-id="b5ff4-148">**Stile (tema) predefinito.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-148">**Default (theme) style.**</span></span> <span data-ttu-id="b5ff4-149">Per informazioni dettagliate sui casi in cui viene applicato e sul modo in cui gli stili del tema si riferiscono ai modelli all'interno degli stili del tema, vedere [Stili (tema) predefiniti](#themestyles) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-149">For details on when this applies, and how theme styles relate to the templates within theme styles, see [Default (Theme) Styles](#themestyles) later in this topic.</span></span> <span data-ttu-id="b5ff4-150">All'interno di uno stile predefinito, viene applicato il seguente ordine di precedenza:</span><span class="sxs-lookup"><span data-stu-id="b5ff4-150">Within a default style, the following order of precedence applies:</span></span>  
  
    1. <span data-ttu-id="b5ff4-151">Trigger attivi nello stile del tema.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-151">Active triggers in the theme style.</span></span>  
  
    2. <span data-ttu-id="b5ff4-152">Setter nello stile del tema.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-152">Setters in the theme style.</span></span>  
  
10. <span data-ttu-id="b5ff4-153">**Ereditarietà.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-153">**Inheritance.**</span></span> <span data-ttu-id="b5ff4-154">Alcune proprietà di dipendenza ereditano i propri valori dall'elemento padre agli elementi figlio, in modo che non sia necessario impostarli in modo specifico per ogni elemento in tutta l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-154">A few dependency properties inherit their values from parent element to child elements, such that they need not be set specifically on each element throughout an application.</span></span> <span data-ttu-id="b5ff4-155">Per informazioni dettagliate, vedere [Ereditarietà del valore della proprietà](property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-155">For details see [Property Value Inheritance](property-value-inheritance.md).</span></span>  
  
11. <span data-ttu-id="b5ff4-156">**Valore predefinito dai metadati delle proprietà di dipendenza.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-156">**Default value from dependency property metadata.**</span></span> <span data-ttu-id="b5ff4-157">Qualsiasi proprietà di dipendenza specificata può avere un valore predefinito come stabilito dalla registrazione del sistema di proprietà di quella particolare proprietà.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-157">Any given dependency property may have a default value as established by the property system registration of that particular property.</span></span> <span data-ttu-id="b5ff4-158">Inoltre, le classi derivate che ereditano una proprietà di dipendenza hanno la possibilità di eseguire l'override di tali metadati (incluso il valore predefinito) in base al tipo.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-158">Also, derived classes that inherit a dependency property have the option to override that metadata (including the default value) on a per-type basis.</span></span> <span data-ttu-id="b5ff4-159">Per altre informazioni, vedere [Metadati delle proprietà di dipendenza](dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-159">See [Dependency Property Metadata](dependency-property-metadata.md) for more information.</span></span> <span data-ttu-id="b5ff4-160">Dato che l'ereditarietà viene controllata prima del valore predefinito, per una proprietà ereditata un valore predefinito dell'elemento padre ha la precedenza su un elemento figlio.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-160">Because inheritance is checked before default value, for an inherited property, a parent element default value takes precedence over a child element.</span></span>  <span data-ttu-id="b5ff4-161">Di conseguenza, se una proprietà ereditabile non viene impostata ovunque, viene usato il valore predefinito come specificato nella radice o nell'elemento padre invece del valore predefinito dell'elemento figlio.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-161">Consequently, if an inheritable property is not set anywhere, the default value as specified on the root or parent is used instead of the child element default value.</span></span>  
  
<a name="templatedparent"></a>   
## <a name="templatedparent"></a><span data-ttu-id="b5ff4-162">TemplatedParent</span><span class="sxs-lookup"><span data-stu-id="b5ff4-162">TemplatedParent</span></span>  
 <span data-ttu-id="b5ff4-163">TemplatedParent come un elemento di precedenza non si applica a qualsiasi proprietà di un elemento che viene dichiarata direttamente nel markup dell'applicazione standard.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-163">TemplatedParent as a precedence item does not apply to any property of an element that you declare directly in standard application markup.</span></span> <span data-ttu-id="b5ff4-164">Il concetto di TemplatedParent esiste solo per elementi figlio all'interno di una struttura ad albero visuale che vengono creati tramite l'applicazione del modello.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-164">The TemplatedParent concept exists only for child items within a visual tree that come into existence through the application of the template.</span></span> <span data-ttu-id="b5ff4-165">Quando il sistema di proprietà Cerca un valore nel modello di <xref:System.Windows.FrameworkElement.TemplatedParent%2A>, sta cercando il modello che ha creato tale elemento.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-165">When the property system searches the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template for a value, it is searching the template that created that element.</span></span> <span data-ttu-id="b5ff4-166">I valori delle proprietà del modello di <xref:System.Windows.FrameworkElement.TemplatedParent%2A> in genere agiscono come se fossero impostati come valore locale nell'elemento figlio, ma questa precedenza minore rispetto al valore locale esiste perché i modelli sono potenzialmente condivisi.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-166">The property values from the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template generally act as if they were set as a local value on the child element, but this lesser precedence versus the local value exists because the templates are potentially shared.</span></span> <span data-ttu-id="b5ff4-167">Per informazioni dettagliate, vedere <xref:System.Windows.FrameworkElement.TemplatedParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-167">For details, see <xref:System.Windows.FrameworkElement.TemplatedParent%2A>.</span></span>  
  
<a name="style_property"></a>   
## <a name="the-style-property"></a><span data-ttu-id="b5ff4-168">Proprietà Style</span><span class="sxs-lookup"><span data-stu-id="b5ff4-168">The Style Property</span></span>  
 <span data-ttu-id="b5ff4-169">L'ordine di ricerca descritto in precedenza si applica a tutte le possibili proprietà di dipendenza tranne una: la proprietà <xref:System.Windows.FrameworkElement.Style%2A>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-169">The order of lookup described earlier applies to all possible dependency properties except one: the <xref:System.Windows.FrameworkElement.Style%2A> property.</span></span> <span data-ttu-id="b5ff4-170">La proprietà <xref:System.Windows.FrameworkElement.Style%2A> è univoca in quanto non è possibile applicare uno stile, quindi gli elementi di precedenza da 5 a 8 non vengono applicati.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-170">The <xref:System.Windows.FrameworkElement.Style%2A> property is unique in that it cannot itself be styled, so the precedence items 5 through 8 do not apply.</span></span> <span data-ttu-id="b5ff4-171">Inoltre, l'animazione o la coercizione di <xref:System.Windows.FrameworkElement.Style%2A> non è consigliata (e l'animazione <xref:System.Windows.FrameworkElement.Style%2A> richiederebbe una classe di animazione personalizzata).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-171">Also, either animating or coercing <xref:System.Windows.FrameworkElement.Style%2A> is not recommended (and animating <xref:System.Windows.FrameworkElement.Style%2A> would require a custom animation class).</span></span> <span data-ttu-id="b5ff4-172">In questo modo è possibile impostare la proprietà <xref:System.Windows.FrameworkElement.Style%2A>:</span><span class="sxs-lookup"><span data-stu-id="b5ff4-172">This leaves three ways that the <xref:System.Windows.FrameworkElement.Style%2A> property might be set:</span></span>  
  
- <span data-ttu-id="b5ff4-173">**Stile esplicito.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-173">**Explicit style.**</span></span> <span data-ttu-id="b5ff4-174">La proprietà <xref:System.Windows.FrameworkElement.Style%2A> è impostata direttamente.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-174">The <xref:System.Windows.FrameworkElement.Style%2A> property is set directly.</span></span> <span data-ttu-id="b5ff4-175">Nella maggior parte degli scenari, lo stile non viene definito inline, ma viene invece indicato come una risorsa, tramite una chiave esplicita.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-175">In most scenarios, the style is not defined inline, but instead is referenced as a resource, by explicit key.</span></span> <span data-ttu-id="b5ff4-176">In questo caso la stessa proprietà Style agisce come se fosse un valore locale, elemento di precedenza 3.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-176">In this case the Style property itself acts as if it were a local value, precedence item 3.</span></span>  
  
- <span data-ttu-id="b5ff4-177">**Stile implicito.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-177">**Implicit style.**</span></span> <span data-ttu-id="b5ff4-178">La proprietà <xref:System.Windows.FrameworkElement.Style%2A> non è impostata direttamente.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-178">The <xref:System.Windows.FrameworkElement.Style%2A> property is not set directly.</span></span> <span data-ttu-id="b5ff4-179">Tuttavia, il <xref:System.Windows.FrameworkElement.Style%2A> esiste a un certo livello nella sequenza di ricerca delle risorse (pagina, applicazione) e viene immesso con una chiave di risorsa corrispondente al tipo a cui deve essere applicato lo stile.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-179">However, the <xref:System.Windows.FrameworkElement.Style%2A> exists at some level in the resource lookup sequence (page, application) and is keyed using a resource key that matches the type the style is to be applied to.</span></span> <span data-ttu-id="b5ff4-180">In questo caso, la proprietà <xref:System.Windows.FrameworkElement.Style%2A> stesso agisce con una precedenza identificata nella sequenza come elemento 5.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-180">In this case, the <xref:System.Windows.FrameworkElement.Style%2A> property itself acts by a precedence identified in the sequence as item 5.</span></span> <span data-ttu-id="b5ff4-181">Questa condizione può essere rilevata utilizzando <xref:System.Windows.DependencyPropertyHelper> sulla proprietà <xref:System.Windows.FrameworkElement.Style%2A> e cercando <xref:System.Windows.BaseValueSource.ImplicitStyleReference> nei risultati.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-181">This condition can be detected by using <xref:System.Windows.DependencyPropertyHelper> against the <xref:System.Windows.FrameworkElement.Style%2A> property and looking for <xref:System.Windows.BaseValueSource.ImplicitStyleReference> in the results.</span></span>  
  
- <span data-ttu-id="b5ff4-182">**Stile predefinito**, noto anche come **stile del tema.**</span><span class="sxs-lookup"><span data-stu-id="b5ff4-182">**Default style**, also known as **theme style.**</span></span> <span data-ttu-id="b5ff4-183">La proprietà <xref:System.Windows.FrameworkElement.Style%2A> non è impostata direttamente e in realtà verrà letta come `null` fino alla fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-183">The <xref:System.Windows.FrameworkElement.Style%2A> property is not set directly, and in fact will read as `null` up until run time.</span></span> <span data-ttu-id="b5ff4-184">In questo caso, lo stile deriva dalla valutazione del tema di runtime che fa parte del motore di presentazione [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5ff4-184">In this case, the style comes from the run-time theme evaluation that is part of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] presentation engine.</span></span>  
  
 <span data-ttu-id="b5ff4-185">Per gli stili impliciti non presenti nei temi, il tipo deve corrispondere esattamente a un `MyButton` classe derivata da `Button`non utilizzerà in modo implicito uno stile per `Button`.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-185">For implicit styles not in themes, the type must match exactly - a `MyButton` `Button`-derived class will not implicitly use a style for `Button`.</span></span>  
  
<a name="themestyles"></a>   
## <a name="default-theme-styles"></a><span data-ttu-id="b5ff4-186">Stili (tema) predefiniti</span><span class="sxs-lookup"><span data-stu-id="b5ff4-186">Default (Theme) Styles</span></span>  
 <span data-ttu-id="b5ff4-187">Ogni controllo fornito con [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dispone di uno stile predefinito.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-187">Every control that ships with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] has a default style.</span></span> <span data-ttu-id="b5ff4-188">Potenzialmente, lo stile predefinito varia in base al tema, motivo per il quale questo stile predefinito viene indicato in alcuni casi come uno stile del tema.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-188">That default style potentially varies by theme, which is why this default style is sometimes referred to as a theme style.</span></span>  
  
 <span data-ttu-id="b5ff4-189">Le informazioni più importanti trovate all'interno di uno stile predefinito per un controllo sono il relativo modello di controllo, che esiste nello stile del tema come Setter per la relativa proprietà <xref:System.Windows.Controls.Control.Template%2A>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-189">The most important information that is found within a default style for a control is its control template, which exists in the theme style as a setter for its <xref:System.Windows.Controls.Control.Template%2A> property.</span></span> <span data-ttu-id="b5ff4-190">Se non esistesse un modello derivato dagli stili predefiniti, un controllo senza un modello personalizzato come parte di uno stile personalizzato non presenterebbe alcun aspetto visivo.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-190">If there were no template from default styles, a control without a custom template as part of a custom style would have no visual appearance at all.</span></span> <span data-ttu-id="b5ff4-191">Il modello derivato dallo stile predefinito fornisce all'aspetto visivo di ciascun controllo una struttura di base e definisce anche le connessioni tra proprietà definite nella struttura ad albero visuale del modello e la classe di controlli corrispondente.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-191">The template from the default style gives the visual appearance of each control a basic structure, and also defines the connections between properties defined in the visual tree of the template and the corresponding control class.</span></span> <span data-ttu-id="b5ff4-192">Ogni controllo espone un set di proprietà che può influenzare l'aspetto visivo del controllo senza sostituire completamente il modello.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-192">Each control exposes a set of properties that can influence the visual appearance of the control without completely replacing the template.</span></span> <span data-ttu-id="b5ff4-193">Si consideri, ad esempio, l'aspetto visivo predefinito di un controllo <xref:System.Windows.Controls.Primitives.Thumb>, che è un componente di un <xref:System.Windows.Controls.Primitives.ScrollBar>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-193">For example, consider the default visual appearance of a <xref:System.Windows.Controls.Primitives.Thumb> control, which is a component of a <xref:System.Windows.Controls.Primitives.ScrollBar>.</span></span>  
  
 <span data-ttu-id="b5ff4-194">Una <xref:System.Windows.Controls.Primitives.Thumb> dispone di determinate proprietà personalizzabili.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-194">A <xref:System.Windows.Controls.Primitives.Thumb> has certain customizable properties.</span></span> <span data-ttu-id="b5ff4-195">Il modello predefinito di un <xref:System.Windows.Controls.Primitives.Thumb> crea una struttura di base/struttura ad albero visuale con diversi componenti <xref:System.Windows.Controls.Border> annidati per creare un aspetto smussato.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-195">The default template of a <xref:System.Windows.Controls.Primitives.Thumb> creates a basic structure / visual tree with several nested <xref:System.Windows.Controls.Border> components to create a bevel look.</span></span> <span data-ttu-id="b5ff4-196">Se una proprietà che fa parte del modello deve essere esposta per la personalizzazione da parte della classe <xref:System.Windows.Controls.Primitives.Thumb>, tale proprietà deve essere esposta da un oggetto [TemplateBinding](templatebinding-markup-extension.md), all'interno del modello.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-196">If a property that is part of the template is intended to be exposed for customization by the <xref:System.Windows.Controls.Primitives.Thumb> class, then that property must be exposed by a [TemplateBinding](templatebinding-markup-extension.md), within the template.</span></span> <span data-ttu-id="b5ff4-197">Nel caso di <xref:System.Windows.Controls.Primitives.Thumb>, diverse proprietà di questi bordi condividono un'associazione di modelli a proprietà quali <xref:System.Windows.Controls.Border.Background%2A> o <xref:System.Windows.Controls.Border.BorderThickness%2A>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-197">In the case of <xref:System.Windows.Controls.Primitives.Thumb>, various properties of these borders share a template binding to properties such as <xref:System.Windows.Controls.Border.Background%2A> or <xref:System.Windows.Controls.Border.BorderThickness%2A>.</span></span> <span data-ttu-id="b5ff4-198">Ma certe altre proprietà o disposizioni visive sono hardcoded nel modello di controllo o sono associate a valori che derivano direttamente dal tema e non possono essere modificate senza sostituire l'intero modello.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-198">But certain other properties or visual arrangements are hard-coded into the control template or are bound to values that come directly from the theme, and cannot be changed short of replacing the entire template.</span></span> <span data-ttu-id="b5ff4-199">Generalmente, se una proprietà deriva da un elemento padre basato su modelli e non viene esposta da un'associazione di modelli, non può essere regolata dagli stili poiché non esiste un modo semplice per fare riferimento ad essa.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-199">Generally, if a property comes from a templated parent and is not exposed by a template binding, it cannot be adjusted by styles because there is no easy way to target it.</span></span> <span data-ttu-id="b5ff4-200">Ma tale proprietà potrebbe essere ancora influenzata dall'ereditarietà dei valori della proprietà nel modello applicato oppure dal valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-200">But that property could still be influenced by property value inheritance in the applied template, or by default value.</span></span>  
  
 <span data-ttu-id="b5ff4-201">Gli stili del tema usano un tipo come chiave nelle definizioni.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-201">The theme styles use a type as the key in their definitions.</span></span> <span data-ttu-id="b5ff4-202">Tuttavia, quando i temi vengono applicati a una determinata istanza dell'elemento, la ricerca dei temi per questo tipo viene eseguita controllando la proprietà <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> su un controllo.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-202">However, when themes are applied to a given element instance, themes lookup for this type is performed by checking the <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> property on a control.</span></span> <span data-ttu-id="b5ff4-203">Questa operazione è in contrasto con l'uso del tipo letterale, adottato dagli stili impliciti.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-203">This is in contrast to using the literal Type, as implicit styles do.</span></span> <span data-ttu-id="b5ff4-204">Il valore di <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> erediterà le classi derivate anche se l'implementatore non lo ha modificato (il modo previsto per modificare la proprietà non è eseguirne l'override a livello di proprietà, ma per modificare il valore predefinito nei metadati della proprietà).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-204">The value of <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> would inherit to derived classes even if the implementer did not change it (the intended way of changing the property is not to override it at the property level, but to instead change its default value in property metadata).</span></span> <span data-ttu-id="b5ff4-205">Questo riferimento indiretto consente alle classi di base di definire gli stili del tema per gli elementi derivati che non dispongono di un altro stile oppure, in un caso più importante, che non dispongono di un modello all'interno di quello stile e che di conseguenza non avrebbero alcun aspetto visivo predefinito.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-205">This indirection enables base classes to define the theme styles for derived elements that do not otherwise have a style (or more importantly, do not have a template within that style and would thus have no default visual appearance at all).</span></span> <span data-ttu-id="b5ff4-206">Pertanto, è possibile derivare `MyButton` da <xref:System.Windows.Controls.Button> e ottenere comunque il <xref:System.Windows.Controls.Button> modello predefinito.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-206">Thus, you can derive `MyButton` from <xref:System.Windows.Controls.Button> and will still get the <xref:System.Windows.Controls.Button> default template.</span></span> <span data-ttu-id="b5ff4-207">Se si fosse l'autore del controllo di `MyButton` e si volesse un comportamento diverso, era possibile eseguire l'override dei metadati della proprietà di dipendenza per <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> su `MyButton` per restituire una chiave diversa, quindi definire gli stili del tema pertinenti, incluso il modello per `MyButton` che è necessario creare un pacchetto con il controllo `MyButton`.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-207">If you were the control author of `MyButton` and you wanted a different behavior, you could override the dependency property metadata for <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> on `MyButton` to return a different key, and then define the relevant theme styles including template for `MyButton` that you must package with your `MyButton` control.</span></span> <span data-ttu-id="b5ff4-208">Per altri dettagli su temi, stili e creazione di controlli, vedere [Cenni preliminari sulla modifica di controlli](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-208">For more details on themes, styles, and control authoring, see [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>  
  
<a name="resources"></a>   
## <a name="dynamic-resource-references-and-binding"></a><span data-ttu-id="b5ff4-209">Riferimenti e associazione di risorse dinamiche</span><span class="sxs-lookup"><span data-stu-id="b5ff4-209">Dynamic Resource References and Binding</span></span>  
 <span data-ttu-id="b5ff4-210">I riferimenti alle risorse dinamiche e le operazioni di associazione rispettano la precedenza della posizione su cui sono impostati.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-210">Dynamic resource references and binding operations respect the precedence of the location at which they are set.</span></span> <span data-ttu-id="b5ff4-211">Ad esempio, una risorsa dinamica applicata a un valore locale agisce in base all'elemento di precedenza 3, a un'associazione per un setter di proprietà all'interno di un stile del tema viene applicato un elemento di precedenza 9 e così via.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-211">For example, a dynamic resource applied to a local value acts per precedence item 3, a binding for a property setter within a theme style applies at precedence item 9, and so on.</span></span> <span data-ttu-id="b5ff4-212">Dato che i riferimenti e l'associazione per le risorse dinamiche devono essere in grado di ottenere valori dallo stato della fase di esecuzione dell'applicazione, ciò comporta che anche il processo effettivo di determinazione della precedenza del valore di proprietà per qualsiasi proprietà specificata si estende nella fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-212">Because dynamic resource references and binding must both be able to obtain values from the run time state of the application, this entails that the actual process of determining the property value precedence for any given property extends into the run time as well.</span></span>  
  
 <span data-ttu-id="b5ff4-213">I riferimenti alle risorse dinamiche non fanno parte in senso stretto del sistema di proprietà, ma hanno un proprio ordine di ricerca che interagisce con la sequenza elencata in precedenza.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-213">Dynamic resource references are not strictly speaking part of the property system, but they do have a lookup order of their own which interacts with the sequence listed above.</span></span> <span data-ttu-id="b5ff4-214">Tale precedenza è documentata più approfonditamente in [Risorse XAML](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-214">That precedence is documented more thoroughly in the [XAML Resources](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span></span> <span data-ttu-id="b5ff4-215">La somma di base di tale precedenza è: elemento alla radice della pagina, applicazione, tema, sistema.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-215">The basic summation of that precedence is: element to page root, application, theme, system.</span></span>  
  
 <span data-ttu-id="b5ff4-216">Le risorse dinamiche e le associazioni hanno la precedenza relativamente a dove sono state impostate, ma il valore viene rinviato.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-216">Dynamic resources and bindings have the precedence of where they were set, but the value is deferred.</span></span> <span data-ttu-id="b5ff4-217">Una conseguenza di ciò è che, se si imposta una risorsa dinamica o un'associazione su un valore locale, qualsiasi modifica al valore locale sostituisce completamente la risorsa dinamica o l'associazione.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-217">One consequence of this is that if you set a dynamic resource or binding to a local value, any change to the local value replaces the dynamic resource or binding entirely.</span></span> <span data-ttu-id="b5ff4-218">Anche se si chiama il metodo <xref:System.Windows.DependencyObject.ClearValue%2A> per cancellare il valore impostato localmente, la risorsa dinamica o l'associazione non verrà ripristinata.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-218">Even if you call the <xref:System.Windows.DependencyObject.ClearValue%2A> method to clear the locally set value, the dynamic resource or binding will not be restored.</span></span> <span data-ttu-id="b5ff4-219">Infatti, se si chiama <xref:System.Windows.DependencyObject.ClearValue%2A> su una proprietà con una risorsa dinamica o un'associazione sul posto (senza valore locale letterale), vengono cancellate anche dalla chiamata <xref:System.Windows.DependencyObject.ClearValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-219">In fact, if you call <xref:System.Windows.DependencyObject.ClearValue%2A> on a property that has a dynamic resource or binding in place (with no literal local value), they are cleared by the <xref:System.Windows.DependencyObject.ClearValue%2A> call too.</span></span>  
  
<a name="setcurrentvalue"></a>   
## <a name="setcurrentvalue"></a><span data-ttu-id="b5ff4-220">SetCurrentValue</span><span class="sxs-lookup"><span data-stu-id="b5ff4-220">SetCurrentValue</span></span>  
 <span data-ttu-id="b5ff4-221">Il metodo <xref:System.Windows.DependencyObject.SetCurrentValue%2A> è un altro modo per impostare una proprietà, ma non è in ordine di precedenza.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-221">The <xref:System.Windows.DependencyObject.SetCurrentValue%2A> method is another way to set a property, but it is not in the order of precedence.</span></span> <span data-ttu-id="b5ff4-222"><xref:System.Windows.DependencyObject.SetCurrentValue%2A> consente invece di modificare il valore di una proprietà senza sovrascrivere l'origine di un valore precedente.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-222">Instead, <xref:System.Windows.DependencyObject.SetCurrentValue%2A> enables you to change the value of a property without overwriting the source of a previous value.</span></span> <span data-ttu-id="b5ff4-223">È possibile utilizzare <xref:System.Windows.DependencyObject.SetCurrentValue%2A> ogni volta che si desidera impostare un valore senza assegnare tale valore alla precedenza di un valore locale.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-223">You can use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> any time that you want to set a value without giving that value the precedence of a local value.</span></span> <span data-ttu-id="b5ff4-224">Se, ad esempio, una proprietà viene impostata da un trigger e quindi viene assegnato un altro valore tramite <xref:System.Windows.DependencyObject.SetCurrentValue%2A>, il sistema di proprietà rispetta il trigger e la proprietà verrà modificata se si verifica l'azione del trigger.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-224">For example, if a property is set by a trigger and then assigned another value via <xref:System.Windows.DependencyObject.SetCurrentValue%2A>, the property system still respects the trigger and the property will change if the trigger’s action occurs.</span></span> <span data-ttu-id="b5ff4-225"><xref:System.Windows.DependencyObject.SetCurrentValue%2A> consente di modificare il valore della proprietà senza assegnarle un'origine con precedenza maggiore.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-225"><xref:System.Windows.DependencyObject.SetCurrentValue%2A> enables you to change the property’s value without giving it a source with a higher precedence.</span></span> <span data-ttu-id="b5ff4-226">Analogamente, è possibile utilizzare <xref:System.Windows.DependencyObject.SetCurrentValue%2A> per modificare il valore di una proprietà senza sovrascrivere un'associazione.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-226">Likewise, you can use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> to change the value of a property without overwriting a binding.</span></span>  
  
<a name="animations"></a>   
## <a name="coercion-animations-and-base-value"></a><span data-ttu-id="b5ff4-227">Coercizione, animazioni e valore di base</span><span class="sxs-lookup"><span data-stu-id="b5ff4-227">Coercion, Animations, and Base Value</span></span>  
 <span data-ttu-id="b5ff4-228">La coercizione e l'animazione agiscono entrambi su un valore definito come "valore di base" in tutto questo SDK.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-228">Coercion and animation both act on a value that is termed as the "base value" throughout this SDK.</span></span> <span data-ttu-id="b5ff4-229">Di conseguenza, il valore di base è un qualsiasi valore determinato tramite la valutazione verso l'alto negli elementi fino a raggiungere l'elemento 2.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-229">The base value is thus whatever value is determined through evaluating upwards in the items until item 2 is reached.</span></span>  
  
 <span data-ttu-id="b5ff4-230">Per un'animazione, il valore di base può avere un effetto sul valore animato, se quell'animazione non specifica le impostazioni "From" e "To" per determinati comportamenti o se l'animazione ripristina intenzionalmente il valore di base quando viene completata.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-230">For an animation, the base value can have an effect on the animated value, if that animation does not specify both "From" and "To" for certain behaviors, or if the animation deliberately reverts to the base value when completed.</span></span> <span data-ttu-id="b5ff4-231">Per osservare questo comportamento nella pratica, eseguire l'[Esempio valori di destinazione dell'animazione From/To/By](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/TargetValues).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-231">To see this in practice, run the [From, To, and By Animation Target Values Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/TargetValues).</span></span> <span data-ttu-id="b5ff4-232">Tentare di impostare i valori locali dell'altezza del rettangolo nell'esempio, in modo che il valore locale iniziale sia diverso da qualsiasi impostazione "From" nell'animazione.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-232">Try setting the local values of the rectangle height in the example, such that the initial local value differs from any "From" in the animation.</span></span> <span data-ttu-id="b5ff4-233">Si noterà che le animazioni iniziano immediatamente usando i valori "From" valori e sostituiscono il valore di base una volta avviate.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-233">You will note that the animations start right away using the "From" values and replace the base value once started.</span></span> <span data-ttu-id="b5ff4-234">L'animazione potrebbe specificare per tornare al valore trovato prima dell'animazione dopo che è stato completato specificando l'<xref:System.Windows.Media.Animation.FillBehavior>stop.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-234">The animation might specify to return to the value found before animation once it is completed by specifying the Stop <xref:System.Windows.Media.Animation.FillBehavior>.</span></span> <span data-ttu-id="b5ff4-235">In seguito, verrà usata la precedenza normale per la determinazione del valore di base.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-235">Afterwards, normal precedence is used for the base value determination.</span></span>  
  
 <span data-ttu-id="b5ff4-236">Possono essere applicate più animazioni a una sola proprietà, ognuna delle quali definita da punti diversi nella precedenza dei valori.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-236">Multiple animations might be applied to a single property, with each of these animations possibly having been defined from different points in the value precedence.</span></span> <span data-ttu-id="b5ff4-237">Tuttavia, queste animazioni comporranno i relativi valori, piuttosto che applicare semplicemente l'animazione dalla precedenza più elevata.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-237">However, these animations will potentially composite their values, rather than just applying the animation from the higher precedence.</span></span> <span data-ttu-id="b5ff4-238">Ciò dipende dal modo preciso in cui sono definite le animazioni e dal tipo del valore che viene animato.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-238">This depends on exactly how the animations are defined, and the type of the value that is being animated.</span></span> <span data-ttu-id="b5ff4-239">Per altre informazioni sull'animazione di proprietà, vedere [Cenni preliminari sull'animazione](../graphics-multimedia/animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-239">For more information about animating properties, see [Animation Overview](../graphics-multimedia/animation-overview.md).</span></span>  
  
 <span data-ttu-id="b5ff4-240">La coercizione si applica al livello più elevato in assoluto.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-240">Coercion applies at the highest level of all.</span></span> <span data-ttu-id="b5ff4-241">Anche un'animazione già in esecuzione è soggetta alla coercizione del valore.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-241">Even an already running animation is subject to value coercion.</span></span> <span data-ttu-id="b5ff4-242">Alcune proprietà di dipendenza esistenti in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dispongono di una coercizione incorporata.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-242">Certain existing dependency properties in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] have built-in coercion.</span></span> <span data-ttu-id="b5ff4-243">Per una proprietà di dipendenza personalizzata, si definisce il comportamento di coercizione per una proprietà di dipendenza personalizzata scrivendo un <xref:System.Windows.CoerceValueCallback> e passando il callback come parte dei metadati quando si crea la proprietà.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-243">For a custom dependency property, you define the coercion behavior for a custom dependency property by writing a <xref:System.Windows.CoerceValueCallback> and passing the callback as part of metadata when you create the property.</span></span> <span data-ttu-id="b5ff4-244">È anche possibile eseguire l'override del comportamento di coercizione di proprietà esistenti eseguendo l'override dei metadati di quella proprietà in una classe derivata.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-244">You can also override coercion behavior of existing properties by overriding the metadata on that property in a derived class.</span></span> <span data-ttu-id="b5ff4-245">La coercizione interagisce con il valore di base in modo tale che i vincoli di coercizione vengano applicati come i vincoli esistenti in quel momento, mantenendo tuttavia il valore di base.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-245">Coercion interacts with the base value in such a way that the constraints on coercion are applied as those constraints exist at the time, but the base value is still retained.</span></span> <span data-ttu-id="b5ff4-246">Pertanto, se i vincoli nella coercizione vengono rimossi in un secondo momento, la coercizione restituirà il valore più vicino possibile a quel valore di base e l'influenza della coercizione su una proprietà cesserà potenzialmente appena vengono rimossi tutti i vincoli.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-246">Therefore, if constraints in coercion are later lifted, the coercion will return the closest value possible to that base value, and potentially the coercion influence on a property will cease as soon as all constraints are lifted.</span></span> <span data-ttu-id="b5ff4-247">Per altre informazioni sul comportamento di coercizione, vedere [Callback e convalida delle proprietà di dipendenza](dependency-property-callbacks-and-validation.md).</span><span class="sxs-lookup"><span data-stu-id="b5ff4-247">For more information about coercion behavior, see [Dependency Property Callbacks and Validation](dependency-property-callbacks-and-validation.md).</span></span>  
  
<a name="triggers"></a>   
## <a name="trigger-behaviors"></a><span data-ttu-id="b5ff4-248">Comportamenti dei trigger</span><span class="sxs-lookup"><span data-stu-id="b5ff4-248">Trigger Behaviors</span></span>  
 <span data-ttu-id="b5ff4-249">I controlli spesso definiscono i comportamenti dei trigger come parte dello stile predefinito nei temi.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-249">Controls often define trigger behaviors as part of their default style in themes.</span></span> <span data-ttu-id="b5ff4-250">L'impostazione di proprietà locali sui controlli può impedire ai trigger di essere in grado di rispondere agli eventi generati dagli utenti sia da un punto di vista visivo sia da un punto di vista di comportamento.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-250">Setting local properties on controls might prevent the triggers from being able to respond to user-driven events either visually or behaviorally.</span></span> <span data-ttu-id="b5ff4-251">L'uso più comune di un trigger di proprietà è per le proprietà di controllo o di stato, ad esempio <xref:System.Windows.Controls.Primitives.Selector.IsSelected%2A>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-251">The most common use of a property trigger is for control or state properties such as <xref:System.Windows.Controls.Primitives.Selector.IsSelected%2A>.</span></span> <span data-ttu-id="b5ff4-252">Per impostazione predefinita, ad esempio, quando un <xref:System.Windows.Controls.Button> è disabilitato (il trigger per <xref:System.Windows.UIElement.IsEnabled%2A> è `false`), il valore di <xref:System.Windows.Controls.Control.Foreground%2A> nello stile del tema è quello che fa sì che il controllo venga visualizzato in grigio.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-252">For example, by default when a <xref:System.Windows.Controls.Button> is disabled (trigger for <xref:System.Windows.UIElement.IsEnabled%2A> is `false`) then the <xref:System.Windows.Controls.Control.Foreground%2A> value in the theme style is what causes the control to appear "grayed out".</span></span> <span data-ttu-id="b5ff4-253">Tuttavia, se è stato impostato un valore di <xref:System.Windows.Controls.Control.Foreground%2A> locale, il normale colore grigio viene sovraregolato in base alla priorità del set di proprietà locali, anche in questo scenario attivato dalla proprietà.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-253">But if you have set a local <xref:System.Windows.Controls.Control.Foreground%2A> value, that normal gray-out color will be overruled in precedence by your local property set, even in this property-triggered scenario.</span></span> <span data-ttu-id="b5ff4-254">Prestare attenzione nell'impostazione di valori per proprietà che presentano comportamenti di trigger a livello di tema e accertarsi di non interferire impropriamente con l'esperienza utente prevista per quel controllo.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-254">Be cautious of setting values for properties that have theme-level trigger behaviors and make sure you are not unduly interfering with the intended user experience for that control.</span></span>  
  
<a name="clearvalue"></a>   
## <a name="clearvalue-and-value-precedence"></a><span data-ttu-id="b5ff4-255">ClearValue e precedenza dei valori</span><span class="sxs-lookup"><span data-stu-id="b5ff4-255">ClearValue and Value Precedence</span></span>  
 <span data-ttu-id="b5ff4-256">Il metodo <xref:System.Windows.DependencyObject.ClearValue%2A> fornisce un espediente per cancellare qualsiasi valore applicato localmente da una proprietà di dipendenza impostata su un elemento.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-256">The <xref:System.Windows.DependencyObject.ClearValue%2A> method provides an expedient means to clear any locally applied value from a dependency property that is set on an element.</span></span> <span data-ttu-id="b5ff4-257">Tuttavia, la chiamata di <xref:System.Windows.DependencyObject.ClearValue%2A> non garantisce che l'impostazione predefinita, come stabilito nei metadati durante la registrazione della proprietà, sia il nuovo valore effettivo.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-257">However, calling <xref:System.Windows.DependencyObject.ClearValue%2A> is not a guarantee that the default as established in metadata during property registration is the new effective value.</span></span> <span data-ttu-id="b5ff4-258">Tutti gli altri partecipanti nella precedenza dei valori sono ancora attivi.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-258">All of the other participants in value precedence are still active.</span></span> <span data-ttu-id="b5ff4-259">Solo il valore impostato localmente è stato rimosso dalla sequenza di precedenza.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-259">Only the locally set value has been removed from the precedence sequence.</span></span> <span data-ttu-id="b5ff4-260">Se ad esempio si chiama <xref:System.Windows.DependencyObject.ClearValue%2A> su una proprietà in cui tale proprietà viene impostata anche da uno stile del tema, il valore del tema viene applicato come nuovo valore anziché come predefinito basato sui metadati.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-260">For example, if you call <xref:System.Windows.DependencyObject.ClearValue%2A> on a property where that property is also set by a theme style, then the theme value is applied as the new value rather than the metadata-based default.</span></span> <span data-ttu-id="b5ff4-261">Se si desidera che tutti i partecipanti del valore della proprietà vengano esclusi dal processo e il valore venga impostato sull'impostazione predefinita dei metadati registrati, è possibile ottenere tale valore predefinito eseguendo una query sui metadati della proprietà di dipendenza, quindi è possibile utilizzare il valore predefinito per impostare localmente la proprietà con una chiamata a <xref:System.Windows.DependencyObject.SetValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="b5ff4-261">If you want to take all property value participants out of the process and set the value to the registered metadata default, you can obtain that default value definitively by querying the dependency property metadata, and then you can use the default value to locally set the property with a call to <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b5ff4-262">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="b5ff4-262">See also</span></span>

- <xref:System.Windows.DependencyObject>
- <xref:System.Windows.DependencyProperty>
- [<span data-ttu-id="b5ff4-263">Cenni preliminari sulle proprietà di dipendenza</span><span class="sxs-lookup"><span data-stu-id="b5ff4-263">Dependency Properties Overview</span></span>](dependency-properties-overview.md)
- [<span data-ttu-id="b5ff4-264">Proprietà di dipendenza personalizzate</span><span class="sxs-lookup"><span data-stu-id="b5ff4-264">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
- [<span data-ttu-id="b5ff4-265">Callback e convalida delle proprietà di dipendenza</span><span class="sxs-lookup"><span data-stu-id="b5ff4-265">Dependency Property Callbacks and Validation</span></span>](dependency-property-callbacks-and-validation.md)
