---
title: Sicurezza delle proprietà di dipendenza
ms.date: 03/30/2017
helpviewer_keywords:
- wrappers [WPF], access
- wrappers [WPF], security
- dependency properties [WPF], security
- security [WPF], wrappers
- validation [WPF], dependency properties
- dependency properties [WPF], access
- security [WPF], dependency properties
ms.assetid: d10150ec-90c5-4571-8d35-84bafa2429a4
ms.openlocfilehash: f5640b348ccd68819052f58756489489371862d0
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/12/2020
ms.locfileid: "79186387"
---
# <a name="dependency-property-security"></a><span data-ttu-id="51c54-102">Sicurezza delle proprietà di dipendenza</span><span class="sxs-lookup"><span data-stu-id="51c54-102">Dependency Property Security</span></span>
<span data-ttu-id="51c54-103">Le proprietà di dipendenza in genere devono essere considerate come proprietà pubbliche.</span><span class="sxs-lookup"><span data-stu-id="51c54-103">Dependency properties should generally be considered to be public properties.</span></span> <span data-ttu-id="51c54-104">A causa della natura stessa del sistema di proprietà di [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], è impossibile avere delle garanzie di sicurezza sul valore di una proprietà di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="51c54-104">The nature of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system prevents the ability to make security guarantees about a dependency property value.</span></span>  

<a name="AccessSecurity"></a>
## <a name="access-and-security-of-wrappers-and-dependency-properties"></a><span data-ttu-id="51c54-105">Accesso e sicurezza delle proprietà wrapper e di dipendenza</span><span class="sxs-lookup"><span data-stu-id="51c54-105">Access and Security of Wrappers and Dependency Properties</span></span>  
 <span data-ttu-id="51c54-106">In genere, le proprietà di dipendenza vengono implementate insieme alle proprietà di Common Language Runtime (CLR) "wrapper" che semplificano il recupero o l'impostazione della proprietà da un'istanza.</span><span class="sxs-lookup"><span data-stu-id="51c54-106">Typically, dependency properties are implemented along with "wrapper" common language runtime (CLR) properties that simplify getting or setting the property from an instance.</span></span> <span data-ttu-id="51c54-107">Ma i wrapper sono in realtà solo <xref:System.Windows.DependencyObject.GetValue%2A> <xref:System.Windows.DependencyObject.SetValue%2A> metodi pratici che implementano le chiamate sottostanti e statiche che vengono utilizzate quando si interagisce con le proprietà di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="51c54-107">But the wrappers are really just convenience methods that implement the underlying <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> static calls that are used when interacting with dependency properties.</span></span> <span data-ttu-id="51c54-108">Pensando in un altro modo, le proprietà vengono esposte come proprietà CLR (Common Language Runtime) supportate da una proprietà di dipendenza anziché da un campo privato.</span><span class="sxs-lookup"><span data-stu-id="51c54-108">Thinking of it in another way, the properties are exposed as common language runtime (CLR) properties that happen to be backed by a dependency property rather than by a private field.</span></span> <span data-ttu-id="51c54-109">I meccanismi di sicurezza applicati ai wrapper non sono paralleli al comportamento del sistema di proprietà e all'accesso della proprietà di dipendenza sottostante.</span><span class="sxs-lookup"><span data-stu-id="51c54-109">Security mechanisms applied to the wrappers do not parallel the property system behavior and access of the underlying dependency property.</span></span> <span data-ttu-id="51c54-110">L'inserimento di una richiesta di sicurezza nel wrapper impedirà <xref:System.Windows.DependencyObject.GetValue%2A> solo <xref:System.Windows.DependencyObject.SetValue%2A>l'utilizzo del metodo di convenienza, ma non impedirà le chiamate a o .</span><span class="sxs-lookup"><span data-stu-id="51c54-110">Placing a security demand on the wrapper will only prevent the usage of the convenience method but will not prevent calls to <xref:System.Windows.DependencyObject.GetValue%2A> or <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span> <span data-ttu-id="51c54-111">Analogamente, inserendo un livello di accesso protetto o privato sui wrapper non viene garantita alcuna sicurezza effettiva.</span><span class="sxs-lookup"><span data-stu-id="51c54-111">Similarly, placing protected or private access level on the wrappers does not provide any effective security.</span></span>  
  
 <span data-ttu-id="51c54-112">Se si scrivono proprietà di dipendenza personalizzate, è <xref:System.Windows.DependencyProperty> necessario dichiarare i wrapper e il campo dell'identificatore come membri pubblici, in modo che i chiamanti non otziano informazioni fuorvianti sul livello di accesso reale di tale proprietà (a causa dell'implementazione dell'archivio come proprietà di dipendenza).</span><span class="sxs-lookup"><span data-stu-id="51c54-112">If you are writing your own dependency properties, you should declare the wrappers and the <xref:System.Windows.DependencyProperty> identifier field as public members, so that callers do not get misleading information about the true access level of that property (because of its store being implemented as a dependency property).</span></span>  
  
 <span data-ttu-id="51c54-113">Per una proprietà di dipendenza personalizzata, è possibile registrare la proprietà come proprietà di dipendenza di sola lettura e ciò fornisce <xref:System.Windows.DependencyPropertyKey> un mezzo efficace per impedire che una proprietà venga impostata da chiunque non contenga un riferimento a tale proprietà.</span><span class="sxs-lookup"><span data-stu-id="51c54-113">For a custom dependency property, you can register your property as a read-only dependency property, and this does provide an effective means of preventing a property being set by anyone that does not hold a reference to the <xref:System.Windows.DependencyPropertyKey> for that property.</span></span> <span data-ttu-id="51c54-114">Per altre informazioni, vedere [Proprietà di dipendenza di sola lettura](read-only-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="51c54-114">For more information, see [Read-Only Dependency Properties](read-only-dependency-properties.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="51c54-115">Dichiarare un <xref:System.Windows.DependencyProperty> campo identificatore privato non è vietato e può essere utilizzato per ridurre lo spazio dei nomi immediatamente esposto di una classe personalizzata, ma tale proprietà non deve essere considerata "privata" nello stesso senso delle definizioni di linguaggio CLR (Common Language Runtime) che definiscono tale livello di accesso, per i motivi descritti nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="51c54-115">Declaring a <xref:System.Windows.DependencyProperty> identifier field private is not forbidden, and it can conceivably be used to help reduce the immediately exposed namespace of a custom class, but such a property should not be considered "private" in the same sense as the common language runtime (CLR) language definitions define that access level, for reasons described in the next section.</span></span>  
  
<a name="PropertySystemExposure"></a>
## <a name="property-system-exposure-of-dependency-properties"></a><span data-ttu-id="51c54-116">Esposizione di proprietà di dipendenza del sistema di proprietà</span><span class="sxs-lookup"><span data-stu-id="51c54-116">Property System Exposure of Dependency Properties</span></span>  
 <span data-ttu-id="51c54-117">Non è generalmente utile, ed è potenzialmente <xref:System.Windows.DependencyProperty> fuorviante, dichiarare un livello di accesso diverso da quello pubblico.</span><span class="sxs-lookup"><span data-stu-id="51c54-117">It is not generally useful, and it is potentially misleading, to declare a <xref:System.Windows.DependencyProperty> as any access level other than public.</span></span> <span data-ttu-id="51c54-118">L'impostazione di questo livello di accesso impedisce solo che qualcuno possa ottenere un riferimento all'istanza dalla classe dichiarante.</span><span class="sxs-lookup"><span data-stu-id="51c54-118">That access level setting only prevents someone from being able to get a reference to the instance from the declaring class.</span></span> <span data-ttu-id="51c54-119">Esistono tuttavia diversi aspetti del sistema di <xref:System.Windows.DependencyProperty> proprietà che restituiranno un come mezzo per identificare una particolare proprietà come esiste in un'istanza di una classe o di un'istanza di una classe derivata e questo identificatore è ancora utilizzabile in una <xref:System.Windows.DependencyObject.SetValue%2A> chiamata anche se l'identificatore statico originale viene dichiarato come non pubblico.</span><span class="sxs-lookup"><span data-stu-id="51c54-119">But there are several aspects of the property system that will return a <xref:System.Windows.DependencyProperty> as the means of identifying a particular property as it exists on an instance of a class or a derived class instance, and this identifier is still usable in a <xref:System.Windows.DependencyObject.SetValue%2A> call even if the original static identifier is declared as nonpublic.</span></span> <span data-ttu-id="51c54-120">Inoltre, <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> i metodi virtuali ricevono informazioni su qualsiasi proprietà di dipendenza esistente che ha modificato il valore.</span><span class="sxs-lookup"><span data-stu-id="51c54-120">Also, <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> virtual methods receive information of any existing dependency property that changed value.</span></span> <span data-ttu-id="51c54-121">Inoltre, il <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> metodo restituisce gli identificatori per qualsiasi proprietà nelle istanze con un valore impostato localmente.</span><span class="sxs-lookup"><span data-stu-id="51c54-121">In addition, the <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> method returns identifiers for any property on instances with a locally set value.</span></span>  
  
### <a name="validation-and-security"></a><span data-ttu-id="51c54-122">Convalida e sicurezza</span><span class="sxs-lookup"><span data-stu-id="51c54-122">Validation and Security</span></span>  
 <span data-ttu-id="51c54-123">L'applicazione di <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> una richiesta a un oggetto e la attesa dell'errore di convalida in caso di errore della richiesta per impedire l'impostazione di una proprietà non è un meccanismo di sicurezza adeguato.</span><span class="sxs-lookup"><span data-stu-id="51c54-123">Applying a demand to a <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> and expecting the validation failure on a demand failure to prevent a property from being set is not an adequate security mechanism.</span></span> <span data-ttu-id="51c54-124">L'invalidazione del valore <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> impostato applicata tramite potrebbe anche essere eliminata da chiamanti malintenzionati, se tali chiamanti operano all'interno del dominio applicazione.</span><span class="sxs-lookup"><span data-stu-id="51c54-124">Set-value invalidation enforced through <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> could also be suppressed by malicious callers, if those callers are operating within the application domain.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="51c54-125">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="51c54-125">See also</span></span>

- [<span data-ttu-id="51c54-126">Proprietà di dipendenza personalizzate</span><span class="sxs-lookup"><span data-stu-id="51c54-126">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
