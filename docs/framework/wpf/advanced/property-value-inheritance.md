---
title: Ereditarietà del valore della proprietà
ms.date: 03/30/2017
helpviewer_keywords:
- inheritance [WPF], property values
- value inheritance [WPF]
- properties [WPF], value inheritance
ms.assetid: d7c338f9-f2bf-48ed-832c-7be58ac390e4
ms.openlocfilehash: b63f307d9edffd14315d383d8e06419fa141aee1
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/12/2020
ms.locfileid: "79187197"
---
# <a name="property-value-inheritance"></a><span data-ttu-id="6b795-102">Ereditarietà del valore della proprietà</span><span class="sxs-lookup"><span data-stu-id="6b795-102">Property Value Inheritance</span></span>
<span data-ttu-id="6b795-103">L'ereditarietà del valore della proprietà è una funzionalità del sistema di proprietà [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6b795-103">Property value inheritance is a feature of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system.</span></span> <span data-ttu-id="6b795-104">L'ereditarietà del valore della proprietà consente agli elementi figlio in un albero di elementi di ottenere il valore di una determinata proprietà dagli elementi padre, ereditando tale valore con le impostazioni specificate in un punto qualsiasi dell'elemento padre più vicino.</span><span class="sxs-lookup"><span data-stu-id="6b795-104">Property value inheritance enables child elements in a tree of elements to obtain the value of a particular property from parent elements, inheriting that value as it was set anywhere in the nearest parent element.</span></span> <span data-ttu-id="6b795-105">Anche l'elemento padre potrebbe aver ottenuto il valore tramite l'ereditarietà del valore della proprietà, pertanto il sistema potrebbe procedere in modo ricorsivo fino alla radice della pagina.</span><span class="sxs-lookup"><span data-stu-id="6b795-105">The parent element might also have obtained its value through property value inheritance, so the system potentially recurses all the way to the page root.</span></span> <span data-ttu-id="6b795-106">L'ereditarietà del valore della proprietà non è il comportamento predefinito del sistema di proprietà. È necessario stabilire una particolare impostazione dei metadati di una proprietà per fare in modo che quest'ultima attivi l'ereditarietà del valore per gli elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="6b795-106">Property value inheritance is not the default property system behavior; a property must be established with a particular metadata setting in order to cause that property to initiate property value inheritance on child elements.</span></span>  

<a name="Property_Value_Inheritance_is_Containment_Inheritance"></a>
## <a name="property-value-inheritance-is-containment-inheritance"></a><span data-ttu-id="6b795-107">L'ereditarietà del valore della proprietà è un'ereditarietà di contenimento</span><span class="sxs-lookup"><span data-stu-id="6b795-107">Property Value Inheritance Is Containment Inheritance</span></span>  
 <span data-ttu-id="6b795-108">Il termine "ereditarietà" usato in questa sede non coincide perfettamente con il concetto di ereditarietà nel contesto dei tipi e in generale della programmazione orientata a oggetti, in cui le classi derivate ereditano le definizioni dei membri dalle rispettive classi di base.</span><span class="sxs-lookup"><span data-stu-id="6b795-108">"Inheritance" as a term here is not quite the same concept as inheritance in the context of types and general object-oriented programming, where derived classes inherit member definitions from their base classes.</span></span> <span data-ttu-id="6b795-109">Questo significato di ereditarietà è valido anche in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: le proprietà definite nelle varie classi di base sono esposte come attributi per le classi [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] derivate, se usate come elementi ed esposte come membri per il codice.</span><span class="sxs-lookup"><span data-stu-id="6b795-109">That meaning of inheritance is also active in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: properties defined in various base classes are exposed as attributes for derived [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] classes when used as elements, and exposed as members for code.</span></span> <span data-ttu-id="6b795-110">L'ereditarietà del valore della proprietà riguarda in particolare il modo in cui i valori delle proprietà possono ereditare da un elemento a un altro in base alle relazioni padre-figlio all'interno di un albero di elementi.</span><span class="sxs-lookup"><span data-stu-id="6b795-110">Property value inheritance is particularly about how property values can inherit from one element to another on the basis of the parent-child relationships within a tree of elements.</span></span> <span data-ttu-id="6b795-111">L'albero di elementi è visibile più direttamente quando si annidano elementi all'interno di altri elementi in fase di definizione delle applicazioni nel markup [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6b795-111">That tree of elements is most directly visible when nesting elements inside other elements as you define applications in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] markup.</span></span> <span data-ttu-id="6b795-112">Gli alberi di oggetti possono essere creati anche a livello di codice, aggiungendo oggetti a raccolte designate di altri oggetti. In questo caso la modalità di funzionamento dell'ereditarietà del valore della proprietà sarà la stessa nell'albero completato in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="6b795-112">Trees of objects can also be created programmatically by adding objects to designated collections of other objects, and property value inheritance works the same way in the finished tree at run time.</span></span>  
  
<a name="Practical_Applications_of_Property_Value_Inheritance"></a>
## <a name="practical-applications-of-property-value-inheritance"></a><span data-ttu-id="6b795-113">Applicazioni pratiche dell'ereditarietà del valore della proprietà</span><span class="sxs-lookup"><span data-stu-id="6b795-113">Practical Applications of Property Value Inheritance</span></span>  
 <span data-ttu-id="6b795-114">Le [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] API includono diverse proprietà con l'ereditarietà delle proprietà abilitata.</span><span class="sxs-lookup"><span data-stu-id="6b795-114">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] APIs include several properties that have property inheritance enabled.</span></span> <span data-ttu-id="6b795-115">In genere, lo scenario per queste proprietà prevede l'uso di una proprietà che possa essere impostata una sola volta per pagina, ma che sia anche un membro di una delle classi dell'elemento di base e quindi esista anche nella maggior parte degli elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="6b795-115">Typically, the scenario for these is that they involve a property where it is appropriate that the property be set only once per page, but where that property is also a member of one of the base element classes and thus would also exist on most of the child elements.</span></span> <span data-ttu-id="6b795-116">Ad esempio, <xref:System.Windows.FrameworkElement.FlowDirection%2A> la proprietà controlla la direzione in cui il contenuto con flusso deve essere presentato e disposto nella pagina.</span><span class="sxs-lookup"><span data-stu-id="6b795-116">For example, the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property controls which direction flowed content should be presented and arranged on the page.</span></span> <span data-ttu-id="6b795-117">Nella maggior parte dei casi si preferisce che il concetto di flusso del testo sia gestito coerentemente in tutti gli elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="6b795-117">Typically, you want the text flow concept to be handled consistently throughout all child elements.</span></span> <span data-ttu-id="6b795-118">Se per qualche motivo la direzione del flusso è stata reimpostata in un livello dell'albero di elementi dall'utente o dall'ambiente, la reimpostazione deve essere in genere eseguita per tutta la struttura.</span><span class="sxs-lookup"><span data-stu-id="6b795-118">If flow direction were for some reason reset in some level of the element tree by user or environment action, it should typically be reset throughout.</span></span> <span data-ttu-id="6b795-119">Quando <xref:System.Windows.FrameworkElement.FlowDirection%2A> la proprietà viene impostata per ereditare, il valore deve essere impostato o reimpostato una sola volta al livello della struttura ad albero dell'elemento che include le esigenze di presentazione di ogni pagina nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6b795-119">When the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property is made to inherit, the value need only be set or reset once at the level in the element tree that encompasses the presentation needs of each page in the application.</span></span> <span data-ttu-id="6b795-120">Anche il valore predefinito iniziale userà l'ereditarietà nello stesso modo.</span><span class="sxs-lookup"><span data-stu-id="6b795-120">Even the initial default value will inherit in this way.</span></span> <span data-ttu-id="6b795-121">Il modello di ereditarietà del valore della proprietà consente in ogni caso ai singoli elementi di reimpostare il valore nelle rare occasioni in cui si sceglie intenzionalmente di usare una combinazione di direzioni di flusso.</span><span class="sxs-lookup"><span data-stu-id="6b795-121">The property value inheritance model still enables individual elements to reset the value for the rare cases where having a mix of flow directions is intentional.</span></span>  
  
<a name="Making_a_Custom_Property_Inheritable"></a>
## <a name="making-a-custom-property-inheritable"></a><span data-ttu-id="6b795-122">Rendere ereditabile una proprietà personalizzata</span><span class="sxs-lookup"><span data-stu-id="6b795-122">Making a Custom Property Inheritable</span></span>  
 <span data-ttu-id="6b795-123">Modificando i metadati di una proprietà personalizzata è possibile rendere ereditabili anche le proprietà di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="6b795-123">By changing a custom property's metadata, you can also make your own custom properties inheritable.</span></span> <span data-ttu-id="6b795-124">Si noti, tuttavia, che quando si definisce una proprietà come ereditabile è necessario fare alcune considerazioni sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="6b795-124">Note, however, that designating a property as inheritable does have some performance considerations.</span></span> <span data-ttu-id="6b795-125">Nei casi in cui quella proprietà non dispone di un valore locale stabilito oppure di un valore ottenuto tramite stili, modelli o data binding, una proprietà ereditabile fornisce i relativi valori di proprietà assegnati a tutti gli elementi figlio dell'albero logico.</span><span class="sxs-lookup"><span data-stu-id="6b795-125">In cases where that property does not have an established local value, or a value obtained through styles, templates, or data binding, an inheritable property provides its assigned property values to all child elements in the logical tree.</span></span>  
  
 <span data-ttu-id="6b795-126">Per fare in modo che una proprietà partecipi all'ereditarietà del valore, creare una proprietà associata personalizzata, come descritto in [Registrare una proprietà associata](how-to-register-an-attached-property.md).</span><span class="sxs-lookup"><span data-stu-id="6b795-126">To make a property participate in value inheritance, create a custom attached property, as described in [Register an Attached Property](how-to-register-an-attached-property.md).</span></span> <span data-ttu-id="6b795-127">Registrare la proprietà<xref:System.Windows.FrameworkPropertyMetadata>con i metadati ( ) e specificare l'opzione "Inherits" nelle impostazioni delle opzioni all'interno di tali metadati.</span><span class="sxs-lookup"><span data-stu-id="6b795-127">Register the property with metadata (<xref:System.Windows.FrameworkPropertyMetadata>) and specify the "Inherits" option in the options settings within that metadata.</span></span> <span data-ttu-id="6b795-128">Verificare quindi che la proprietà abbia un valore predefinito stabilito, perché quel valore sarà ereditato.</span><span class="sxs-lookup"><span data-stu-id="6b795-128">Also make sure that the property has an established default value, because that value will now inherit.</span></span> <span data-ttu-id="6b795-129">Anche se la proprietà è stata registrata come associata, può essere necessario creare un "wrapper" della proprietà per ottenere o impostare l'accesso sul tipo di proprietario, come si farebbe per una proprietà di dipendenza non associata.</span><span class="sxs-lookup"><span data-stu-id="6b795-129">Although you registered the property as attached, you might also want to create a property "wrapper" for get/set access on the owner type, just as you would for an "nonattached" dependency property.</span></span> <span data-ttu-id="6b795-130">Dopo questa operazione, la proprietà ereditabile può essere impostata utilizzando il wrapper diretto della proprietà nel tipo proprietario o <xref:System.Windows.DependencyObject>nei tipi derivati oppure utilizzando la sintassi della proprietà associata in qualsiasi .</span><span class="sxs-lookup"><span data-stu-id="6b795-130">After doing so, the inheritable property can either be set by using the direct property wrapper on the owner type or derived types, or it can be set by using the attached property syntax on any <xref:System.Windows.DependencyObject>.</span></span>  
  
 <span data-ttu-id="6b795-131">Le proprietà associate sono concettualmente simili alle proprietà globali. è possibile controllare il <xref:System.Windows.DependencyObject> valore su qualsiasi e ottenere un risultato valido.</span><span class="sxs-lookup"><span data-stu-id="6b795-131">Attached properties are conceptually similar to global properties; you can check for the value on any <xref:System.Windows.DependencyObject> and get a valid result.</span></span> <span data-ttu-id="6b795-132">Lo scenario tipico per le proprietà associate consiste nell'impostare i valori delle proprietà sugli elementi figlio e tale scenario è più efficace<xref:System.Windows.DependencyObject>se la proprietà in questione è una proprietà associata che è sempre presente in modo implicito come proprietà associata in ogni elemento ( ) nella struttura ad albero.</span><span class="sxs-lookup"><span data-stu-id="6b795-132">The typical scenario for attached properties is to set property values on child elements, and that scenario is more effective if the property in question is an attached property that is always implicitly present as an attached property on each element (<xref:System.Windows.DependencyObject>) in the tree.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="6b795-133">Anche se può sembrare che l'ereditarietà del valore della proprietà funzioni per le proprietà di dipendenza non associate, il comportamento di ereditarietà per una proprietà non associata tramite certi limiti di elementi nell'albero della fase di esecuzione non è definito.</span><span class="sxs-lookup"><span data-stu-id="6b795-133">Although property value inheritance might appear to work for nonattached dependency properties, the inheritance behavior for a nonattached property through certain element boundaries in the run-time tree is undefined.</span></span> <span data-ttu-id="6b795-134">Utilizzare <xref:System.Windows.DependencyProperty.RegisterAttached%2A> sempre per registrare <xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A> le proprietà dove si specifica nei metadati.</span><span class="sxs-lookup"><span data-stu-id="6b795-134">Always use <xref:System.Windows.DependencyProperty.RegisterAttached%2A> to register properties where you specify <xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A> in the metadata.</span></span>  
  
<a name="InheritanceContext"></a>
## <a name="inheriting-property-values-across-tree-boundaries"></a><span data-ttu-id="6b795-135">Eredità dei valori di proprietà attraverso i limiti dell'albero</span><span class="sxs-lookup"><span data-stu-id="6b795-135">Inheriting Property Values Across Tree Boundaries</span></span>  
 <span data-ttu-id="6b795-136">L'ereditarietà delle proprietà funziona mediante il passaggio attraverso un albero di elementi.</span><span class="sxs-lookup"><span data-stu-id="6b795-136">Property inheritance works by traversing a tree of elements.</span></span> <span data-ttu-id="6b795-137">Quest'albero spesso è parallelo all'albero logico.</span><span class="sxs-lookup"><span data-stu-id="6b795-137">This tree is often parallel to the logical tree.</span></span> <span data-ttu-id="6b795-138">Tuttavia, ogni volta che si include un oggetto di livello principale <xref:System.Windows.Media.Brush>WPF nel markup che definisce una struttura ad albero dell'elemento, ad esempio un oggetto , è stato creato un albero logico discontinuo.</span><span class="sxs-lookup"><span data-stu-id="6b795-138">However, whenever you include a WPF core-level object in the markup that defines an element tree, such as a <xref:System.Windows.Media.Brush>, you have created a discontinuous logical tree.</span></span> <span data-ttu-id="6b795-139">Un vero albero logico non si <xref:System.Windows.Media.Brush>estende concettualmente tramite l'oggetto , poiché l'albero logico è un concetto a livello di framework WPF.</span><span class="sxs-lookup"><span data-stu-id="6b795-139">A true logical tree does not conceptually extend through the <xref:System.Windows.Media.Brush>, because the logical tree is a WPF framework-level concept.</span></span> <span data-ttu-id="6b795-140">È possibile vedere questo riflesso nei risultati <xref:System.Windows.LogicalTreeHelper>quando si utilizzano i metodi di .</span><span class="sxs-lookup"><span data-stu-id="6b795-140">You can see this reflected in the results when using the methods of <xref:System.Windows.LogicalTreeHelper>.</span></span> <span data-ttu-id="6b795-141">Tuttavia, l'ereditarietà del valore della proprietà può colmare questa lacuna nell'albero logico e può comunque passare i valori <xref:System.Windows.Controls.Frame>ereditati, purché la proprietà ereditabile sia stata registrata come proprietà associata e non venga rilevato alcun limite di blocco dell'ereditarietà intenzionale (ad esempio un) .</span><span class="sxs-lookup"><span data-stu-id="6b795-141">However, property value inheritance can bridge this gap in the logical tree and can still pass inherited values through, so long as the inheritable property was registered as an attached property and no deliberate inheritance-blocking boundary (such as a <xref:System.Windows.Controls.Frame>) is encountered.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6b795-142">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="6b795-142">See also</span></span>

- [<span data-ttu-id="6b795-143">Metadati della proprietà di dipendenza</span><span class="sxs-lookup"><span data-stu-id="6b795-143">Dependency Property Metadata</span></span>](dependency-property-metadata.md)
- [<span data-ttu-id="6b795-144">Cenni preliminari sulle proprietà associate</span><span class="sxs-lookup"><span data-stu-id="6b795-144">Attached Properties Overview</span></span>](attached-properties-overview.md)
- [<span data-ttu-id="6b795-145">Precedenza del valore della proprietà di dipendenzaDependency Property Value Precedence</span><span class="sxs-lookup"><span data-stu-id="6b795-145">Dependency Property Value Precedence</span></span>](dependency-property-value-precedence.md)
