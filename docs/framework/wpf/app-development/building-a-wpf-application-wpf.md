---
title: Compilazione di un'applicazione WPF (WPF)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WPF application [WPF], building
ms.assetid: a58696fd-bdad-4b55-9759-136dfdf8b91c
ms.openlocfilehash: 48536d8fba3f86c2883e48cd4e5cf9a3a8752fcd
ms.sourcegitcommit: 7bc6887ab658550baa78f1520ea735838249345e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/03/2020
ms.locfileid: "75636315"
---
# <a name="building-a-wpf-application-wpf"></a><span data-ttu-id="8a3ba-102">Compilazione di un'applicazione WPF (WPF)</span><span class="sxs-lookup"><span data-stu-id="8a3ba-102">Building a WPF Application (WPF)</span></span>

<span data-ttu-id="8a3ba-103">Le applicazioni Windows Presentation Foundation (WPF) possono essere compilate come .NET Framework eseguibili (con estensione exe), librerie (. dll) o una combinazione di entrambi i tipi di assembly.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-103">Windows Presentation Foundation (WPF) applications can be built as .NET Framework executables (.exe), libraries (.dll), or a combination of both types of assemblies.</span></span> <span data-ttu-id="8a3ba-104">In questo argomento viene illustrato come compilare applicazioni WPF e vengono descritti i passaggi principali del processo di compilazione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-104">This topic introduces how to build WPF applications and describes the key steps in the build process.</span></span>

<a name="Building_a_WPF_Application_using_Command_Line"></a>

## <a name="building-a-wpf-application"></a><span data-ttu-id="8a3ba-105">Compilazione di un'applicazione WPF</span><span class="sxs-lookup"><span data-stu-id="8a3ba-105">Building a WPF Application</span></span>

<span data-ttu-id="8a3ba-106">Un'applicazione WPF può essere compilata nei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="8a3ba-106">A WPF application can be compiled in the following ways:</span></span>

- <span data-ttu-id="8a3ba-107">Dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-107">Command-line.</span></span> <span data-ttu-id="8a3ba-108">L'applicazione deve contenere solo codice (non XAML) e un file di definizione dell'applicazione (ADF).</span><span class="sxs-lookup"><span data-stu-id="8a3ba-108">The application must contain only code (no XAML) and an application definition file.</span></span> <span data-ttu-id="8a3ba-109">Per altre informazioni, vedere [Compilazione dalla riga di comando con csc.exe](../../../csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md) oppure [Compilazione dalla riga di comando (Visual Basic)](../../../visual-basic/reference/command-line-compiler/building-from-the-command-line.md).</span><span class="sxs-lookup"><span data-stu-id="8a3ba-109">For more information, see [Command-line Building With csc.exe](../../../csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md) or [Building from the Command Line (Visual Basic)](../../../visual-basic/reference/command-line-compiler/building-from-the-command-line.md).</span></span>

- <span data-ttu-id="8a3ba-110">Microsoft Build Engine (MSBuild).</span><span class="sxs-lookup"><span data-stu-id="8a3ba-110">Microsoft Build Engine (MSBuild).</span></span> <span data-ttu-id="8a3ba-111">Oltre ai file di codice e XAML, l'applicazione deve contenere un file di progetto MSBuild.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-111">In addition to the code and XAML files, the application must contain an MSBuild project file.</span></span> <span data-ttu-id="8a3ba-112">Per altre informazioni, vedere "MSBuild".</span><span class="sxs-lookup"><span data-stu-id="8a3ba-112">For more information, see "MSBuild".</span></span>

- <span data-ttu-id="8a3ba-113">Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-113">Visual Studio.</span></span> <span data-ttu-id="8a3ba-114">Visual Studio è un ambiente di sviluppo integrato che consente di compilare applicazioni WPF con MSBuild e include una finestra di progettazione visiva per la creazione dell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-114">Visual Studio is an integrated development environment that compiles WPF applications with MSBuild and includes a visual designer for creating UI.</span></span> <span data-ttu-id="8a3ba-115">Per altre informazioni, vedere [scrittura e gestione del codice con Visual Studio](/visualstudio/ide/index-writing-code) e [progettazione di XAML in Visual Studio](/visualstudio/xaml-tools/designing-xaml-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="8a3ba-115">For more information, see [Write and manage code using Visual Studio](/visualstudio/ide/index-writing-code) and [Design XAML in Visual Studio](/visualstudio/xaml-tools/designing-xaml-in-visual-studio).</span></span>

<a name="The_Windows_Presentation_Foundation_Build_Pipeline"></a>

## <a name="wpf-build-pipeline"></a><span data-ttu-id="8a3ba-116">Pipeline di compilazione WPF</span><span class="sxs-lookup"><span data-stu-id="8a3ba-116">WPF Build Pipeline</span></span>

<span data-ttu-id="8a3ba-117">Quando viene compilato un progetto WPF, viene richiamata la combinazione di destinazioni specifiche del linguaggio e di WPF.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-117">When a WPF project is built, the combination of language-specific and WPF-specific targets are invoked.</span></span> <span data-ttu-id="8a3ba-118">Il processo di esecuzione di queste destinazioni è definito pipeline di compilazione e i passaggi principali sono illustrati nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-118">The process of executing these targets is called the build pipeline, and the key steps are illustrated by the following figure.</span></span>

<span data-ttu-id="8a3ba-119">![Processo di compilazione WPF](./media/wpfbuildsystem-figure1.png "WPFBuildSystem_Figure1")</span><span class="sxs-lookup"><span data-stu-id="8a3ba-119">![WPF build process](./media/wpfbuildsystem-figure1.png "WPFBuildSystem_Figure1")</span></span>

<a name="Pre_Build_Initializations"></a>

### <a name="pre-build-initializations"></a><span data-ttu-id="8a3ba-120">Inizializzazioni pre-compilazione</span><span class="sxs-lookup"><span data-stu-id="8a3ba-120">Pre-Build Initializations</span></span>

<span data-ttu-id="8a3ba-121">Prima della compilazione, MSBuild determina la posizione di strumenti e librerie importanti, inclusi i seguenti:</span><span class="sxs-lookup"><span data-stu-id="8a3ba-121">Before building, MSBuild determines the location of important tools and libraries, including the following:</span></span>

- <span data-ttu-id="8a3ba-122">.NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-122">The .NET Framework.</span></span>

- <span data-ttu-id="8a3ba-123">Directory Windows SDK.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-123">The Windows SDK directories.</span></span>

- <span data-ttu-id="8a3ba-124">Percorso degli assembly di riferimento WPF.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-124">The location of WPF reference assemblies.</span></span>

- <span data-ttu-id="8a3ba-125">La proprietà per i percorsi di ricerca degli assembly.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-125">The property for the assembly search paths.</span></span>

<span data-ttu-id="8a3ba-126">La prima posizione in cui MSBuild cerca gli assembly è la directory dell'assembly di riferimento (%programmi%\Reference%SYSTEMDRIVE%\Programmi\Reference Assemblies\Microsoft\Framework\v3.0.\\).</span><span class="sxs-lookup"><span data-stu-id="8a3ba-126">The first location where MSBuild searches for assemblies is the reference assembly directory (%ProgramFiles%\Reference Assemblies\Microsoft\Framework\v3.0\\).</span></span> <span data-ttu-id="8a3ba-127">Durante questo passaggio, il processo di compilazione inizializza anche le varie proprietà e i gruppi di elementi, quindi esegue le operazioni di pulizia necessarie.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-127">During this step, the build process also initializes the various properties and item groups and performs any required cleanup work.</span></span>

<a name="Resolving_references"></a>

### <a name="resolving-references"></a><span data-ttu-id="8a3ba-128">Risoluzione dei riferimenti</span><span class="sxs-lookup"><span data-stu-id="8a3ba-128">Resolving References</span></span>

<span data-ttu-id="8a3ba-129">Il processo di compilazione individua e associa gli assembly necessari per compilare il progetto di applicazione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-129">The build process locates and binds the assemblies required to build the application project.</span></span> <span data-ttu-id="8a3ba-130">Questa logica è contenuta nell'attività `ResolveAssemblyReference`.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-130">This logic is contained in the `ResolveAssemblyReference` task.</span></span> <span data-ttu-id="8a3ba-131">Tutti gli assembly dichiarati come `Reference` nel file di progetto sono disponibili per l'attività insieme a informazioni sui percorsi di ricerca e metadati degli assembly già installati nel sistema.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-131">All assemblies declared as `Reference` in the project file are provided to the task along with information on the search paths and metadata on assemblies already installed on the system.</span></span> <span data-ttu-id="8a3ba-132">L'attività Cerca gli assembly e usa i metadati dell'assembly installato per filtrare gli assembly WPF di base che non devono essere visualizzati nei manifesti di output.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-132">The task looks up assemblies and uses the installed assembly's metadata to filter out those core WPF assemblies that need not show up in the output manifests.</span></span> <span data-ttu-id="8a3ba-133">Questa operazione viene eseguita per evitare informazioni ridondanti nei manifesti ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-133">This is done to avoid redundant information in the ClickOnce manifests.</span></span> <span data-ttu-id="8a3ba-134">Ad esempio, poiché il file PresentationFramework. dll può essere considerato rappresentativo di un'applicazione compilata in e per WPF e poiché tutti gli assembly WPF si trovano nello stesso percorso in ogni computer in cui è installato il .NET Framework, non è necessario includere tutti informazioni su tutti gli assembly di riferimento .NET Framework nei manifesti.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-134">For example, since PresentationFramework.dll can be considered representative of an application built on and for WPF, and since all WPF assemblies exist at the same location on every machine that has the .NET Framework installed, there's no need to include all information on all .NET Framework reference assemblies in the manifests.</span></span>

<a name="Markup_Compilation___Pass_1"></a>

### <a name="markup-compilationpass-1"></a><span data-ttu-id="8a3ba-135">Compilazione del markup - Passaggio 1</span><span class="sxs-lookup"><span data-stu-id="8a3ba-135">Markup Compilation—Pass 1</span></span>

<span data-ttu-id="8a3ba-136">In questo passaggio, i file di [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] vengono analizzati e compilati in modo che il runtime non spenda tempo per l'analisi del codice XML e la convalida dei valori delle proprietà.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-136">In this step, [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files are parsed and compiled so that the runtime does not spend time parsing XML and validating property values.</span></span> <span data-ttu-id="8a3ba-137">Il file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] compilato viene preliminarmente suddiviso in token in modo che, in fase di esecuzione, risulti molto più veloce da caricare rispetto a un file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8a3ba-137">The compiled [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is pre-tokenized so that, at run time, loading it should be much faster than loading a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span>

<span data-ttu-id="8a3ba-138">Durante questo passaggio, le attività dell'elenco vengono eseguite per ogni file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] che rappresenta un elemento Build `Page`:</span><span class="sxs-lookup"><span data-stu-id="8a3ba-138">During this step, the following activities take place for every [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file that is a `Page` build item:</span></span>

1. <span data-ttu-id="8a3ba-139">Il file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] viene analizzato dal compilatore di markup.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-139">The [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is parsed by the markup compiler.</span></span>

2. <span data-ttu-id="8a3ba-140">Una rappresentazione compilata viene creata per tale file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] e viene copiata nella cartella obj\Release.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-140">A compiled representation is created for that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and copied to the obj\Release folder.</span></span>

3. <span data-ttu-id="8a3ba-141">Una rappresentazione CodeDOM di una nuova classe parziale viene creata e copiata nella cartella obj\Release.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-141">A CodeDOM representation of a new partial class is created and copied to the obj\Release folder.</span></span>

<span data-ttu-id="8a3ba-142">Viene anche generato un file di codice specifico del linguaggio per ogni file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8a3ba-142">In addition, a language-specific code file is generated for every [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="8a3ba-143">Ad esempio, per una pagina Pagina1. XAML in un progetto Visual Basic, viene generato un file Pagina1. g. vb; per una pagina Pagina1. XAML in un C# progetto, viene generato un Page1.g.cs.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-143">For example, for a Page1.xaml page in a Visual Basic project, a Page1.g.vb is generated; for a Page1.xaml page in a C# project, a Page1.g.cs is generated.</span></span> <span data-ttu-id="8a3ba-144">Il componente ".g" nel nome del file indica che il file è costituito da codice generato con una dichiarazione di classe parziale per l'elemento di livello superiore del file di markup (ad esempio `Page` o `Window`).</span><span class="sxs-lookup"><span data-stu-id="8a3ba-144">The ".g" in the file name indicates the file is generated code that has a partial class declaration for the top-level element of the markup file (such as `Page` or `Window`).</span></span> <span data-ttu-id="8a3ba-145">La classe viene dichiarata con il modificatore di `partial` in C# (`Extends` in Visual Basic) per indicare che è presente un'altra dichiarazione per la classe altrove, in genere nel file code-behind Page1.XAML.cs.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-145">The class is declared with the `partial` modifier in C# (`Extends` in Visual Basic) to indicate there is another declaration for the class elsewhere, usually in the code-behind file Page1.xaml.cs.</span></span>

<span data-ttu-id="8a3ba-146">La classe parziale si estende dalla classe di base appropriata, ad esempio <xref:System.Windows.Controls.Page> per una pagina, e implementa l'interfaccia <xref:System.Windows.Markup.IComponentConnector?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-146">The partial class extends from the appropriate base class (such as <xref:System.Windows.Controls.Page> for a page) and implements the <xref:System.Windows.Markup.IComponentConnector?displayProperty=nameWithType> interface.</span></span> <span data-ttu-id="8a3ba-147">L'interfaccia <xref:System.Windows.Markup.IComponentConnector> dispone di metodi per inizializzare un componente e connettere nomi ed eventi sugli elementi nel contenuto.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-147">The <xref:System.Windows.Markup.IComponentConnector> interface has methods to initialize a component and connect names and events on elements in its content.</span></span> <span data-ttu-id="8a3ba-148">Di conseguenza, il file di codice generato ha un'implementazione del metodo simile all'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="8a3ba-148">Consequently, the generated code file has a method implementation like the following:</span></span>

```csharp
public void InitializeComponent() {
    if (_contentLoaded) {
        return;
    }
    _contentLoaded = true;
    System.Uri resourceLocater =
        new System.Uri(
            "window1.xaml",
            System.UriKind.RelativeOrAbsolute);
    System.Windows.Application.LoadComponent(this, resourceLocater);
}
```

```vb
Public Sub InitializeComponent() _

    If _contentLoaded Then
        Return
    End If

    _contentLoaded = True
    Dim resourceLocater As System.Uri = _
        New System.Uri("mainwindow.xaml", System.UriKind.Relative)

    System.Windows.Application.LoadComponent(Me, resourceLocater)

End Sub
```

<span data-ttu-id="8a3ba-149">Per impostazione predefinita, la compilazione del markup viene eseguita nello stesso <xref:System.AppDomain> del motore MSBuild.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-149">By default, markup compilation runs in the same <xref:System.AppDomain> as the MSBuild engine.</span></span> <span data-ttu-id="8a3ba-150">In questo modo si ottengono miglioramenti significativi delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-150">This provides significant performance gains.</span></span> <span data-ttu-id="8a3ba-151">Questo comportamento può essere attivato o disattivato tramite la proprietà `AlwaysCompileMarkupFilesInSeparateDomain`.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-151">This behavior can be toggled with the `AlwaysCompileMarkupFilesInSeparateDomain` property.</span></span> <span data-ttu-id="8a3ba-152">Questa operazione ha il vantaggio di scaricare tutti gli assembly di riferimento scaricando il <xref:System.AppDomain>separato.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-152">This has the advantage of unloading all reference assemblies by unloading the separate <xref:System.AppDomain>.</span></span>

<a name="Pass_2_of_Markup_Compilation"></a>

### <a name="markup-compilationpass-2"></a><span data-ttu-id="8a3ba-153">Compilazione del markup - Passaggio 2</span><span class="sxs-lookup"><span data-stu-id="8a3ba-153">Markup Compilation—Pass 2</span></span>

<span data-ttu-id="8a3ba-154">Non tutte le pagine [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] vengono compilate durante il passaggio 1 della compilazione del markup.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-154">Not all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages are compiled at during pass 1 of markup compilation.</span></span> <span data-ttu-id="8a3ba-155">I file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] che dispongono di riferimenti a tipi definiti in locale (riferimenti a tipi definiti nel codice in un'altra parte dello stesso progetto) sono esclusi dalla compilazione in questa fase,</span><span class="sxs-lookup"><span data-stu-id="8a3ba-155">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files that have locally defined type references (references to types defined in code elsewhere in the same project) are exempt from compilation at this time.</span></span> <span data-ttu-id="8a3ba-156">poiché tali tipi definiti in locale esistono solo nel codice sorgente e non sono ancora stati compilati.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-156">This is because those locally defined types exist only in source and have not yet been compiled.</span></span> <span data-ttu-id="8a3ba-157">Per determinare questo aspetto, il parser utilizza un'euristica che implica la ricerca di elementi, ad esempio `x:Name`, nel file di markup.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-157">In order to determine this, the parser uses heuristics that involve looking for items such as `x:Name` in the markup file.</span></span> <span data-ttu-id="8a3ba-158">Se si individua un'istanza di questo tipo, la compilazione di tale file di markup viene posticipata fino a quando non vengono compilati i file di codice. Dopodiché, nel secondo passaggio di compilazione del markup, si elaborano questi file.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-158">When such an instance is found, that markup file’s compilation is postponed until the code files have been compiled, after which, the second markup compilation pass processes these files.</span></span>

<a name="File_Classification"></a>

### <a name="file-classification"></a><span data-ttu-id="8a3ba-159">Classificazione dei file</span><span class="sxs-lookup"><span data-stu-id="8a3ba-159">File Classification</span></span>

<span data-ttu-id="8a3ba-160">Il processo di compilazione inserisce i file di output in diversi gruppi di risorse sulla base dell'assembly dell'applicazione in cui verranno inseriti.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-160">The build process puts output files into different resource groups based on which application assembly they will be placed in.</span></span> <span data-ttu-id="8a3ba-161">In una tipica applicazione non localizzata tutti i file di dati contrassegnati come `Resource` vengono inseriti nell'assembly principale (eseguibile o libreria).</span><span class="sxs-lookup"><span data-stu-id="8a3ba-161">In a typical nonlocalized application, all data files marked as `Resource` are placed in the main assembly (executable or library).</span></span> <span data-ttu-id="8a3ba-162">Quando `UICulture` è impostato nel progetto, tutti i file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] compilati e le risorse espressamente contrassegnate come specifiche del linguaggio vengono inserite nell'assembly di risorse satellite.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-162">When `UICulture` is set in the project, all compiled [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files and those resources specifically marked as language-specific are placed in the satellite resource assembly.</span></span> <span data-ttu-id="8a3ba-163">Anche le risorse indipendenti dal linguaggio vengono inserite nell'assembly principale.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-163">Furthermore, all language-neutral resources are placed in the main assembly.</span></span> <span data-ttu-id="8a3ba-164">In questo passaggio del processo di compilazione viene determinato tale aspetto.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-164">In this step of the build process, that determination is made.</span></span>

<span data-ttu-id="8a3ba-165">Le azioni di compilazione `ApplicationDefinition`, `Page` e `Resource` nel file di progetto possono essere estese con i metadati `Localizable` (i valori accettabili sono `true` e `false`), che determinano se il file è specifico del linguaggio o indipendente da esso.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-165">The `ApplicationDefinition`, `Page`, and `Resource` build actions in the project file can be augmented with the `Localizable` metadata (acceptable values are `true` and `false`), which dictates whether the file is language-specific or language-neutral.</span></span>

<a name="Core_Compilation"></a>

### <a name="core-compilation"></a><span data-ttu-id="8a3ba-166">Compilazione base</span><span class="sxs-lookup"><span data-stu-id="8a3ba-166">Core Compilation</span></span>

<span data-ttu-id="8a3ba-167">Il passaggio base della compilazione include la compilazione dei file di codice.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-167">The core compile step involves compilation of code files.</span></span> <span data-ttu-id="8a3ba-168">Questa operazione viene gestita dalla logica nei file di destinazioni specifici del linguaggio Microsoft.CSharp.targets e Microsoft.VisualBasic.targets.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-168">This is orchestrated by logic in the language-specific targets files Microsoft.CSharp.targets and Microsoft.VisualBasic.targets.</span></span> <span data-ttu-id="8a3ba-169">Se l'euristica ha determinato che è sufficiente un unico passaggio del compilatore di markup, viene generato l'assembly principale.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-169">If heuristics have determined that a single pass of the markup compiler is sufficient, then the main assembly is generated.</span></span> <span data-ttu-id="8a3ba-170">Tuttavia, se uno o più file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] nel progetto hanno riferimenti a tipi definiti in locale, viene generato un file temporaneo con estensione dll e gli assembly dell'applicazione finale potranno essere creati dopo il completamento del secondo passaggio della compilazione di markup.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-170">However, if one or more [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files in the project have references to locally defined types, then a temporary .dll file is generated so the final application assemblies may be created after the second pass of markup compilation is complete.</span></span>

<a name="Manifest_generation"></a>

### <a name="manifest-generation"></a><span data-ttu-id="8a3ba-171">Generazione di manifesti</span><span class="sxs-lookup"><span data-stu-id="8a3ba-171">Manifest Generation</span></span>

<span data-ttu-id="8a3ba-172">Al termine del processo di compilazione, dopo che tutti gli assembly dell'applicazione e i file di contenuto sono pronti, vengono generati i manifesti ClickOnce per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-172">At the end of the build process, after all the application assemblies and content files are ready, the ClickOnce manifests for the application are generated.</span></span>

<span data-ttu-id="8a3ba-173">Il file manifesto della distribuzione descrive il modello di distribuzione: la versione corrente, il comportamento di aggiornamento e l'identità del server di pubblicazione insieme alla firma digitale.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-173">The deployment manifest file describes the deployment model: the current version, update behavior, and publisher identity along with digital signature.</span></span> <span data-ttu-id="8a3ba-174">Questo manifesto deve essere creato dagli amministratori che gestiscono la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-174">This manifest is intended to be authored by administrators who handle deployment.</span></span> <span data-ttu-id="8a3ba-175">L'estensione del file è XBAP (per le applicazioni browser XAML (XBAPs) e. Application per le applicazioni installate.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-175">The file extension is .xbap (for XAML browser applications (XBAPs)) and .application for installed applications.</span></span> <span data-ttu-id="8a3ba-176">La prima estensione è dovuta alla proprietà del progetto `HostInBrowser` e, di conseguenza, il manifesto identifica l'applicazione come ospitata dal browser.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-176">The former is dictated by the `HostInBrowser` project property and as a result the manifest identifies the application as browser-hosted.</span></span>

<span data-ttu-id="8a3ba-177">Il manifesto dell'applicazione (un file con estensione exe.manifest) descrive l'assembly dell'applicazione e le librerie dipendenti, oltre a elencare le autorizzazioni richieste dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-177">The application manifest (an .exe.manifest file) describes the application assemblies and dependent libraries and lists permissions required by the application.</span></span> <span data-ttu-id="8a3ba-178">Questo file deve essere creato dallo sviluppatore dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-178">This file is intended to be authored by the application developer.</span></span> <span data-ttu-id="8a3ba-179">Per avviare un'applicazione ClickOnce, un utente apre il file manifesto di distribuzione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-179">In order to launch a ClickOnce application, a user opens the application's deployment manifest file.</span></span>

<span data-ttu-id="8a3ba-180">Questi file manifesto vengono sempre creati per le applicazioni XBAP.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-180">These manifest files are always created for XBAPs.</span></span> <span data-ttu-id="8a3ba-181">Per le applicazioni installate, i file manifesto non vengono creati, a meno che la proprietà `GenerateManifests` venga specificata nel file di progetto con il valore `true`.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-181">For installed applications, they are not created unless the `GenerateManifests` property is specified in the project file with value `true`.</span></span>

<span data-ttu-id="8a3ba-182">Le applicazioni XBAPs ottengono due autorizzazioni aggiuntive oltre a quelle assegnate alle tipiche applicazioni dell'area Internet: <xref:System.Security.Permissions.WebBrowserPermission> e <xref:System.Security.Permissions.MediaPermission>.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-182">XBAPs get two additional permissions over and above those permissions assigned to typical Internet zone applications: <xref:System.Security.Permissions.WebBrowserPermission> and <xref:System.Security.Permissions.MediaPermission>.</span></span> <span data-ttu-id="8a3ba-183">Il sistema di compilazione WPF dichiara tali autorizzazioni nel manifesto dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-183">The WPF build system declares those permissions in the application manifest.</span></span>

<a name="Incremental_Build_Support"></a>

## <a name="incremental-build-support"></a><span data-ttu-id="8a3ba-184">Supporto della compilazione incrementale</span><span class="sxs-lookup"><span data-stu-id="8a3ba-184">Incremental Build Support</span></span>

<span data-ttu-id="8a3ba-185">Il sistema di compilazione WPF fornisce supporto per le compilazioni incrementali.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-185">The WPF build system provides support for incremental builds.</span></span> <span data-ttu-id="8a3ba-186">in quanto è in grado di rilevare le modifiche apportate al codice o al markup e compila solo gli elementi interessati dalla modifica.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-186">It is fairly intelligent about detecting changes made to markup or code, and it compiles only those artifacts affected by the change.</span></span> <span data-ttu-id="8a3ba-187">Il meccanismo di compilazione incrementale utilizza i file seguenti:</span><span class="sxs-lookup"><span data-stu-id="8a3ba-187">The incremental build mechanism uses the following files:</span></span>

- <span data-ttu-id="8a3ba-188">Un file $(*NomeAssembly*)_MarkupCompiler.Cache per gestire lo stato corrente del compilatore.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-188">An $(*AssemblyName*)_MarkupCompiler.Cache file to maintain current compiler state.</span></span>

- <span data-ttu-id="8a3ba-189">Un file $(*NomeAssembly*)_MarkupCompiler. lref per memorizzare nella cache i file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] con riferimenti a tipi definiti in locale.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-189">An $(*AssemblyName*)_MarkupCompiler.lref file to cache the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files with references to locally defined types.</span></span>

<span data-ttu-id="8a3ba-190">Di seguito è riportato un set di regole che controlla la compilazione incrementale:</span><span class="sxs-lookup"><span data-stu-id="8a3ba-190">The following is a set of rules governing incremental build:</span></span>

- <span data-ttu-id="8a3ba-191">Il file è la più piccola unità di rilevazione delle modifiche per il sistema di compilazione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-191">The file is the smallest unit at which the build system detects change.</span></span> <span data-ttu-id="8a3ba-192">Pertanto, per un file di codice, il sistema di compilazione non è in grado di stabilire se è stato modificato un tipo o se è stato aggiunto codice.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-192">So, for a code file, the build system cannot tell if a type was changed or if code was added.</span></span> <span data-ttu-id="8a3ba-193">Lo stesso vale per i file di progetto.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-193">The same holds for project files.</span></span>

- <span data-ttu-id="8a3ba-194">Il meccanismo di compilazione incrementale deve tenere conto del fatto che una pagina [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] definisce una classe oppure utilizza altre classi.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-194">The incremental build mechanism must be cognizant that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page either defines a class or uses other classes.</span></span>

- <span data-ttu-id="8a3ba-195">Se le voci `Reference` vengono modificate, è necessario ricompilare tutte le pagine.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-195">If `Reference` entries change, then recompile all pages.</span></span>

- <span data-ttu-id="8a3ba-196">Se un file di codice viene modificato, ricompilare tutte le pagine contenenti riferimenti a tipi definiti in locale.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-196">If a code file changes, recompile all pages with locally defined type references.</span></span>

- <span data-ttu-id="8a3ba-197">Se un file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] viene modificato:</span><span class="sxs-lookup"><span data-stu-id="8a3ba-197">If a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file changes:</span></span>

  - <span data-ttu-id="8a3ba-198">Quando [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] è dichiarato come `Page` nel progetto: se il file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] non dispone di riferimenti a tipi definiti in locale, ricompilare tale file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] e tutte le pagine [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] con riferimenti locali; se il file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] dispone di riferimenti locali, ricompilare tutte le pagine [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] con riferimenti locali.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-198">If [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is declared as `Page` in the project: if the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] does not have locally defined type references, recompile that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] plus all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references; if the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] has local references, recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references.</span></span>

  - <span data-ttu-id="8a3ba-199">Se [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] viene dichiarata come `ApplicationDefinition` nel progetto: ricompilare tutte le pagine [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] (motivo: ogni [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] presenta un riferimento a un tipo di <xref:System.Windows.Application> che potrebbe essere stato modificato).</span><span class="sxs-lookup"><span data-stu-id="8a3ba-199">If [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is declared as `ApplicationDefinition` in the project: recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages (reason: each [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] has reference to an <xref:System.Windows.Application> type that may have changed).</span></span>

- <span data-ttu-id="8a3ba-200">Quando il file di progetto dichiara un file di codice come definizione di applicazione anziché un file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="8a3ba-200">If the project file declares a code file as application definition instead of a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file:</span></span>

  - <span data-ttu-id="8a3ba-201">Controllare se il valore `ApplicationClassName` nel file di progetto è stato modificato (se è presente un nuovo tipo di applicazione).</span><span class="sxs-lookup"><span data-stu-id="8a3ba-201">Check if the `ApplicationClassName` value in the project file has changed (is there a new application type?).</span></span> <span data-ttu-id="8a3ba-202">In questo caso, è necessario ricompilare l'intera applicazione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-202">If so, recompile the entire application.</span></span>

  - <span data-ttu-id="8a3ba-203">In caso contrario, è sufficiente ricompilare tutte le pagine [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] con riferimenti locali.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-203">Otherwise, recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references.</span></span>

- <span data-ttu-id="8a3ba-204">Quando viene modificato un file di progetto: applicare tutte le regole precedenti e stabilire cosa deve essere ricompilato.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-204">If a project file changes: apply all preceding rules and see what needs to be recompiled.</span></span> <span data-ttu-id="8a3ba-205">Le modifiche alle seguenti proprietà determinano una ricompilazione completa: `AssemblyName`, `IntermediateOutputPath`, `RootNamespace` e `HostInBrowser`.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-205">Changes to the following properties trigger a complete recompile: `AssemblyName`, `IntermediateOutputPath`, `RootNamespace`, and `HostInBrowser`.</span></span>

<span data-ttu-id="8a3ba-206">Sono possibili gli scenari di ricompilazione seguenti:</span><span class="sxs-lookup"><span data-stu-id="8a3ba-206">The following recompile scenarios are possible:</span></span>

- <span data-ttu-id="8a3ba-207">Viene ricompilata l'intera applicazione.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-207">The entire application is recompiled.</span></span>

- <span data-ttu-id="8a3ba-208">Vengono ricompilati solo i file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] con riferimenti a tipi definiti in locale.</span><span class="sxs-lookup"><span data-stu-id="8a3ba-208">Only those [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files that have locally defined type references are recompiled.</span></span>

- <span data-ttu-id="8a3ba-209">Non viene ricompilato nulla (se non è stato modificato nulla nel progetto).</span><span class="sxs-lookup"><span data-stu-id="8a3ba-209">Nothing is recompiled (if nothing in the project has changed).</span></span>

## <a name="see-also"></a><span data-ttu-id="8a3ba-210">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="8a3ba-210">See also</span></span>

- [<span data-ttu-id="8a3ba-211">Distribuzione di un'applicazione WPF</span><span class="sxs-lookup"><span data-stu-id="8a3ba-211">Deploying a WPF Application</span></span>](deploying-a-wpf-application-wpf.md)
- [<span data-ttu-id="8a3ba-212">Informazioni di riferimento su MSBuild WPF</span><span class="sxs-lookup"><span data-stu-id="8a3ba-212">WPF MSBuild Reference</span></span>](/visualstudio/msbuild/wpf-msbuild-reference)
- [<span data-ttu-id="8a3ba-213">URI di tipo pack in WPF</span><span class="sxs-lookup"><span data-stu-id="8a3ba-213">Pack URIs in WPF</span></span>](pack-uris-in-wpf.md)
- [<span data-ttu-id="8a3ba-214">File di dati e di risorse dell'applicazione WPF</span><span class="sxs-lookup"><span data-stu-id="8a3ba-214">WPF Application Resource, Content, and Data Files</span></span>](wpf-application-resource-content-and-data-files.md)
