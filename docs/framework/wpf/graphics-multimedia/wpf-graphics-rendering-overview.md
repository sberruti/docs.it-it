---
title: Cenni preliminari sul rendering della grafica
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- graphics [WPF], rendering
- rendering graphics [WPF]
ms.assetid: 6dec9657-4d8c-4e46-8c54-40fb80008265
ms.openlocfilehash: 103d086857bce8ae0960452bb92a69b68dc49dfa
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/24/2020
ms.locfileid: "76744802"
---
# <a name="wpf-graphics-rendering-overview"></a><span data-ttu-id="d917a-102">Cenni preliminari sul rendering della grafica WPF</span><span class="sxs-lookup"><span data-stu-id="d917a-102">WPF Graphics Rendering Overview</span></span>
<span data-ttu-id="d917a-103">Questo argomento offre una panoramica del livello visivo di [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d917a-103">This topic provides an overview of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] visual layer.</span></span> <span data-ttu-id="d917a-104">Questo argomento è incentrato sul ruolo della classe <xref:System.Windows.Media.Visual> per il rendering del supporto nel modello di [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d917a-104">It focuses on the role of the <xref:System.Windows.Media.Visual> class for rendering support in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] model.</span></span>  

<a name="role_of_visual_object"></a>   
## <a name="role-of-the-visual-object"></a><span data-ttu-id="d917a-105">Ruolo dell'oggetto visivo</span><span class="sxs-lookup"><span data-stu-id="d917a-105">Role of the Visual Object</span></span>  
 <span data-ttu-id="d917a-106">La classe <xref:System.Windows.Media.Visual> è l'astrazione di base da cui deriva ogni oggetto <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="d917a-106">The <xref:System.Windows.Media.Visual> class is the basic abstraction from which every <xref:System.Windows.FrameworkElement> object derives.</span></span> <span data-ttu-id="d917a-107">Viene anche usata come punto di ingresso per la scrittura di nuovi controlli in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] e in molti casi può essere considerata come l'handle di finestra (HWND) nel modello di applicazione Win32.</span><span class="sxs-lookup"><span data-stu-id="d917a-107">It also serves as the entry point for writing new controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], and in many ways can be thought of as the window handle (HWND) in the Win32 application model.</span></span>  
  
 <span data-ttu-id="d917a-108">L'oggetto <xref:System.Windows.Media.Visual> è un oggetto [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] principale, il cui ruolo primario è fornire supporto per il rendering.</span><span class="sxs-lookup"><span data-stu-id="d917a-108">The <xref:System.Windows.Media.Visual> object is a core [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] object, whose primary role is to provide rendering support.</span></span> <span data-ttu-id="d917a-109">I controlli dell'interfaccia utente, ad esempio <xref:System.Windows.Controls.Button> e <xref:System.Windows.Controls.TextBox>, derivano dalla classe <xref:System.Windows.Media.Visual> e li usano per rendere permanente i dati di rendering.</span><span class="sxs-lookup"><span data-stu-id="d917a-109">User interface controls, such as <xref:System.Windows.Controls.Button> and <xref:System.Windows.Controls.TextBox>, derive from the <xref:System.Windows.Media.Visual> class, and use it for persisting their rendering data.</span></span> <span data-ttu-id="d917a-110">L'oggetto <xref:System.Windows.Media.Visual> fornisce supporto per:</span><span class="sxs-lookup"><span data-stu-id="d917a-110">The <xref:System.Windows.Media.Visual> object provides support for:</span></span>  
  
- <span data-ttu-id="d917a-111">Visualizzazione dell'output: eseguire il rendering del contenuto del disegno serializzato e salvato in modo permanente di un oggetto visivo.</span><span class="sxs-lookup"><span data-stu-id="d917a-111">Output display: Rendering the persisted, serialized drawing content of a visual.</span></span>  
  
- <span data-ttu-id="d917a-112">Trasformazioni: eseguire trasformazioni su un oggetto visivo.</span><span class="sxs-lookup"><span data-stu-id="d917a-112">Transformations: Performing transformations on a visual.</span></span>  
  
- <span data-ttu-id="d917a-113">Ritaglio: offrire supporto dell'area di ritaglio per un oggetto visivo.</span><span class="sxs-lookup"><span data-stu-id="d917a-113">Clipping: Providing clipping region support for a visual.</span></span>  
  
- <span data-ttu-id="d917a-114">Hit testing: determinare se una coordinata o una geometria è contenuta all'interno di un oggetto visivo.</span><span class="sxs-lookup"><span data-stu-id="d917a-114">Hit testing: Determining whether a coordinate or geometry is contained within the bounds of a visual.</span></span>  
  
- <span data-ttu-id="d917a-115">Calcoli relativi al rettangolo di selezione: determinare il rettangolo delimitatore di un oggetto visivo.</span><span class="sxs-lookup"><span data-stu-id="d917a-115">Bounding box calculations: Determining the bounding rectangle of a visual.</span></span>  
  
 <span data-ttu-id="d917a-116">Tuttavia, l'oggetto <xref:System.Windows.Media.Visual> non include il supporto per le funzionalità non di rendering, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="d917a-116">However, the <xref:System.Windows.Media.Visual> object does not include support for non-rendering features, such as:</span></span>  
  
- <span data-ttu-id="d917a-117">Gestione di eventi</span><span class="sxs-lookup"><span data-stu-id="d917a-117">Event handling</span></span>  
  
- <span data-ttu-id="d917a-118">Formato</span><span class="sxs-lookup"><span data-stu-id="d917a-118">Layout</span></span>  
  
- <span data-ttu-id="d917a-119">cella</span><span class="sxs-lookup"><span data-stu-id="d917a-119">Styles</span></span>  
  
- <span data-ttu-id="d917a-120">Associazione dati</span><span class="sxs-lookup"><span data-stu-id="d917a-120">Data binding</span></span>  
  
- <span data-ttu-id="d917a-121">Globalizzazione</span><span class="sxs-lookup"><span data-stu-id="d917a-121">Globalization</span></span>  
  
 <span data-ttu-id="d917a-122"><xref:System.Windows.Media.Visual> viene esposto come una classe astratta pubblica dalla quale devono essere derivate le classi figlio.</span><span class="sxs-lookup"><span data-stu-id="d917a-122"><xref:System.Windows.Media.Visual> is exposed as a public abstract class from which child classes must be derived.</span></span> <span data-ttu-id="d917a-123">La figura seguente illustra la gerarchia degli oggetti visivi esposti in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d917a-123">The following illustration shows the hierarchy of the visual objects that are exposed in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 ![Diagramma delle classi derivate dall'oggetto Visual](./media/wpf-graphics-rendering-overview/classes-derived-visual-object.png)    
  
### <a name="drawingvisual-class"></a><span data-ttu-id="d917a-125">Classe DrawingVisual</span><span class="sxs-lookup"><span data-stu-id="d917a-125">DrawingVisual Class</span></span>  
 <span data-ttu-id="d917a-126">Il <xref:System.Windows.Media.DrawingVisual> è una classe di disegno semplificata utilizzata per il rendering di forme, immagini o testo.</span><span class="sxs-lookup"><span data-stu-id="d917a-126">The <xref:System.Windows.Media.DrawingVisual> is a lightweight drawing class that is used to render shapes, images, or text.</span></span> <span data-ttu-id="d917a-127">Questa classe è considerata semplice perché non offre la gestione di layout o eventi, che migliora le prestazioni di runtime.</span><span class="sxs-lookup"><span data-stu-id="d917a-127">This class is considered lightweight because it does not provide layout or event handling, which improves its runtime performance.</span></span> <span data-ttu-id="d917a-128">Per questo motivo, i disegni sono ideali per sfondi e ClipArt.</span><span class="sxs-lookup"><span data-stu-id="d917a-128">For this reason, drawings are ideal for backgrounds and clip art.</span></span> <span data-ttu-id="d917a-129">Il <xref:System.Windows.Media.DrawingVisual> può essere utilizzato per creare un oggetto visivo personalizzato.</span><span class="sxs-lookup"><span data-stu-id="d917a-129">The <xref:System.Windows.Media.DrawingVisual> can be used to create a custom visual object.</span></span> <span data-ttu-id="d917a-130">Per altre informazioni, vedere [Uso degli oggetti DrawingVisual](using-drawingvisual-objects.md).</span><span class="sxs-lookup"><span data-stu-id="d917a-130">For more information, see [Using DrawingVisual Objects](using-drawingvisual-objects.md).</span></span>  
  
### <a name="viewport3dvisual-class"></a><span data-ttu-id="d917a-131">Classe Viewport3DVisual</span><span class="sxs-lookup"><span data-stu-id="d917a-131">Viewport3DVisual Class</span></span>  
 <span data-ttu-id="d917a-132">Il <xref:System.Windows.Media.Media3D.Viewport3DVisual> fornisce un bridge tra gli oggetti 2D <xref:System.Windows.Media.Visual> e <xref:System.Windows.Media.Media3D.Visual3D>.</span><span class="sxs-lookup"><span data-stu-id="d917a-132">The <xref:System.Windows.Media.Media3D.Viewport3DVisual> provides a bridge between 2D <xref:System.Windows.Media.Visual> and <xref:System.Windows.Media.Media3D.Visual3D> objects.</span></span> <span data-ttu-id="d917a-133">La classe <xref:System.Windows.Media.Media3D.Visual3D> è la classe di base per tutti gli elementi visivi 3D.</span><span class="sxs-lookup"><span data-stu-id="d917a-133">The <xref:System.Windows.Media.Media3D.Visual3D> class is the base class for all 3D visual elements.</span></span> <span data-ttu-id="d917a-134">Per la <xref:System.Windows.Media.Media3D.Viewport3DVisual> è necessario definire un valore di <xref:System.Windows.Media.Media3D.Viewport3DVisual.Camera%2A> e un valore di <xref:System.Windows.Media.Media3D.Viewport3DVisual.Viewport%2A>.</span><span class="sxs-lookup"><span data-stu-id="d917a-134">The <xref:System.Windows.Media.Media3D.Viewport3DVisual> requires that you define a <xref:System.Windows.Media.Media3D.Viewport3DVisual.Camera%2A> value and a <xref:System.Windows.Media.Media3D.Viewport3DVisual.Viewport%2A> value.</span></span> <span data-ttu-id="d917a-135">La camera consente di visualizzare la scena.</span><span class="sxs-lookup"><span data-stu-id="d917a-135">The camera allows you to view the scene.</span></span> <span data-ttu-id="d917a-136">Il viewport stabilisce dove viene eseguito il mapping della proiezione sulla superficie 2D.</span><span class="sxs-lookup"><span data-stu-id="d917a-136">The viewport establishes where the projection maps onto the 2D surface.</span></span> <span data-ttu-id="d917a-137">Per altre informazioni sul 3D in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], vedere [Cenni preliminari sulla grafica tridimensionale](3-d-graphics-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d917a-137">For more information on 3D in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [3-D Graphics Overview](3-d-graphics-overview.md).</span></span>  
  
### <a name="containervisual-class"></a><span data-ttu-id="d917a-138">Classe ContainerVisual</span><span class="sxs-lookup"><span data-stu-id="d917a-138">ContainerVisual Class</span></span>  
 <span data-ttu-id="d917a-139">La classe <xref:System.Windows.Media.ContainerVisual> viene utilizzata come contenitore per una raccolta di oggetti <xref:System.Windows.Media.Visual>.</span><span class="sxs-lookup"><span data-stu-id="d917a-139">The <xref:System.Windows.Media.ContainerVisual> class is used as a container for a collection of <xref:System.Windows.Media.Visual> objects.</span></span> <span data-ttu-id="d917a-140">La classe <xref:System.Windows.Media.DrawingVisual> deriva dalla classe <xref:System.Windows.Media.ContainerVisual>, in modo che contenga una raccolta di oggetti visivi.</span><span class="sxs-lookup"><span data-stu-id="d917a-140">The <xref:System.Windows.Media.DrawingVisual> class derives from the <xref:System.Windows.Media.ContainerVisual> class, allowing it to contain a collection of visual objects.</span></span>  
  
### <a name="drawing-content-in-visual-objects"></a><span data-ttu-id="d917a-141">Contenuto del disegno in oggetti visivi</span><span class="sxs-lookup"><span data-stu-id="d917a-141">Drawing Content in Visual Objects</span></span>  
 <span data-ttu-id="d917a-142">Un oggetto <xref:System.Windows.Media.Visual> archivia i dati di rendering come **elenco di istruzioni di grafica vettoriale**.</span><span class="sxs-lookup"><span data-stu-id="d917a-142">A <xref:System.Windows.Media.Visual> object stores its render data as a **vector graphics instruction list**.</span></span> <span data-ttu-id="d917a-143">Ogni elemento nell'elenco di istruzioni rappresenta un set di dati grafici di basso livello e risorse associate in un formato serializzato.</span><span class="sxs-lookup"><span data-stu-id="d917a-143">Each item in the instruction list represents a low-level set of graphics data and associated resources in a serialized format.</span></span> <span data-ttu-id="d917a-144">Esistono quattro diversi tipi di dati di rendering che possono contenere il contenuto del disegno.</span><span class="sxs-lookup"><span data-stu-id="d917a-144">There are four different types of render data that can contain drawing content.</span></span>  
  
|<span data-ttu-id="d917a-145">Tipo di contenuto del disegno</span><span class="sxs-lookup"><span data-stu-id="d917a-145">Drawing content type</span></span>|<span data-ttu-id="d917a-146">Descrizione</span><span class="sxs-lookup"><span data-stu-id="d917a-146">Description</span></span>|  
|--------------------------|-----------------|  
|<span data-ttu-id="d917a-147">Grafica vettoriale</span><span class="sxs-lookup"><span data-stu-id="d917a-147">Vector graphics</span></span>|<span data-ttu-id="d917a-148">Rappresenta i dati di grafica vettoriale e qualsiasi <xref:System.Windows.Media.Brush> e informazioni di <xref:System.Windows.Media.Pen> associati.</span><span class="sxs-lookup"><span data-stu-id="d917a-148">Represents vector graphics data, and any associated <xref:System.Windows.Media.Brush> and <xref:System.Windows.Media.Pen> information.</span></span>|  
|<span data-ttu-id="d917a-149">Immagine</span><span class="sxs-lookup"><span data-stu-id="d917a-149">Image</span></span>|<span data-ttu-id="d917a-150">Rappresenta un'immagine in un'area definita da un <xref:System.Windows.Rect>.</span><span class="sxs-lookup"><span data-stu-id="d917a-150">Represents an image within a region defined by a <xref:System.Windows.Rect>.</span></span>|  
|<span data-ttu-id="d917a-151">Icona</span><span class="sxs-lookup"><span data-stu-id="d917a-151">Glyph</span></span>|<span data-ttu-id="d917a-152">Rappresenta un disegno che esegue il rendering di un <xref:System.Windows.Media.GlyphRun>, ovvero una sequenza di glifi da una risorsa del tipo di carattere specificata.</span><span class="sxs-lookup"><span data-stu-id="d917a-152">Represents a drawing that renders a <xref:System.Windows.Media.GlyphRun>, which is a sequence of glyphs from a specified font resource.</span></span> <span data-ttu-id="d917a-153">Ecco come viene rappresentato il testo.</span><span class="sxs-lookup"><span data-stu-id="d917a-153">This is how text is represented.</span></span>|  
|<span data-ttu-id="d917a-154">Video</span><span class="sxs-lookup"><span data-stu-id="d917a-154">Video</span></span>|<span data-ttu-id="d917a-155">Rappresenta un disegno che esegue il rendering di video.</span><span class="sxs-lookup"><span data-stu-id="d917a-155">Represents a drawing that renders video.</span></span>|  
  
 <span data-ttu-id="d917a-156">Il <xref:System.Windows.Media.DrawingContext> consente di popolare una <xref:System.Windows.Media.Visual> con contenuto visivo.</span><span class="sxs-lookup"><span data-stu-id="d917a-156">The <xref:System.Windows.Media.DrawingContext> allows you to populate a <xref:System.Windows.Media.Visual> with visual content.</span></span> <span data-ttu-id="d917a-157">Quando si usano i comandi di disegnare di un oggetto <xref:System.Windows.Media.DrawingContext>, si archivia effettivamente un set di dati di rendering che verranno usati in un secondo momento dal sistema grafico; non si sta disegnando sullo schermo in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="d917a-157">When you use a <xref:System.Windows.Media.DrawingContext> object's draw commands, you are actually storing a set of render data that will later be used by the graphics system; you are not drawing to the screen in real-time.</span></span>  
  
 <span data-ttu-id="d917a-158">Quando si crea un controllo [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], ad esempio un <xref:System.Windows.Controls.Button>, il controllo genera in modo implicito i dati di rendering per il disegno.</span><span class="sxs-lookup"><span data-stu-id="d917a-158">When you create a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control, such as a <xref:System.Windows.Controls.Button>, the control implicitly generates render data for drawing itself.</span></span> <span data-ttu-id="d917a-159">Se ad esempio si imposta la proprietà <xref:System.Windows.Controls.ContentControl.Content%2A> della <xref:System.Windows.Controls.Button>, il controllo archivia una rappresentazione di rendering di un glifo.</span><span class="sxs-lookup"><span data-stu-id="d917a-159">For example, setting the <xref:System.Windows.Controls.ContentControl.Content%2A> property of the <xref:System.Windows.Controls.Button> causes the control to store a rendering representation of a glyph.</span></span>  
  
 <span data-ttu-id="d917a-160">Un <xref:System.Windows.Media.Visual> ne descrive il contenuto come uno o più <xref:System.Windows.Media.Drawing> oggetti contenuti in un <xref:System.Windows.Media.DrawingGroup>.</span><span class="sxs-lookup"><span data-stu-id="d917a-160">A <xref:System.Windows.Media.Visual> describes its content as one or more <xref:System.Windows.Media.Drawing> objects contained within a <xref:System.Windows.Media.DrawingGroup>.</span></span> <span data-ttu-id="d917a-161">Un <xref:System.Windows.Media.DrawingGroup> descrive anche le maschere di opacità, le trasformazioni, gli effetti bitmap e altre operazioni applicate al relativo contenuto.</span><span class="sxs-lookup"><span data-stu-id="d917a-161">A <xref:System.Windows.Media.DrawingGroup> also describes opacity masks, transforms, bitmap effects, and other operations that are applied to its contents.</span></span> <span data-ttu-id="d917a-162">le operazioni <xref:System.Windows.Media.DrawingGroup> vengono applicate nell'ordine seguente quando viene eseguito il rendering del contenuto: <xref:System.Windows.Media.DrawingGroup.OpacityMask%2A>, <xref:System.Windows.Media.DrawingGroup.Opacity%2A>, <xref:System.Windows.Media.DrawingGroup.BitmapEffect%2A>, <xref:System.Windows.Media.DrawingGroup.ClipGeometry%2A>, <xref:System.Windows.Media.DrawingGroup.GuidelineSet%2A>, quindi <xref:System.Windows.Media.DrawingGroup.Transform%2A>.</span><span class="sxs-lookup"><span data-stu-id="d917a-162"><xref:System.Windows.Media.DrawingGroup> operations are applied in the following order when content is rendered: <xref:System.Windows.Media.DrawingGroup.OpacityMask%2A>, <xref:System.Windows.Media.DrawingGroup.Opacity%2A>, <xref:System.Windows.Media.DrawingGroup.BitmapEffect%2A>, <xref:System.Windows.Media.DrawingGroup.ClipGeometry%2A>, <xref:System.Windows.Media.DrawingGroup.GuidelineSet%2A>, and then <xref:System.Windows.Media.DrawingGroup.Transform%2A>.</span></span>  
  
 <span data-ttu-id="d917a-163">Nella figura seguente viene illustrato l'ordine in cui vengono applicate <xref:System.Windows.Media.DrawingGroup> operazioni durante la sequenza di rendering.</span><span class="sxs-lookup"><span data-stu-id="d917a-163">The following illustration shows the order in which <xref:System.Windows.Media.DrawingGroup> operations are applied during the rendering sequence.</span></span>  
  
 <span data-ttu-id="d917a-164">![Ordine delle operazioni DrawingGroup](./media/graphcismm-drawinggroup-order.png "graphcismm_drawinggroup_order")</span><span class="sxs-lookup"><span data-stu-id="d917a-164">![DrawingGroup order of operations](./media/graphcismm-drawinggroup-order.png "graphcismm_drawinggroup_order")</span></span>  
<span data-ttu-id="d917a-165">Ordine delle operazioni DrawingGroup</span><span class="sxs-lookup"><span data-stu-id="d917a-165">Order of DrawingGroup operations</span></span>  
  
 <span data-ttu-id="d917a-166">Per altre informazioni, vedere [Cenni preliminari sugli oggetti Drawing](drawing-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d917a-166">For more information, see [Drawing Objects Overview](drawing-objects-overview.md).</span></span>  
  
#### <a name="drawing-content-at-the-visual-layer"></a><span data-ttu-id="d917a-167">Contenuto del disegno a livello visivo</span><span class="sxs-lookup"><span data-stu-id="d917a-167">Drawing Content at the Visual Layer</span></span>  
 <span data-ttu-id="d917a-168">Non è mai possibile creare direttamente un'istanza di un <xref:System.Windows.Media.DrawingContext>; è tuttavia possibile acquisire un contesto di disegno da determinati metodi, ad esempio <xref:System.Windows.Media.DrawingGroup.Open%2A?displayProperty=nameWithType> e <xref:System.Windows.Media.DrawingVisual.RenderOpen%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d917a-168">You never directly instantiate a <xref:System.Windows.Media.DrawingContext>; you can, however, acquire a drawing context from certain methods, such as <xref:System.Windows.Media.DrawingGroup.Open%2A?displayProperty=nameWithType> and <xref:System.Windows.Media.DrawingVisual.RenderOpen%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="d917a-169">Nell'esempio seguente viene recuperato un <xref:System.Windows.Media.DrawingContext> da un <xref:System.Windows.Media.DrawingVisual> e utilizzato per creare un rettangolo.</span><span class="sxs-lookup"><span data-stu-id="d917a-169">The following example retrieves a <xref:System.Windows.Media.DrawingContext> from a <xref:System.Windows.Media.DrawingVisual> and uses it to draw a rectangle.</span></span>  
  
 [!code-csharp[drawingvisualsample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/DrawingVisualSample/CSharp/Window1.xaml.cs#101)]
 [!code-vb[drawingvisualsample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DrawingVisualSample/visualbasic/window1.xaml.vb#101)]  
  
#### <a name="enumerating-drawing-content-at-the-visual-layer"></a><span data-ttu-id="d917a-170">Enumerazione del contenuto del disegno a livello visivo</span><span class="sxs-lookup"><span data-stu-id="d917a-170">Enumerating Drawing Content at the Visual Layer</span></span>  
 <span data-ttu-id="d917a-171">Oltre agli altri utilizzi, <xref:System.Windows.Media.Drawing> oggetti forniscono anche un modello a oggetti per l'enumerazione del contenuto di un <xref:System.Windows.Media.Visual>.</span><span class="sxs-lookup"><span data-stu-id="d917a-171">In addition to their other uses, <xref:System.Windows.Media.Drawing> objects also provide an object model for enumerating the contents of a <xref:System.Windows.Media.Visual>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d917a-172">Quando si enumera il contenuto dell'oggetto visivo, si recuperano <xref:System.Windows.Media.Drawing> oggetti e non la rappresentazione sottostante dei dati di rendering come elenco di istruzioni di grafica vettoriale.</span><span class="sxs-lookup"><span data-stu-id="d917a-172">When you are enumerating the contents of the visual, you are retrieving <xref:System.Windows.Media.Drawing> objects, and not the underlying representation of the render data as a vector graphics instruction list.</span></span>  
  
 <span data-ttu-id="d917a-173">Nell'esempio seguente viene usato il metodo <xref:System.Windows.Media.VisualTreeHelper.GetDrawing%2A> per recuperare il valore <xref:System.Windows.Media.DrawingGroup> di un <xref:System.Windows.Media.Visual> ed enumerarlo.</span><span class="sxs-lookup"><span data-stu-id="d917a-173">The following example uses the <xref:System.Windows.Media.VisualTreeHelper.GetDrawing%2A> method to retrieve the <xref:System.Windows.Media.DrawingGroup> value of a <xref:System.Windows.Media.Visual> and enumerate it.</span></span>  
  
 [!code-csharp[DrawingMiscSnippets_snip#GraphicsMMRetrieveDrawings](~/samples/snippets/csharp/VS_Snippets_Wpf/DrawingMiscSnippets_snip/CSharp/EnumerateDrawingsExample.xaml.cs#graphicsmmretrievedrawings)]  
  
<a name="how_visual_objects_are_used_to_build_controls"></a>   
## <a name="how-visual-objects-are-used-to-build-controls"></a><span data-ttu-id="d917a-174">Uso degli oggetti visivi per la compilazione di controlli</span><span class="sxs-lookup"><span data-stu-id="d917a-174">How Visual Objects are Used to Build Controls</span></span>  
 <span data-ttu-id="d917a-175">Molti degli oggetti in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sono costituiti da altri oggetti visivi, cioè possono contenere gerarchie variabili di oggetti discendenti.</span><span class="sxs-lookup"><span data-stu-id="d917a-175">Many of the objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are composed of other visual objects, meaning they can contain varying hierarchies of descendant objects.</span></span> <span data-ttu-id="d917a-176">Molti degli elementi dell'interfaccia utente in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], ad esempio i controlli, sono composti da più oggetti visivi che rappresentano tipi diversi di elementi di rendering.</span><span class="sxs-lookup"><span data-stu-id="d917a-176">Many of the user interface elements in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], such as controls, are composed of multiple visual objects, representing different types of rendering elements.</span></span> <span data-ttu-id="d917a-177">Il controllo <xref:System.Windows.Controls.Button>, ad esempio, può contenere una serie di altri oggetti, tra cui <xref:Microsoft.Windows.Themes.ClassicBorderDecorator>, <xref:System.Windows.Controls.ContentPresenter>e <xref:System.Windows.Controls.TextBlock>.</span><span class="sxs-lookup"><span data-stu-id="d917a-177">For example, the <xref:System.Windows.Controls.Button> control can contain a number of other objects, including <xref:Microsoft.Windows.Themes.ClassicBorderDecorator>, <xref:System.Windows.Controls.ContentPresenter>, and <xref:System.Windows.Controls.TextBlock>.</span></span>  
  
 <span data-ttu-id="d917a-178">Nel codice seguente viene illustrato un controllo <xref:System.Windows.Controls.Button> definito nel markup.</span><span class="sxs-lookup"><span data-stu-id="d917a-178">The following code shows a <xref:System.Windows.Controls.Button> control defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet1](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet1)]  
  
 <span data-ttu-id="d917a-179">Per enumerare gli oggetti visivi che includono il controllo <xref:System.Windows.Controls.Button> predefinito, è possibile trovare la gerarchia di oggetti visivi illustrata di seguito:</span><span class="sxs-lookup"><span data-stu-id="d917a-179">If you were to enumerate the visual objects that comprise the default <xref:System.Windows.Controls.Button> control, you would find the hierarchy of visual objects illustrated below:</span></span>  
  
 ![Diagramma della gerarchia di una struttura ad albero visuale](./media/wpf-graphics-rendering-overview/visual-object-diagram.gif) 
  
 <span data-ttu-id="d917a-181">Il controllo <xref:System.Windows.Controls.Button> contiene un elemento <xref:Microsoft.Windows.Themes.ClassicBorderDecorator>, che a sua volta contiene un elemento <xref:System.Windows.Controls.ContentPresenter>.</span><span class="sxs-lookup"><span data-stu-id="d917a-181">The <xref:System.Windows.Controls.Button> control contains a <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element, which in turn, contains a <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="d917a-182">L'elemento <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> è responsabile del disegno di un bordo e di uno sfondo per l'<xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="d917a-182">The <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element is responsible for drawing a border and a background for the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="d917a-183">L'elemento <xref:System.Windows.Controls.ContentPresenter> è responsabile della visualizzazione del contenuto della <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="d917a-183">The <xref:System.Windows.Controls.ContentPresenter> element is responsible for displaying the contents of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="d917a-184">In questo caso, poiché viene visualizzato il testo, l'elemento <xref:System.Windows.Controls.ContentPresenter> contiene un elemento <xref:System.Windows.Controls.TextBlock>.</span><span class="sxs-lookup"><span data-stu-id="d917a-184">In this case, since you are displaying text, the <xref:System.Windows.Controls.ContentPresenter> element contains a <xref:System.Windows.Controls.TextBlock> element.</span></span> <span data-ttu-id="d917a-185">Il fatto che il controllo <xref:System.Windows.Controls.Button> usi un <xref:System.Windows.Controls.ContentPresenter> significa che il contenuto può essere rappresentato da altri elementi, ad esempio un <xref:System.Windows.Controls.Image> o una geometria, ad esempio un <xref:System.Windows.Media.EllipseGeometry>.</span><span class="sxs-lookup"><span data-stu-id="d917a-185">The fact that the <xref:System.Windows.Controls.Button> control uses a <xref:System.Windows.Controls.ContentPresenter> means that the content could be represented by other elements, such as an <xref:System.Windows.Controls.Image> or a geometry, such as an <xref:System.Windows.Media.EllipseGeometry>.</span></span>  
  
### <a name="control-templates"></a><span data-ttu-id="d917a-186">Modelli di controllo</span><span class="sxs-lookup"><span data-stu-id="d917a-186">Control Templates</span></span>  
 <span data-ttu-id="d917a-187">La chiave per l'espansione di un controllo in una gerarchia di controlli è la <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="d917a-187">The key to the expansion of a control into a hierarchy of controls is the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="d917a-188">Un modello di controllo specifica la gerarchia visiva predefinita per un controllo.</span><span class="sxs-lookup"><span data-stu-id="d917a-188">A control template specifies the default visual hierarchy for a control.</span></span> <span data-ttu-id="d917a-189">Quando si fa riferimento in modo esplicito a un controllo, si fa riferimento in modo implicito alla relativa gerarchia visiva.</span><span class="sxs-lookup"><span data-stu-id="d917a-189">When you explicitly reference a control, you implicitly reference its visual hierarchy.</span></span> <span data-ttu-id="d917a-190">È possibile eseguire l'override dei valori predefiniti di un modello di controllo per creare un aspetto visivo personalizzato per un controllo.</span><span class="sxs-lookup"><span data-stu-id="d917a-190">You can override the default values for a control template to create a customized visual appearance for a control.</span></span> <span data-ttu-id="d917a-191">Ad esempio, è possibile modificare il valore del colore di sfondo del controllo <xref:System.Windows.Controls.Button> in modo che usi un valore di colore sfumato lineare anziché un valore di colore a tinta unita.</span><span class="sxs-lookup"><span data-stu-id="d917a-191">For example, you could modify the background color value of the <xref:System.Windows.Controls.Button> control so that it uses a linear gradient color value instead of a solid color value.</span></span> <span data-ttu-id="d917a-192">Per altre informazioni, vedere [Stili e modelli di Button](../controls/button-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="d917a-192">For more information, see [Button Styles and Templates](../controls/button-styles-and-templates.md).</span></span>  
  
 <span data-ttu-id="d917a-193">Un elemento dell'interfaccia utente, ad esempio un controllo <xref:System.Windows.Controls.Button>, contiene diversi elenchi di istruzioni di grafica vettoriale che descrivono l'intera definizione di rendering di un controllo.</span><span class="sxs-lookup"><span data-stu-id="d917a-193">A user interface element, such as a <xref:System.Windows.Controls.Button> control, contains several vector graphics instruction lists that describe the entire rendering definition of a control.</span></span> <span data-ttu-id="d917a-194">Nel codice seguente viene illustrato un controllo <xref:System.Windows.Controls.Button> definito nel markup.</span><span class="sxs-lookup"><span data-stu-id="d917a-194">The following code shows a <xref:System.Windows.Controls.Button> control defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet2](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet2)]  
  
 <span data-ttu-id="d917a-195">Per enumerare gli oggetti visivi e gli elenchi di istruzioni di grafica vettoriale che comprendono il controllo <xref:System.Windows.Controls.Button>, è possibile trovare la gerarchia di oggetti illustrata di seguito:</span><span class="sxs-lookup"><span data-stu-id="d917a-195">If you were to enumerate the visual objects and vector graphics instruction lists that comprise the <xref:System.Windows.Controls.Button> control, you would find the hierarchy of objects illustrated below:</span></span>  
  
 ![Diagramma della struttura ad albero e dei dati di rendering](./media/wpf-graphics-rendering-overview/visual-tree-rendering-data.png)  
  
 <span data-ttu-id="d917a-197">Il controllo <xref:System.Windows.Controls.Button> contiene un elemento <xref:Microsoft.Windows.Themes.ClassicBorderDecorator>, che a sua volta contiene un elemento <xref:System.Windows.Controls.ContentPresenter>.</span><span class="sxs-lookup"><span data-stu-id="d917a-197">The <xref:System.Windows.Controls.Button> control contains a <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element, which in turn, contains a <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="d917a-198">L'elemento <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> è responsabile del disegno di tutti gli elementi grafici discreti che compongono il bordo e lo sfondo di un pulsante.</span><span class="sxs-lookup"><span data-stu-id="d917a-198">The <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element is responsible for drawing all the discrete graphic elements that make up the border and background of a button.</span></span> <span data-ttu-id="d917a-199">L'elemento <xref:System.Windows.Controls.ContentPresenter> è responsabile della visualizzazione del contenuto della <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="d917a-199">The <xref:System.Windows.Controls.ContentPresenter> element is responsible for displaying the contents of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="d917a-200">In questo caso, poiché si visualizza un'immagine, l'elemento <xref:System.Windows.Controls.ContentPresenter> contiene un elemento <xref:System.Windows.Controls.Image>.</span><span class="sxs-lookup"><span data-stu-id="d917a-200">In this case, since you are displaying an image, the <xref:System.Windows.Controls.ContentPresenter> element contains a <xref:System.Windows.Controls.Image> element.</span></span>  
  
 <span data-ttu-id="d917a-201">Tenere in considerazione alcuni punti sulla gerarchia degli oggetti visivi e sugli elenchi di istruzioni di grafica vettoriale:</span><span class="sxs-lookup"><span data-stu-id="d917a-201">There are a number of points to note about the hierarchy of visual objects and vector graphics instruction lists:</span></span>  
  
- <span data-ttu-id="d917a-202">L'ordinamento nella gerarchia rappresenta l'ordine di rendering delle informazioni di disegno.</span><span class="sxs-lookup"><span data-stu-id="d917a-202">The ordering in the hierarchy represents the rendering order of the drawing information.</span></span> <span data-ttu-id="d917a-203">A partire dall'elemento visivo radice, gli elementi figlio vengono attraversati da sinistra a destra e dall'alto verso il basso.</span><span class="sxs-lookup"><span data-stu-id="d917a-203">From the root visual element, child elements are traversed, left to right, top to bottom.</span></span> <span data-ttu-id="d917a-204">Se un elemento contiene elementi visivi figlio, essi vengono attraversati prima degli elementi di pari livello.</span><span class="sxs-lookup"><span data-stu-id="d917a-204">If an element has visual child elements, they are traversed before the element’s siblings.</span></span>  
  
- <span data-ttu-id="d917a-205">Gli elementi del nodo non foglia nella gerarchia, ad esempio <xref:System.Windows.Controls.ContentPresenter>, vengono utilizzati per contenere gli elementi figlio, non contengono elenchi di istruzioni.</span><span class="sxs-lookup"><span data-stu-id="d917a-205">Non-leaf node elements in the hierarchy, such as <xref:System.Windows.Controls.ContentPresenter>, are used to contain child elements—they do not contain instruction lists.</span></span>  
  
- <span data-ttu-id="d917a-206">Se un elemento visivo contiene sia un elenco di istruzioni di grafica vettoriale che oggetti visivi figlio, viene eseguito il rendering dell'elenco di istruzioni nell'elemento visivo padre prima dei disegni in uno qualsiasi degli oggetti visivi figlio.</span><span class="sxs-lookup"><span data-stu-id="d917a-206">If a visual element contains both a vector graphics instruction list and visual children, the instruction list in the parent visual element is rendered before drawings in any of the visual child objects.</span></span>  
  
- <span data-ttu-id="d917a-207">Il rendering degli elementi nell'elenco di istruzioni di grafica vettoriale viene eseguito da sinistra a destra.</span><span class="sxs-lookup"><span data-stu-id="d917a-207">The items in the vector graphics instruction list are rendered left to right.</span></span>  
  
<a name="visual_tree"></a>   
## <a name="visual-tree"></a><span data-ttu-id="d917a-208">Struttura ad albero visuale</span><span class="sxs-lookup"><span data-stu-id="d917a-208">Visual Tree</span></span>  
 <span data-ttu-id="d917a-209">La struttura ad albero visuale contiene tutti gli elementi visivi usati nell'interfaccia utente di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d917a-209">The visual tree contains all visual elements used in an application's user interface.</span></span> <span data-ttu-id="d917a-210">Poiché un elemento visivo contiene informazioni sul disegno salvate in modo permanente, la struttura ad albero visuale può essere considerata come un grafico della scena, contenente tutte le informazioni di rendering necessarie per comporre l'output verso il dispositivo di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="d917a-210">Since a visual element contains persisted drawing information, you can think of the visual tree as a scene graph, containing all the rendering information needed to compose the output to the display device.</span></span> <span data-ttu-id="d917a-211">Questo albero è costituito da tutti gli elementi visivi creati direttamente dall'applicazione, nel codice o nel markup.</span><span class="sxs-lookup"><span data-stu-id="d917a-211">This tree is the accumulation of all visual elements created directly by the application, whether in code or in markup.</span></span> <span data-ttu-id="d917a-212">La struttura ad albero visuale contiene anche tutti gli elementi visivi creati dall'espansione del modello di elementi quali controlli e oggetti dati.</span><span class="sxs-lookup"><span data-stu-id="d917a-212">The visual tree also contains all visual elements created by the template expansion of elements such as controls and data objects.</span></span>  
  
 <span data-ttu-id="d917a-213">Nel codice seguente viene illustrato un elemento <xref:System.Windows.Controls.StackPanel> definito nel markup.</span><span class="sxs-lookup"><span data-stu-id="d917a-213">The following code shows a <xref:System.Windows.Controls.StackPanel> element defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet3](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet3)]  
  
 <span data-ttu-id="d917a-214">Per enumerare gli oggetti visivi che comprendono l'elemento <xref:System.Windows.Controls.StackPanel> nell'esempio di markup, si troverà la gerarchia di oggetti visivi illustrata di seguito:</span><span class="sxs-lookup"><span data-stu-id="d917a-214">If you were to enumerate the visual objects that comprise the <xref:System.Windows.Controls.StackPanel> element in the markup example, you would find the hierarchy of visual objects illustrated below:</span></span>  
  
 ![Diagramma della gerarchia di una struttura ad albero visuale](./media/wpf-graphics-rendering-overview/visual-tree-hierarchy.gif)  
  
### <a name="rendering-order"></a><span data-ttu-id="d917a-216">Ordine di rendering</span><span class="sxs-lookup"><span data-stu-id="d917a-216">Rendering Order</span></span>  
 <span data-ttu-id="d917a-217">La struttura ad albero visuale determina l'ordine di rendering degli oggetti visivi e di disegno di [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d917a-217">The visual tree determines the rendering order of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] visual and drawing objects.</span></span> <span data-ttu-id="d917a-218">L'ordine di attraversamento inizia con l'oggetto visivo radice, ovvero il nodo superiore nella struttura ad albero visuale.</span><span class="sxs-lookup"><span data-stu-id="d917a-218">The order of traversal starts with the root visual, which is the top-most node in the visual tree.</span></span> <span data-ttu-id="d917a-219">Gli elementi figlio dell'oggetto visivo radice vengono quindi attraversati, da sinistra a destra.</span><span class="sxs-lookup"><span data-stu-id="d917a-219">The root visual’s children are then traversed, left to right.</span></span> <span data-ttu-id="d917a-220">Se un oggetto visivo ha elementi figlio, questi ultimi vengono attraversati prima degli elementi di pari livello.</span><span class="sxs-lookup"><span data-stu-id="d917a-220">If a visual has children, its children are traversed before the visual’s siblings.</span></span> <span data-ttu-id="d917a-221">Ciò significa che viene eseguito il rendering del contenuto di un oggetto visivo figlio prima del contenuto dell'oggetto visivo stesso.</span><span class="sxs-lookup"><span data-stu-id="d917a-221">This means that the content of a child visual is rendered in front of the visual's own content.</span></span>  
  
 ![Diagramma dell'ordine di rendering della struttura ad albero visuale](./media/wpf-graphics-rendering-overview/visual-tree-rendering-order.gif) 
  
### <a name="root-visual"></a><span data-ttu-id="d917a-223">Oggetto visivo radice</span><span class="sxs-lookup"><span data-stu-id="d917a-223">Root Visual</span></span>  
 <span data-ttu-id="d917a-224">L'**oggetto visivo radice** è l'elemento di primo livello di una gerarchia struttura ad albero visuale.</span><span class="sxs-lookup"><span data-stu-id="d917a-224">The **root visual** is the top-most element in a visual tree hierarchy.</span></span> <span data-ttu-id="d917a-225">Nella maggior parte delle applicazioni, la classe base dell'oggetto visivo radice è <xref:System.Windows.Window> o <xref:System.Windows.Navigation.NavigationWindow>.</span><span class="sxs-lookup"><span data-stu-id="d917a-225">In most applications, the base class of the root visual is either <xref:System.Windows.Window> or <xref:System.Windows.Navigation.NavigationWindow>.</span></span> <span data-ttu-id="d917a-226">Se venissero tuttavia ospitati oggetti visivi in un'applicazione Win32, l'oggetto visivo radice sarebbe l'oggetto visivo di primo livello ospitato nella finestra Win32.</span><span class="sxs-lookup"><span data-stu-id="d917a-226">However, if you were hosting visual objects in a Win32 application, the root visual would be the top-most visual you were hosting in the Win32 window.</span></span> <span data-ttu-id="d917a-227">Per altre informazioni, vedere [Esercitazione: hosting di oggetti visivi in un'applicazione Win32](tutorial-hosting-visual-objects-in-a-win32-application.md).</span><span class="sxs-lookup"><span data-stu-id="d917a-227">For more information, see [Tutorial: Hosting Visual Objects in a Win32 Application](tutorial-hosting-visual-objects-in-a-win32-application.md).</span></span>  
  
### <a name="relationship-to-the-logical-tree"></a><span data-ttu-id="d917a-228">Relazione con l'albero logico</span><span class="sxs-lookup"><span data-stu-id="d917a-228">Relationship to the Logical Tree</span></span>  
 <span data-ttu-id="d917a-229">L'albero logico in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] rappresenta gli elementi di un'applicazione in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="d917a-229">The logical tree in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] represents the elements of an application at run time.</span></span> <span data-ttu-id="d917a-230">Sebbene questo albero non venga modificato direttamente, la visualizzazione dell'applicazione è utile per comprendere l'ereditarietà delle proprietà e il routing degli eventi.</span><span class="sxs-lookup"><span data-stu-id="d917a-230">Although you do not manipulate this tree directly, this view of the application is useful for understanding property inheritance and event routing.</span></span> <span data-ttu-id="d917a-231">A differenza della struttura ad albero visuale, l'albero logico può rappresentare oggetti dati non visivi, ad esempio <xref:System.Windows.Documents.ListItem>.</span><span class="sxs-lookup"><span data-stu-id="d917a-231">Unlike the visual tree, the logical tree can represent non-visual data objects, such as <xref:System.Windows.Documents.ListItem>.</span></span> <span data-ttu-id="d917a-232">In molti casi, l'albero logico corrisponde strettamente alle definizioni di markup dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d917a-232">In many cases, the logical tree maps very closely to an application's markup definitions.</span></span> <span data-ttu-id="d917a-233">Nel codice seguente viene illustrato un elemento <xref:System.Windows.Controls.DockPanel> definito nel markup.</span><span class="sxs-lookup"><span data-stu-id="d917a-233">The following code shows a <xref:System.Windows.Controls.DockPanel> element defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet5](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet5)]  
  
 <span data-ttu-id="d917a-234">Per enumerare gli oggetti logici che comprendono l'elemento <xref:System.Windows.Controls.DockPanel> nell'esempio di markup, si troverà la gerarchia di oggetti logici illustrata di seguito:</span><span class="sxs-lookup"><span data-stu-id="d917a-234">If you were to enumerate the logical objects that comprise the <xref:System.Windows.Controls.DockPanel> element in the markup example, you would find the hierarchy of logical objects illustrated below:</span></span>  
  
 <span data-ttu-id="d917a-235">![Diagramma ad albero](./media/tree1-wcp.gif "Tree1_wcp")</span><span class="sxs-lookup"><span data-stu-id="d917a-235">![Tree diagram](./media/tree1-wcp.gif "Tree1_wcp")</span></span>  
<span data-ttu-id="d917a-236">Diagramma dell'albero logico</span><span class="sxs-lookup"><span data-stu-id="d917a-236">Diagram of logical tree</span></span>  
  
 <span data-ttu-id="d917a-237">La struttura ad albero visuale e l'albero logico sono sincronizzati con il set corrente di elementi dell'applicazione che riflette qualsiasi aggiunta, eliminazione o modifica di elementi.</span><span class="sxs-lookup"><span data-stu-id="d917a-237">Both the visual tree and logical tree are synchronized with the current set of application elements, reflecting any addition, deletion, or modification of elements.</span></span> <span data-ttu-id="d917a-238">Presentano tuttavia visualizzazioni diverse dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d917a-238">However, the trees present different views of the application.</span></span> <span data-ttu-id="d917a-239">A differenza della struttura ad albero visuale, l'albero logico non espande l'elemento <xref:System.Windows.Controls.ContentPresenter> di un controllo.</span><span class="sxs-lookup"><span data-stu-id="d917a-239">Unlike the visual tree, the logical tree does not expand a control's <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="d917a-240">Ciò significa che non vi è una corrispondenza diretta tra un albero logico e una struttura ad albero visuale per lo stesso set di oggetti.</span><span class="sxs-lookup"><span data-stu-id="d917a-240">This means there is not a direct one-to-one correspondence between a logical tree and a visual tree for the same set of objects.</span></span> <span data-ttu-id="d917a-241">Infatti, la chiamata al metodo di <xref:System.Windows.LogicalTreeHelper.GetChildren%2A> dell'oggetto **LogicalTreeHelper** e al metodo <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> dell'oggetto **VisualTreeHelper** utilizzando lo stesso elemento di un parametro produce risultati diversi.</span><span class="sxs-lookup"><span data-stu-id="d917a-241">In fact, invoking the **LogicalTreeHelper** object's <xref:System.Windows.LogicalTreeHelper.GetChildren%2A> method and the **VisualTreeHelper** object's <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> method using the same element as a parameter yields differing results.</span></span>  
  
 <span data-ttu-id="d917a-242">Per altre informazioni sull'albero logico, vedere [Strutture ad albero in WPF](../advanced/trees-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="d917a-242">For more information on the logical tree, see [Trees in WPF](../advanced/trees-in-wpf.md).</span></span>  
  
### <a name="viewing-the-visual-tree-with-xamlpad"></a><span data-ttu-id="d917a-243">Visualizzazione della struttura ad albero visuale con XamlPad</span><span class="sxs-lookup"><span data-stu-id="d917a-243">Viewing the Visual Tree with XamlPad</span></span>  
 <span data-ttu-id="d917a-244">Lo strumento [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], XamlPad, fornisce un'opzione per visualizzare ed esplorare la struttura ad albero visuale che corrisponde al contenuto XAML attualmente definito.</span><span class="sxs-lookup"><span data-stu-id="d917a-244">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tool, XamlPad, provides an option for viewing and exploring the visual tree that corresponds to the currently defined XAML content.</span></span> <span data-ttu-id="d917a-245">Fare clic sul pulsante **Show Visual Tree** (Mostra struttura ad albero visuale) sulla barra dei menu per visualizzare la struttura ad albero visuale.</span><span class="sxs-lookup"><span data-stu-id="d917a-245">Click the **Show Visual Tree** button on the menu bar to display the visual tree.</span></span> <span data-ttu-id="d917a-246">Di seguito viene illustrata l'espansione del contenuto XAML nei nodi della struttura ad albero visuale nel pannello **Visual Tree Explorer** di XamlPad:</span><span class="sxs-lookup"><span data-stu-id="d917a-246">The following illustrates the expansion of XAML content into visual tree nodes in the **Visual Tree Explorer** panel of XamlPad:</span></span>  
  
 ![Pannello Visual Tree Explorer in XamlPad](./media/wpf-graphics-rendering-overview/visual-tree-explorer.png)  

 <span data-ttu-id="d917a-248">Si noti come i controlli <xref:System.Windows.Controls.Label>, <xref:System.Windows.Controls.TextBox>e <xref:System.Windows.Controls.Button> visualizzano ogni gerarchia di oggetti visivi separata nel pannello **Visual Tree Explorer** di XamlPad.</span><span class="sxs-lookup"><span data-stu-id="d917a-248">Notice how the <xref:System.Windows.Controls.Label>, <xref:System.Windows.Controls.TextBox>, and <xref:System.Windows.Controls.Button> controls each display a separate visual object hierarchy in the **Visual Tree Explorer** panel of XamlPad.</span></span> <span data-ttu-id="d917a-249">Ciò è dovuto al fatto che [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controlli dispongono di un <xref:System.Windows.Controls.ControlTemplate> che contiene la struttura ad albero visuale del controllo.</span><span class="sxs-lookup"><span data-stu-id="d917a-249">This is because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls have a <xref:System.Windows.Controls.ControlTemplate> that contains the visual tree of that control.</span></span> <span data-ttu-id="d917a-250">Quando si fa riferimento in modo esplicito a un controllo, si fa riferimento in modo implicito alla relativa gerarchia visiva.</span><span class="sxs-lookup"><span data-stu-id="d917a-250">When you explicitly reference a control, you implicitly reference its visual hierarchy.</span></span>  
  
### <a name="profiling-visual-performance"></a><span data-ttu-id="d917a-251">Profilatura delle prestazioni visive</span><span class="sxs-lookup"><span data-stu-id="d917a-251">Profiling Visual Performance</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="d917a-252">include una suite di strumenti per la profilatura delle prestazioni che consentono di analizzare il comportamento dell'applicazione in fase di esecuzione e di determinare i tipi di ottimizzazioni delle prestazioni che è possibile applicare.</span><span class="sxs-lookup"><span data-stu-id="d917a-252">provides a suite of performance profiling tools that allow you to analyze the run-time behavior of your application and determine the types of performance optimizations you can apply.</span></span> <span data-ttu-id="d917a-253">Lo strumento Visual Profiler offre una visualizzazione grafica completa dei dati sulle prestazioni eseguendo il mapping direttamente alla struttura ad albero visuale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d917a-253">The Visual Profiler tool provides a rich, graphical view of performance data by mapping directly to the application's visual tree.</span></span> <span data-ttu-id="d917a-254">In questa schermata, la sezione **Utilizzo della CPU** di Visual Profiler fornisce un'indicazione dettagliata dell'uso dei servizi [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] da parte di un oggetto, ad esempio il layout e il rendering.</span><span class="sxs-lookup"><span data-stu-id="d917a-254">In this screenshot, the **CPU Usage** section of the Visual Profiler gives you a precise breakdown of an object's use of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] services, such as rendering and layout.</span></span>  
  
 <span data-ttu-id="d917a-255">![Output di Visual Profiler](./media/wpfperf-visualprofiler-04.png "WPFPerf_VisualProfiler_04")</span><span class="sxs-lookup"><span data-stu-id="d917a-255">![Visual Profiler display output](./media/wpfperf-visualprofiler-04.png "WPFPerf_VisualProfiler_04")</span></span>  
<span data-ttu-id="d917a-256">Output di Visual Profiler</span><span class="sxs-lookup"><span data-stu-id="d917a-256">Visual Profiler display output</span></span>  
  
<a name="visual_rendering_behavior"></a>   
## <a name="visual-rendering-behavior"></a><span data-ttu-id="d917a-257">Comportamento di rendering visivo</span><span class="sxs-lookup"><span data-stu-id="d917a-257">Visual Rendering Behavior</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="d917a-258">introduce numerose funzionalità che influiscono sul comportamento di rendering degli oggetti visivi: grafica in modalità differita, grafica vettoriale e grafica indipendente dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d917a-258">introduces several features that affect the rendering behavior of visual objects: retained mode graphics, vector graphics, and device independent graphics.</span></span>  
  
### <a name="retained-mode-graphics"></a><span data-ttu-id="d917a-259">Grafica in modalità differita</span><span class="sxs-lookup"><span data-stu-id="d917a-259">Retained Mode Graphics</span></span>  
 <span data-ttu-id="d917a-260">Uno dei fattori chiave per comprendere il ruolo dell'oggetto visivo consiste nel comprendere la differenza tra i sistemi di grafica in **modalità immediata** e in **modalità differita**.</span><span class="sxs-lookup"><span data-stu-id="d917a-260">One of the keys to understanding the role of the Visual object is to understand the difference between **immediate mode** and **retained mode** graphics systems.</span></span> <span data-ttu-id="d917a-261">Un'applicazione Win32 standard basata su GDI o GDI+ usa un sistema di grafica in modalità immediata.</span><span class="sxs-lookup"><span data-stu-id="d917a-261">A standard Win32 application based on GDI or GDI+ uses an immediate mode graphics system.</span></span> <span data-ttu-id="d917a-262">Ciò significa che l'applicazione è responsabile dell'aggiornamento della porzione dell'area client invalidata, a causa di un'azione, ad esempio il ridimensionamento di una finestra o la modifica dell'aspetto visivo di un oggetto.</span><span class="sxs-lookup"><span data-stu-id="d917a-262">This means that the application is responsible for repainting the portion of the client area that is invalidated, due to an action such as a window being resized, or an object changing its visual appearance.</span></span>  
  
 ![Diagramma della sequenza di rendering Win32](./media/wpf-graphics-rendering-overview/win32-rendering-squence.png)  
  
 <span data-ttu-id="d917a-264">Al contrario, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] usa un sistema in modalità differita.</span><span class="sxs-lookup"><span data-stu-id="d917a-264">In contrast, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses a retained mode system.</span></span> <span data-ttu-id="d917a-265">Questo significa che gli oggetti applicazione che hanno un aspetto visivo definiscono un set di dati di disegno serializzato.</span><span class="sxs-lookup"><span data-stu-id="d917a-265">This means application objects that have a visual appearance define a set of serialized drawing data.</span></span> <span data-ttu-id="d917a-266">Dopo aver definito i dati di disegno, il sistema è responsabile della successiva risposta a tutte le richieste di aggiornamento per il rendering degli oggetti applicazione.</span><span class="sxs-lookup"><span data-stu-id="d917a-266">Once the drawing data is defined, the system is responsible thereafter for responding to all repaint requests for rendering the application objects.</span></span> <span data-ttu-id="d917a-267">Anche in fase di esecuzione, è possibile modificare o creare oggetti applicazione e affidarsi al sistema per rispondere alle richieste di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="d917a-267">Even at run time, you can modify or create application objects, and still rely on the system for responding to paint requests.</span></span> <span data-ttu-id="d917a-268">Il punto forte di un sistema di grafica in modalità differita è che le informazioni sul disegno vengono sempre salvate in modo permanente in uno stato serializzato dall'applicazione, ma la responsabilità del rendering viene lasciata al sistema.</span><span class="sxs-lookup"><span data-stu-id="d917a-268">The power in a retained mode graphics system is that drawing information is always persisted in a serialized state by the application, but rendering responsibility left to the system.</span></span> <span data-ttu-id="d917a-269">Il diagramma seguente mostra come l'applicazione si basa su [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] per rispondere alle richieste di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="d917a-269">The following diagram shows how the application relies on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] for responding to paint requests.</span></span>  
  
 ![Diagramma della sequenza di rendering WPF](./media/wpf-graphics-rendering-overview/wpf-rendering-sequence.png)  

#### <a name="intelligent-redrawing"></a><span data-ttu-id="d917a-271">Ridisegno intelligente</span><span class="sxs-lookup"><span data-stu-id="d917a-271">Intelligent Redrawing</span></span>  
 <span data-ttu-id="d917a-272">Uno dei maggiori vantaggi nell'uso della grafica in modalità differita è che [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] può ottimizzare in modo efficace ciò che deve essere ridisegnato nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d917a-272">One of the biggest benefits in using retained mode graphics is that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can efficiently optimize what needs to be redrawn in the application.</span></span> <span data-ttu-id="d917a-273">Anche se si ha a che fare con una scena complessa con livelli di opacità variabili, in genere non è necessario scrivere un codice specifico per ottimizzare il ridisegno.</span><span class="sxs-lookup"><span data-stu-id="d917a-273">Even if you have a complex scene with varying levels of opacity, you generally do not need to write special-purpose code to optimize redrawing.</span></span> <span data-ttu-id="d917a-274">Confrontare questo aspetto con la programmazione Win32 in cui può succedere di dedicare un notevole impegno per ottimizzare l'applicazione riducendo al minimo la quantità di ridisegno nell'area di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="d917a-274">Compare this with Win32 programming in which you can spend a great deal of effort in optimizing your application by minimizing the amount of redrawing in the update region.</span></span> <span data-ttu-id="d917a-275">Vedere [Ridisegno nell'area di aggiornamento](/windows/desktop/gdi/redrawing-in-the-update-region) per un esempio del tipo di complessità inclusa nell'ottimizzazione del ridisegno nelle applicazioni Win32.</span><span class="sxs-lookup"><span data-stu-id="d917a-275">See [Redrawing in the Update Region](/windows/desktop/gdi/redrawing-in-the-update-region) for an example of the type of complexity involved in optimizing redrawing in Win32 applications.</span></span>  
  
### <a name="vector-graphics"></a><span data-ttu-id="d917a-276">Grafica vettoriale</span><span class="sxs-lookup"><span data-stu-id="d917a-276">Vector Graphics</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="d917a-277">usa la **grafica vettoriale** come formato per i dati di rendering.</span><span class="sxs-lookup"><span data-stu-id="d917a-277">uses **vector graphics** as its rendering data format.</span></span> <span data-ttu-id="d917a-278">Le immagini vettoriali, che includono Scalable Vector Graphics (con estensione svg), Windows Metafile (con estensione wmf) e i tipi di carattere TrueType, archiviano i dati di rendering e li trasmettono come un elenco di istruzioni che descrivono come ricreare un'immagine mediante primitive grafiche.</span><span class="sxs-lookup"><span data-stu-id="d917a-278">Vector graphics—which include Scalable Vector Graphics (SVG), Windows metafiles (.wmf), and TrueType fonts—store rendering data and transmit it as a list of instructions that describe how to recreate an image using graphics primitives.</span></span> <span data-ttu-id="d917a-279">I tipi di carattere TrueType sono ad esempio caratteri vettoriali che descrivono un set di linee, curve e comandi, anziché una matrice di pixel.</span><span class="sxs-lookup"><span data-stu-id="d917a-279">For example, TrueType fonts are outline fonts that describe a set of lines, curves, and commands, rather than an array of pixels.</span></span> <span data-ttu-id="d917a-280">Uno dei principali vantaggi della grafica vettoriale è la possibilità di adattarsi a qualsiasi dimensione e risoluzione.</span><span class="sxs-lookup"><span data-stu-id="d917a-280">One of the key benefits of vector graphics is the ability to scale to any size and resolution.</span></span>  
  
 <span data-ttu-id="d917a-281">A differenza delle immagini vettoriali, le immagini bitmap archiviano i dati di rendering come rappresentazione pixel per pixel di un'immagine, di cui è stato eseguito il pre-rendering per una risoluzione specifica.</span><span class="sxs-lookup"><span data-stu-id="d917a-281">Unlike vector graphics, bitmap graphics store rendering data as a pixel-by-pixel representation of an image, pre-rendered for a specific resolution.</span></span> <span data-ttu-id="d917a-282">Una delle differenze principali tra i formati di immagini bitmap e vettoriali è la fedeltà all'immagine originale.</span><span class="sxs-lookup"><span data-stu-id="d917a-282">One of the key differences between bitmap and vector graphic formats is fidelity to the original source image.</span></span> <span data-ttu-id="d917a-283">Quando ad esempio viene modificata la dimensione di un'immagine di origine, i sistemi di grafica bitmap allungano l'immagine, mentre i sistemi di grafica vettoriale la ridimensionano, conservandone la fedeltà.</span><span class="sxs-lookup"><span data-stu-id="d917a-283">For example, when the size of a source image is modified, bitmap graphics systems stretch the image, whereas vector graphics systems scale the image, preserving the image fidelity.</span></span>  
  
 <span data-ttu-id="d917a-284">La figura seguente illustra un'immagine di origine che è stata ridimensionata del 300%.</span><span class="sxs-lookup"><span data-stu-id="d917a-284">The following illustration shows a source image that has been resized by 300%.</span></span> <span data-ttu-id="d917a-285">Si notino le distorsioni visualizzate quando l'immagine di origine viene allungata come immagine bitmap anziché ridimensionata come immagine vettoriale.</span><span class="sxs-lookup"><span data-stu-id="d917a-285">Notice the distortions that appear when the source image is stretched as a bitmap graphics image rather than scaled as a vector graphics image.</span></span>  
  
 ![Differenze tra grafica raster e vettoriale](./media/wpf-graphics-rendering-overview/raster-vector-differences.png)  
  
 <span data-ttu-id="d917a-287">Il markup seguente mostra due elementi di <xref:System.Windows.Shapes.Path> definiti.</span><span class="sxs-lookup"><span data-stu-id="d917a-287">The following markup shows two <xref:System.Windows.Shapes.Path> elements defined.</span></span> <span data-ttu-id="d917a-288">Il secondo elemento usa un <xref:System.Windows.Media.ScaleTransform> per ridimensionare le istruzioni di disegno del primo elemento del 300%.</span><span class="sxs-lookup"><span data-stu-id="d917a-288">The second element uses a <xref:System.Windows.Media.ScaleTransform> to resize the drawing instructions of the first element by 300%.</span></span> <span data-ttu-id="d917a-289">Si noti che le istruzioni di disegno negli elementi <xref:System.Windows.Shapes.Path> rimangono invariate.</span><span class="sxs-lookup"><span data-stu-id="d917a-289">Notice that the drawing instructions in the <xref:System.Windows.Shapes.Path> elements remain unchanged.</span></span>  
  
 [!code-xaml[VectorGraphicsSnippets#VectorGraphicsSnippet1](~/samples/snippets/csharp/VS_Snippets_Wpf/VectorGraphicsSnippets/CS/PageOne.xaml#vectorgraphicssnippet1)]  
  
### <a name="about-resolution-and-device-independent-graphics"></a><span data-ttu-id="d917a-290">Informazioni sulla grafica indipendente dalla risoluzione e dal dispositivo</span><span class="sxs-lookup"><span data-stu-id="d917a-290">About Resolution and Device-Independent Graphics</span></span>  
 <span data-ttu-id="d917a-291">Esistono due fattori di sistema che determinano la dimensione del testo e della grafica sullo schermo: risoluzione e DPI.</span><span class="sxs-lookup"><span data-stu-id="d917a-291">There are two system factors that determine the size of text and graphics on your screen: resolution and DPI.</span></span> <span data-ttu-id="d917a-292">La risoluzione indica il numero di pixel visualizzati sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="d917a-292">Resolution describes the number of pixels that appear on the screen.</span></span> <span data-ttu-id="d917a-293">Con l'aumento della risoluzione i pixel vengono rimpiccioliti, con la conseguente riduzione della dimensione di grafica e testo.</span><span class="sxs-lookup"><span data-stu-id="d917a-293">As the resolution gets higher, pixels get smaller, causing graphics and text to appear smaller.</span></span> <span data-ttu-id="d917a-294">Un'immagine visualizzata su un monitor impostato su 1024 x 768 apparirà molto più piccola quando viene modificata la risoluzione in 1600 x 1200.</span><span class="sxs-lookup"><span data-stu-id="d917a-294">A graphic displayed on a monitor set to 1024 x 768 will appear much smaller when the resolution is changed to 1600 x 1200.</span></span>  
  
 <span data-ttu-id="d917a-295">L'altra impostazione di sistema, DPI, descrive le dimensioni di un pollice di schermo in pixel.</span><span class="sxs-lookup"><span data-stu-id="d917a-295">The other system setting, DPI, describes the size of a screen inch in pixels.</span></span> <span data-ttu-id="d917a-296">Per la maggior parte dei sistemi Windows è disponibile un valore DPI di 96, che indica un pollice di schermo 96 pixel.</span><span class="sxs-lookup"><span data-stu-id="d917a-296">Most Windows systems have a DPI of 96, which means a screen inch is 96 pixels.</span></span> <span data-ttu-id="d917a-297">Se si aumenta l'impostazione DPI il pollice di schermo diventa più grande; se si diminuisce, il pollice di schermo diventa più piccolo.</span><span class="sxs-lookup"><span data-stu-id="d917a-297">Increasing the DPI setting makes the screen inch larger; decreasing the DPI makes the screen inch smaller.</span></span> <span data-ttu-id="d917a-298">Ciò significa che, nella maggior parte dei sistemi, un pollice di schermo non ha le stesse dimensioni di un pollice reale.</span><span class="sxs-lookup"><span data-stu-id="d917a-298">This means that a screen inch isn't the same size as a real-world inch; on most systems, it's probably not.</span></span> <span data-ttu-id="d917a-299">Quando si aumenta il valore DPI, il testo e la grafica compatibili con DPI diventano più grandi poiché viene aumentata la dimensione del pollice di schermo.</span><span class="sxs-lookup"><span data-stu-id="d917a-299">As you increase the DPI, DPI-aware graphics and text become larger because you've increased the size of the screen inch.</span></span> <span data-ttu-id="d917a-300">L'aumento del valore DPI può rendere il testo più leggibile, soprattutto a risoluzioni elevate.</span><span class="sxs-lookup"><span data-stu-id="d917a-300">Increasing the DPI can make text easier to read, especially at high resolutions.</span></span>  
  
 <span data-ttu-id="d917a-301">Non tutte le applicazioni sono compatibili con il valore DPI: alcune usano i pixel hardware come unità di misura primaria. La modifica del valore DPI di sistema non ha alcun effetto su tali applicazioni.</span><span class="sxs-lookup"><span data-stu-id="d917a-301">Not all applications are DPI-aware: some use hardware pixels as the primary unit of measurement; changing the system DPI has no effect on these applications.</span></span> <span data-ttu-id="d917a-302">Molte altre applicazioni usano unità compatibili con DPI per descrivere le dimensioni dei tipi di carattere, ma usano i pixel per descrivere tutto il resto.</span><span class="sxs-lookup"><span data-stu-id="d917a-302">Many other applications use DPI-aware units to describe font sizes, but use pixels to describe everything else.</span></span> <span data-ttu-id="d917a-303">L'eccessiva riduzione o l'eccessivo aumento del valore DPI può causare problemi di layout per queste applicazioni, poiché il testo delle applicazioni viene ridimensionato con l'impostazione DPI del sistema, ma non l'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="d917a-303">Making the DPI too small or too large can cause layout problems for these applications, because the applications' text scales with the system's DPI setting, but the applications' UI does not.</span></span> <span data-ttu-id="d917a-304">Questo problema è stato eliminato per le applicazioni sviluppate usando [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d917a-304">This problem has been eliminated for applications developed using [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="d917a-305">supporta il ridimensionamento automatico usando il pixel indipendente dal dispositivo come unità di misura primaria, anziché i pixel hardware. La grafica e il testo vengono ridimensionati correttamente senza operazioni aggiuntive da parte dello sviluppatore dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d917a-305">supports automatic scaling by using the device independent pixel as its primary unit of measurement, instead of hardware pixels; graphics and text scale properly without any extra work from the application developer.</span></span> <span data-ttu-id="d917a-306">La figura seguente illustra un esempio di come vengono visualizzati la grafica e il testo di [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] con impostazioni DPI diverse.</span><span class="sxs-lookup"><span data-stu-id="d917a-306">The following illustration shows an example of how [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] text and graphics are appear at different DPI settings.</span></span>  
  
 <span data-ttu-id="d917a-307">![Grafica e testo con impostazioni DPI diverse](./media/graphicsmm-dpi-setting-examples.png "graphicsmm_dpi_setting_examples")</span><span class="sxs-lookup"><span data-stu-id="d917a-307">![Graphics and text at different DPI settings](./media/graphicsmm-dpi-setting-examples.png "graphicsmm_dpi_setting_examples")</span></span>  
<span data-ttu-id="d917a-308">Grafica e testo con impostazioni DPI diverse</span><span class="sxs-lookup"><span data-stu-id="d917a-308">Graphics and text at different DPI settings</span></span>  
  
<a name="visualtreehelper_class"></a>   
## <a name="visualtreehelper-class"></a><span data-ttu-id="d917a-309">Classe VisualTreeHelper</span><span class="sxs-lookup"><span data-stu-id="d917a-309">VisualTreeHelper Class</span></span>  
 <span data-ttu-id="d917a-310">La classe <xref:System.Windows.Media.VisualTreeHelper> è una classe helper statica che fornisce funzionalità di basso livello per la programmazione a livello di oggetto visivo, utile in scenari molto specifici, ad esempio lo sviluppo di controlli personalizzati a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="d917a-310">The <xref:System.Windows.Media.VisualTreeHelper> class is a static helper class that provides low-level functionality for programming at the visual object level, which is useful in very specific scenarios, such as developing high-performance custom controls.</span></span> <span data-ttu-id="d917a-311">Nella maggior parte dei casi, gli oggetti [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Framework di livello superiore, ad esempio <xref:System.Windows.Controls.Canvas> e <xref:System.Windows.Controls.TextBlock>, offrono maggiore flessibilità e semplicità d'uso.</span><span class="sxs-lookup"><span data-stu-id="d917a-311">In most case, the higher-level [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] framework objects, such as <xref:System.Windows.Controls.Canvas> and <xref:System.Windows.Controls.TextBlock>, offer greater flexibility and ease of use.</span></span>  
  
### <a name="hit-testing"></a><span data-ttu-id="d917a-312">Hit Testing</span><span class="sxs-lookup"><span data-stu-id="d917a-312">Hit Testing</span></span>  
 <span data-ttu-id="d917a-313">La classe <xref:System.Windows.Media.VisualTreeHelper> fornisce metodi per l'hit testing su oggetti visivi quando il supporto per l'hit test predefinito non soddisfa le proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="d917a-313">The <xref:System.Windows.Media.VisualTreeHelper> class provides methods for hit testing on visual objects when the default hit test support does not meet your needs.</span></span> <span data-ttu-id="d917a-314">È possibile utilizzare i metodi <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> nella classe <xref:System.Windows.Media.VisualTreeHelper> per determinare se un valore di coordinata di geometria o punto si trova all'interno del limite di un determinato oggetto, ad esempio un controllo o un elemento grafico.</span><span class="sxs-lookup"><span data-stu-id="d917a-314">You can use the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> methods in the <xref:System.Windows.Media.VisualTreeHelper> class to determine whether a geometry or point coordinate value is within the boundary of a given object, such as a control or graphic element.</span></span> <span data-ttu-id="d917a-315">È ad esempio possibile usare l'hit testing per stabilire se un clic del mouse all'interno del rettangolo delimitatore di un oggetto rientra nella geometria di un cerchio. È anche possibile scegliere di eseguire l'override dell'implementazione predefinita dell'hit testing per eseguire calcoli di hit testing personalizzati.</span><span class="sxs-lookup"><span data-stu-id="d917a-315">For example, you could use hit testing to determine whether a mouse click within the bounding rectangle of an object falls within the geometry of a circle You can also choose to override the default implementation of hit testing to perform your own custom hit test calculations.</span></span>  
  
 <span data-ttu-id="d917a-316">Per altre informazioni sull'hit testing, vedere [Hit testing a livello visivo](hit-testing-in-the-visual-layer.md).</span><span class="sxs-lookup"><span data-stu-id="d917a-316">For more information on hit testing, see [Hit Testing in the Visual Layer](hit-testing-in-the-visual-layer.md).</span></span>  
  
### <a name="enumerating-the-visual-tree"></a><span data-ttu-id="d917a-317">Enumerazione della struttura ad albero visuale</span><span class="sxs-lookup"><span data-stu-id="d917a-317">Enumerating the Visual Tree</span></span>  
 <span data-ttu-id="d917a-318">La classe <xref:System.Windows.Media.VisualTreeHelper> fornisce funzionalità per l'enumerazione dei membri di una struttura ad albero visuale.</span><span class="sxs-lookup"><span data-stu-id="d917a-318">The <xref:System.Windows.Media.VisualTreeHelper> class provides functionality for enumerating the members of a visual tree.</span></span> <span data-ttu-id="d917a-319">Per recuperare un elemento padre, chiamare il metodo <xref:System.Windows.Media.VisualTreeHelper.GetParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="d917a-319">To retrieve a parent, call the <xref:System.Windows.Media.VisualTreeHelper.GetParent%2A> method.</span></span> <span data-ttu-id="d917a-320">Per recuperare un elemento figlio o un discendente diretto di un oggetto visivo, chiamare il metodo <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A>.</span><span class="sxs-lookup"><span data-stu-id="d917a-320">To retrieve a child, or direct descendant, of a visual object, call the <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> method.</span></span> <span data-ttu-id="d917a-321">Questo metodo restituisce un <xref:System.Windows.Media.Visual> figlio dell'elemento padre in corrispondenza dell'indice specificato.</span><span class="sxs-lookup"><span data-stu-id="d917a-321">This method returns a child <xref:System.Windows.Media.Visual> of the parent at the specified index.</span></span>  
  
 <span data-ttu-id="d917a-322">L'esempio seguente illustra come enumerare tutti i discendenti di un oggetto visivo. Si tratta di una tecnica da usare se si desidera serializzare tutte le informazioni di rendering di una gerarchia di oggetti visivi.</span><span class="sxs-lookup"><span data-stu-id="d917a-322">The following example shows how to enumerate all the descendants of a visual object, which is a technique you might want to use if you were interested in serializing all the rendering information of a visual object hierarchy.</span></span>  
  
 [!code-csharp[VisualsOverview#101](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml.cs#101)]
 [!code-vb[VisualsOverview#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/VisualsOverview/visualbasic/window1.xaml.vb#101)]  
  
 <span data-ttu-id="d917a-323">Nella maggior parte dei casi, l'albero logico è una rappresentazione più utile degli elementi di un'applicazione [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d917a-323">In most cases, the logical tree is a more useful representation of the elements in a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span> <span data-ttu-id="d917a-324">Sebbene l'albero logico non venga modificato direttamente, la visualizzazione dell'applicazione è utile per comprendere l'ereditarietà delle proprietà e il routing degli eventi.</span><span class="sxs-lookup"><span data-stu-id="d917a-324">Although you do not modify the logical tree directly, this view of the application is useful for understanding property inheritance and event routing.</span></span> <span data-ttu-id="d917a-325">A differenza della struttura ad albero visuale, l'albero logico può rappresentare oggetti dati non visivi, ad esempio <xref:System.Windows.Documents.ListItem>.</span><span class="sxs-lookup"><span data-stu-id="d917a-325">Unlike the visual tree, the logical tree can represent non-visual data objects, such as <xref:System.Windows.Documents.ListItem>.</span></span> <span data-ttu-id="d917a-326">Per altre informazioni sull'albero logico, vedere [Strutture ad albero in WPF](../advanced/trees-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="d917a-326">For more information on the logical tree, see [Trees in WPF](../advanced/trees-in-wpf.md).</span></span>  
  
 <span data-ttu-id="d917a-327">La classe <xref:System.Windows.Media.VisualTreeHelper> fornisce metodi per la restituzione del rettangolo di delimitazione degli oggetti visivi.</span><span class="sxs-lookup"><span data-stu-id="d917a-327">The <xref:System.Windows.Media.VisualTreeHelper> class provides methods for returning the bounding rectangle of visual objects.</span></span> <span data-ttu-id="d917a-328">È possibile restituire il rettangolo delimitatore di un oggetto visivo chiamando <xref:System.Windows.Media.VisualTreeHelper.GetContentBounds%2A>.</span><span class="sxs-lookup"><span data-stu-id="d917a-328">You can return the bounding rectangle of a visual object by calling <xref:System.Windows.Media.VisualTreeHelper.GetContentBounds%2A>.</span></span> <span data-ttu-id="d917a-329">È possibile restituire il rettangolo di delimitazione di tutti i discendenti di un oggetto visivo, incluso l'oggetto visivo stesso, chiamando <xref:System.Windows.Media.VisualTreeHelper.GetDescendantBounds%2A>.</span><span class="sxs-lookup"><span data-stu-id="d917a-329">You can return the bounding rectangle of all the descendants of a visual object, including the visual object itself, by calling <xref:System.Windows.Media.VisualTreeHelper.GetDescendantBounds%2A>.</span></span> <span data-ttu-id="d917a-330">Il codice seguente illustra come calcolare il rettangolo delimitatore di un oggetto visivo e di tutti i relativi discendenti.</span><span class="sxs-lookup"><span data-stu-id="d917a-330">The following code shows how you would calculate the bounding rectangle of a visual object and all its descendants.</span></span>  
  
 [!code-csharp[VisualsOverview#102](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml.cs#102)]
 [!code-vb[VisualsOverview#102](~/samples/snippets/visualbasic/VS_Snippets_Wpf/VisualsOverview/visualbasic/window1.xaml.vb#102)]  
  
## <a name="see-also"></a><span data-ttu-id="d917a-331">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="d917a-331">See also</span></span>

- <xref:System.Windows.Media.Visual>
- <xref:System.Windows.Media.VisualTreeHelper>
- <xref:System.Windows.Media.DrawingVisual>
- [<span data-ttu-id="d917a-332">Grafica bidimensionale e creazione di immagini</span><span class="sxs-lookup"><span data-stu-id="d917a-332">2D Graphics and Imaging</span></span>](../advanced/optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="d917a-333">Hit testing a livello visivo</span><span class="sxs-lookup"><span data-stu-id="d917a-333">Hit Testing in the Visual Layer</span></span>](hit-testing-in-the-visual-layer.md)
- [<span data-ttu-id="d917a-334">Uso degli oggetti DrawingVisual</span><span class="sxs-lookup"><span data-stu-id="d917a-334">Using DrawingVisual Objects</span></span>](using-drawingvisual-objects.md)
- [<span data-ttu-id="d917a-335">Esercitazione: hosting di oggetti visivi in un'applicazione Win32</span><span class="sxs-lookup"><span data-stu-id="d917a-335">Tutorial: Hosting Visual Objects in a Win32 Application</span></span>](tutorial-hosting-visual-objects-in-a-win32-application.md)
- [<span data-ttu-id="d917a-336">Ottimizzazione delle prestazioni di applicazioni WPF</span><span class="sxs-lookup"><span data-stu-id="d917a-336">Optimizing WPF Application Performance</span></span>](../advanced/optimizing-wpf-application-performance.md)
