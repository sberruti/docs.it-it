---
title: Opzioni di traccia
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- tracing [.NET Framework], trace switches
- trace switches, about trace switches
- tracing [.NET Framework], level of detail
- switches, trace
- trace switches
- trace switches, creating custom
ms.assetid: 8ab913aa-f400-4406-9436-f45bc6e54fbe
ms.openlocfilehash: c164e26c6757094b9820af14a098229ab11eb137
ms.sourcegitcommit: 9c54866bcbdc49dbb981dd55be9bbd0443837aa2
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/14/2020
ms.locfileid: "77217201"
---
# <a name="trace-switches"></a><span data-ttu-id="60fd8-102">Opzioni di traccia</span><span class="sxs-lookup"><span data-stu-id="60fd8-102">Trace Switches</span></span>
<span data-ttu-id="60fd8-103">Le opzioni di traccia consentono di abilitare, disabilitare e filtrare l'output di traccia.</span><span class="sxs-lookup"><span data-stu-id="60fd8-103">Trace switches enable you to enable, disable, and filter tracing output.</span></span> <span data-ttu-id="60fd8-104">Si tratta di oggetti presenti nel codice che possono essere configurati esternamente tramite il file CONFIG.</span><span class="sxs-lookup"><span data-stu-id="60fd8-104">They are objects that exist in your code and can be configured externally through the .config file.</span></span> <span data-ttu-id="60fd8-105">Esistono tre tipi di opzioni di traccia in .NET Framework, ossia le classi <xref:System.Diagnostics.BooleanSwitch> , <xref:System.Diagnostics.TraceSwitch> e <xref:System.Diagnostics.SourceSwitch> .</span><span class="sxs-lookup"><span data-stu-id="60fd8-105">There are three types of trace switches provided in the .NET Framework: the <xref:System.Diagnostics.BooleanSwitch> class, the <xref:System.Diagnostics.TraceSwitch> class, and the <xref:System.Diagnostics.SourceSwitch> class.</span></span> <span data-ttu-id="60fd8-106">La classe <xref:System.Diagnostics.BooleanSwitch> funge da opzione di attivazione o disabilitazione per diverse istruzioni di traccia.</span><span class="sxs-lookup"><span data-stu-id="60fd8-106">The <xref:System.Diagnostics.BooleanSwitch> class acts as a toggle switch, either enabling or disabling a variety of trace statements.</span></span> <span data-ttu-id="60fd8-107">Le classi <xref:System.Diagnostics.TraceSwitch> e <xref:System.Diagnostics.SourceSwitch> consentono di attivare un'opzione per un particolare livello di tracciatura, in modo che vengano visualizzati i messaggi di traccia <xref:System.Diagnostics.Trace> o <xref:System.Diagnostics.TraceSource> specificati per quel livello e per tutti i livelli inferiori.</span><span class="sxs-lookup"><span data-stu-id="60fd8-107">The <xref:System.Diagnostics.TraceSwitch> and <xref:System.Diagnostics.SourceSwitch> classes allow you to enable a trace switch for a particular tracing level so that the <xref:System.Diagnostics.Trace> or <xref:System.Diagnostics.TraceSource> messages specified for that level and all levels below it appear.</span></span> <span data-ttu-id="60fd8-108">Se si disabilita l'opzione, i messaggi di traccia non verranno visualizzati.</span><span class="sxs-lookup"><span data-stu-id="60fd8-108">If you disable the switch, the trace messages will not appear.</span></span> <span data-ttu-id="60fd8-109">Tutte queste classi derivano dalla classe**Switch**( **MustInherit**) astratta, come avviene per ogni opzione sviluppata dall'utente.</span><span class="sxs-lookup"><span data-stu-id="60fd8-109">All these classes derive from the abstract (**MustInherit**) class **Switch**, as should any user-developed switches.</span></span>  
  
 <span data-ttu-id="60fd8-110">Le opzioni di traccia possono essere utili per filtrare informazioni.</span><span class="sxs-lookup"><span data-stu-id="60fd8-110">Trace switches can be useful for filtering information.</span></span> <span data-ttu-id="60fd8-111">Può essere ad esempio necessario visualizzare ogni messaggio di traccia in un modulo di accesso ai dati, ma solo i messaggi di errore nel resto dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="60fd8-111">For example, you might want to see every tracing message in a data access module, but only error messages in the rest of the application.</span></span> <span data-ttu-id="60fd8-112">In questo caso, si usa un'opzione di traccia per il modulo di accesso ai dati e un'opzione per il resto dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="60fd8-112">In that case, you would use one trace switch for the data access module and one switch for the rest of the application.</span></span> <span data-ttu-id="60fd8-113">Usando il file CONFIG per configurare le opzioni sulle impostazioni appropriate, è possibile controllare il tipo di messaggi di traccia ricevuti.</span><span class="sxs-lookup"><span data-stu-id="60fd8-113">By using the .config file to configure the switches to the appropriate settings, you could control what types of trace message you received.</span></span> <span data-ttu-id="60fd8-114">Per altre informazioni, vedere [Procedura: Creare, inizializzare e configurare opzioni di traccia](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="60fd8-114">For more information, see [How to: Create, Initialize and Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
 <span data-ttu-id="60fd8-115">In genere un'applicazione distribuita viene eseguita con le opzioni disabilitate, in modo che non vengano visualizzati messaggi di traccia superflui o non sia necessario compilare file di log durante l'esecuzione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="60fd8-115">Typically, a deployed application is executed with its switches disabled, so that users need not observe a lot of irrelevant trace messages appearing on a screen or filling up a log file as the application runs.</span></span> <span data-ttu-id="60fd8-116">Se si verifica un problema durante l'esecuzione dell'applicazione, è possibile arrestare l'applicazione, attivare le opzioni e riavviare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="60fd8-116">If a problem arises during application execution, you can stop the application, enable the switches, and restart the application.</span></span> <span data-ttu-id="60fd8-117">I messaggi di tracciatura verranno quindi visualizzati.</span><span class="sxs-lookup"><span data-stu-id="60fd8-117">Then the tracing messages will be displayed.</span></span>  
  
 <span data-ttu-id="60fd8-118">Per usare un'opzione è prima di tutto necessario creare un oggetto opzione da una classe **BooleanSwitch** , da una classe **TraceSwitch** o da una classe di opzione definita dallo sviluppatore.</span><span class="sxs-lookup"><span data-stu-id="60fd8-118">To use a switch you must first create a switch object from a **BooleanSwitch** class, a **TraceSwitch** class, or a developer-defined switch class.</span></span> <span data-ttu-id="60fd8-119">Per altre informazioni sulla creazione di opzioni definite dallo sviluppatore, vedere la classe <xref:System.Diagnostics.Switch> negli argomenti di riferimento su .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="60fd8-119">For more information about creating developer-defined switches, see the <xref:System.Diagnostics.Switch> class in the .NET Framework reference.</span></span> <span data-ttu-id="60fd8-120">Si imposta poi un valore di configurazione che specifica quando occorre usare l'oggetto opzione.</span><span class="sxs-lookup"><span data-stu-id="60fd8-120">Then you set a configuration value that specifies when the switch object is to be used.</span></span> <span data-ttu-id="60fd8-121">Si procede quindi alla verifica dell'impostazione dell'oggetto opzione in diversi metodi di traccia **Trace** o **Debug**.</span><span class="sxs-lookup"><span data-stu-id="60fd8-121">You then test the setting of the switch object in various **Trace** (or **Debug**) tracing methods.</span></span>  
  
## <a name="trace-levels"></a><span data-ttu-id="60fd8-122">Livelli di traccia</span><span class="sxs-lookup"><span data-stu-id="60fd8-122">Trace Levels</span></span>  
 <span data-ttu-id="60fd8-123">L'uso di **TraceSwitch**comporta considerazioni aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="60fd8-123">When you use **TraceSwitch**, there are additional considerations.</span></span> <span data-ttu-id="60fd8-124">Un oggetto **TraceSwitch** ha quattro proprietà che restituiscono valori **Boolean** che indicano se l'opzione è impostata su almeno un livello particolare:</span><span class="sxs-lookup"><span data-stu-id="60fd8-124">A **TraceSwitch** object has four properties that return **Boolean** values indicating whether the switch is set to at least a particular level:</span></span>  
  
- <xref:System.Diagnostics.TraceSwitch.TraceError%2A?displayProperty=nameWithType>  
  
- <xref:System.Diagnostics.TraceSwitch.TraceWarning%2A?displayProperty=nameWithType>  
  
- <xref:System.Diagnostics.TraceSwitch.TraceInfo%2A?displayProperty=nameWithType>  
  
- <xref:System.Diagnostics.TraceSwitch.TraceVerbose%2A?displayProperty=nameWithType>  
  
 <span data-ttu-id="60fd8-125">I livelli permettono di limitare la quantità di informazioni di traccia ricevute unicamente alle informazioni necessarie per risolvere un problema.</span><span class="sxs-lookup"><span data-stu-id="60fd8-125">Levels allow you to limit the amount of tracing information you receive to only that information needed to solve a problem.</span></span> <span data-ttu-id="60fd8-126">Si specifica il livello di dettaglio desiderato nell'output di traccia impostando e configurando le opzioni di traccia al livello di traccia appropriato.</span><span class="sxs-lookup"><span data-stu-id="60fd8-126">You specify the level of detail you want in your tracing output by setting and configuring trace switches to the appropriate trace level.</span></span> <span data-ttu-id="60fd8-127">È possibile ricevere messaggi di errore, messaggi di avviso, messaggi informativi, messaggi di traccia dettagliati o nessun messaggio.</span><span class="sxs-lookup"><span data-stu-id="60fd8-127">You can receive error messages, warning messages, informational messages, verbose tracing messages, or no message at all.</span></span>  
  
 <span data-ttu-id="60fd8-128">È possibile decidere quale tipo di messaggi associare a ogni livello.</span><span class="sxs-lookup"><span data-stu-id="60fd8-128">It is entirely up to you to decide what kind of message to associate with each level.</span></span> <span data-ttu-id="60fd8-129">In genere il contenuto dei messaggi di traccia dipende da ciò che viene associato a ogni livello, ma è possibile stabilire le differenze tra i livelli.</span><span class="sxs-lookup"><span data-stu-id="60fd8-129">Typically, the content of tracing messages depends on what you associate with each level, but you determine the differences between levels.</span></span> <span data-ttu-id="60fd8-130">È possibile ad esempio fornire descrizioni dettagliate di un problema a livello 3 (**Info**), ma fornire solo un numero di riferimento per l'errore a livello 1 (**Error**).</span><span class="sxs-lookup"><span data-stu-id="60fd8-130">You might want to provide detailed descriptions of a problem at level 3 (**Info**), for example, but provide only an error reference number at level 1 (**Error**).</span></span> <span data-ttu-id="60fd8-131">È possibile stabilire lo schema più adatto per ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="60fd8-131">It is entirely up to you to decide what scheme works best in your application.</span></span>  
  
 <span data-ttu-id="60fd8-132">Queste proprietà corrispondono ai valori da 1 a 4 dell'enumerazione **TraceLevel** .</span><span class="sxs-lookup"><span data-stu-id="60fd8-132">These properties correspond to the values 1 through 4 of the **TraceLevel** enumeration.</span></span> <span data-ttu-id="60fd8-133">La tabella seguente elenca i livelli dell'enumerazione **TraceLevel** e i rispettivi valori.</span><span class="sxs-lookup"><span data-stu-id="60fd8-133">The following table lists the levels of the **TraceLevel** enumeration and their values.</span></span>  
  
|<span data-ttu-id="60fd8-134">Valore enumerato</span><span class="sxs-lookup"><span data-stu-id="60fd8-134">Enumerated value</span></span>|<span data-ttu-id="60fd8-135">Valore intero</span><span class="sxs-lookup"><span data-stu-id="60fd8-135">Integer value</span></span>|<span data-ttu-id="60fd8-136">Tipo di messaggio visualizzato o scritto in una destinazione di output specificata</span><span class="sxs-lookup"><span data-stu-id="60fd8-136">Type of message displayed (or written to a specified output target)</span></span>|  
|----------------------|-------------------|---------------------------------------------------------------------------|  
|<span data-ttu-id="60fd8-137">Disattivato</span><span class="sxs-lookup"><span data-stu-id="60fd8-137">Off</span></span>|<span data-ttu-id="60fd8-138">0</span><span class="sxs-lookup"><span data-stu-id="60fd8-138">0</span></span>|<span data-ttu-id="60fd8-139">nessuno</span><span class="sxs-lookup"><span data-stu-id="60fd8-139">None</span></span>|  
|<span data-ttu-id="60fd8-140">Errore</span><span class="sxs-lookup"><span data-stu-id="60fd8-140">Error</span></span>|<span data-ttu-id="60fd8-141">1</span><span class="sxs-lookup"><span data-stu-id="60fd8-141">1</span></span>|<span data-ttu-id="60fd8-142">Solo messaggi di errore.</span><span class="sxs-lookup"><span data-stu-id="60fd8-142">Only error messages</span></span>|  
|<span data-ttu-id="60fd8-143">Avviso</span><span class="sxs-lookup"><span data-stu-id="60fd8-143">Warning</span></span>|<span data-ttu-id="60fd8-144">2</span><span class="sxs-lookup"><span data-stu-id="60fd8-144">2</span></span>|<span data-ttu-id="60fd8-145">Messaggi di avviso e messaggi di errore.</span><span class="sxs-lookup"><span data-stu-id="60fd8-145">Warning messages and error messages</span></span>|  
|<span data-ttu-id="60fd8-146">Info</span><span class="sxs-lookup"><span data-stu-id="60fd8-146">Info</span></span>|<span data-ttu-id="60fd8-147">3</span><span class="sxs-lookup"><span data-stu-id="60fd8-147">3</span></span>|<span data-ttu-id="60fd8-148">Messaggi informativi, messaggi di avviso e messaggi di errore.</span><span class="sxs-lookup"><span data-stu-id="60fd8-148">Informational messages, warning messages, and error messages</span></span>|  
|<span data-ttu-id="60fd8-149">Dettagliato</span><span class="sxs-lookup"><span data-stu-id="60fd8-149">Verbose</span></span>|<span data-ttu-id="60fd8-150">4</span><span class="sxs-lookup"><span data-stu-id="60fd8-150">4</span></span>|<span data-ttu-id="60fd8-151">Messaggi dettagliati, messaggi informativi, messaggi di avviso e messaggi di errore.</span><span class="sxs-lookup"><span data-stu-id="60fd8-151">Verbose messages, informational messages, warning messages, and error messages</span></span>|  
  
 <span data-ttu-id="60fd8-152">Le proprietà **TraceSwitch** indicano il livello di traccia massimo per l'opzione,</span><span class="sxs-lookup"><span data-stu-id="60fd8-152">The **TraceSwitch** properties indicate the maximum trace level for the switch.</span></span> <span data-ttu-id="60fd8-153">ovvero l'informazione di traccia viene scritta per il livello specificato e per tutti i livelli inferiori.</span><span class="sxs-lookup"><span data-stu-id="60fd8-153">That is, tracing information is written for the level specified as well as for all lower levels.</span></span> <span data-ttu-id="60fd8-154">Se, ad esempio **TraceInfo** è **true**, anche **TraceError** e **TraceWarning** saranno **true** ma **TraceVerbose** potrebbe essere **false**.</span><span class="sxs-lookup"><span data-stu-id="60fd8-154">For example, if **TraceInfo** is **true**, then **TraceError** and **TraceWarning** are also **true** but **TraceVerbose** might well be **false**.</span></span>  
  
 <span data-ttu-id="60fd8-155">Queste proprietà sono di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="60fd8-155">These properties are read-only.</span></span> <span data-ttu-id="60fd8-156">L'oggetto **TraceSwitch** le imposta automaticamente quando viene impostata la proprietà **TraceLevel** .</span><span class="sxs-lookup"><span data-stu-id="60fd8-156">The **TraceSwitch** object automatically sets them when the **TraceLevel** property is set.</span></span> <span data-ttu-id="60fd8-157">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="60fd8-157">For example:</span></span>  
  
```vb  
Dim myTraceSwitch As New TraceSwitch("SwitchOne", "The first switch")  
myTraceSwitch.Level = TraceLevel.Info  
' This message box displays true, because setting the level to  
' TraceLevel.Info sets all lower levels to true as well.  
MessageBox.Show(myTraceSwitch.TraceWarning.ToString())  
' This messagebox displays false.  
MessageBox.Show(myTraceSwitch.TraceVerbose.ToString())  
```  
  
```csharp  
System.Diagnostics.TraceSwitch myTraceSwitch =   
   new System.Diagnostics.TraceSwitch("SwitchOne", "The first switch");  
myTraceSwitch.Level = System.Diagnostics.TraceLevel.Info;  
// This message box displays true, because setting the level to   
// TraceLevel.Info sets all lower levels to true as well.  
MessageBox.Show(myTraceSwitch.TraceWarning.ToString());  
// This message box displays false.  
MessageBox.Show(myTraceSwitch.TraceVerbose.ToString());  
```  
  
## <a name="developer-defined-switches"></a><span data-ttu-id="60fd8-158">Opzioni definite dallo sviluppatore</span><span class="sxs-lookup"><span data-stu-id="60fd8-158">Developer-Defined Switches</span></span>  
 <span data-ttu-id="60fd8-159">Oltre a fornire **BooleanSwitch** e **TraceSwitch**, è possibile definire opzioni personalizzate ereditando dalla classe **Switch** ed eseguendo l'override dei metodi della classe base con i metodi personalizzati.</span><span class="sxs-lookup"><span data-stu-id="60fd8-159">In addition to providing **BooleanSwitch** and **TraceSwitch**, you can define your own switches by inheriting from the **Switch** class and overriding the base class methods with customized methods.</span></span> <span data-ttu-id="60fd8-160">Per altre informazioni sulla creazione di opzioni definite dallo sviluppatore, vedere la classe <xref:System.Diagnostics.Switch> negli argomenti di riferimento su .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="60fd8-160">For more information about creating developer-defined switches, see the <xref:System.Diagnostics.Switch> class in the .NET Framework reference.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="60fd8-161">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="60fd8-161">See also</span></span>

- [<span data-ttu-id="60fd8-162">Listener di traccia</span><span class="sxs-lookup"><span data-stu-id="60fd8-162">Trace Listeners</span></span>](trace-listeners.md)
- [<span data-ttu-id="60fd8-163">Procedura: aggiungere istruzioni di traccia al codice dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="60fd8-163">How to: Add Trace Statements to Application Code</span></span>](how-to-add-trace-statements-to-application-code.md)
- [<span data-ttu-id="60fd8-164">Traccia e strumentazione di applicazioni</span><span class="sxs-lookup"><span data-stu-id="60fd8-164">Tracing and Instrumenting Applications</span></span>](tracing-and-instrumenting-applications.md)
