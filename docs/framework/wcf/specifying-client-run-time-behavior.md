---
title: Specifica del comportamento in fase di esecuzione dei client
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- behaviors [WCF], system-provided client
ms.assetid: d16d3405-be70-4edb-8f62-b5f614ddeca5
ms.openlocfilehash: f9c22d25bedc36b3515538a8785b488aaa547990
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/12/2020
ms.locfileid: "79143239"
---
# <a name="specifying-client-run-time-behavior"></a><span data-ttu-id="96d26-102">Specifica del comportamento in fase di esecuzione dei client</span><span class="sxs-lookup"><span data-stu-id="96d26-102">Specifying Client Run-Time Behavior</span></span>
<span data-ttu-id="96d26-103">I client Windows Communication Foundation (WCF), ad esempio i servizi Windows Communication Foundation (WCF), possono essere configurati per modificare il comportamento in fase di esecuzione in base all'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="96d26-103">Windows Communication Foundation (WCF) clients, like Windows Communication Foundation (WCF) services, can be configured to modify the run-time behavior to suit the client application.</span></span> <span data-ttu-id="96d26-104">Sono disponibili tre attributi per la specifica del comportamento in fase di esecuzione dei client.</span><span class="sxs-lookup"><span data-stu-id="96d26-104">Three attributes are available for specifying client run-time behavior.</span></span> <span data-ttu-id="96d26-105">Gli oggetti callback dei client duplex possono usare gli attributi <xref:System.ServiceModel.CallbackBehaviorAttribute> e <xref:System.ServiceModel.Description.CallbackDebugBehavior> per modificare il proprio comportamento in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="96d26-105">Duplex client callback objects can use the <xref:System.ServiceModel.CallbackBehaviorAttribute> and <xref:System.ServiceModel.Description.CallbackDebugBehavior> attributes to modify their run-time behavior.</span></span> <span data-ttu-id="96d26-106">L'altro attributo, <xref:System.ServiceModel.Description.ClientViaBehavior>, può essere usato per separare la destinazione logica dalla destinazione di rete immediata.</span><span class="sxs-lookup"><span data-stu-id="96d26-106">The other attribute, <xref:System.ServiceModel.Description.ClientViaBehavior>, can be used to separate the logical destination from the immediate network destination.</span></span> <span data-ttu-id="96d26-107">Inoltre, i tipi di callback dei client duplex possono usare alcuni dei comportamenti del lato servizi.</span><span class="sxs-lookup"><span data-stu-id="96d26-107">In addition, duplex client callback types can use some of the service-side behaviors.</span></span> <span data-ttu-id="96d26-108">Per ulteriori informazioni, vedere [Specifica del comportamento in fase di esecuzione del servizio](specifying-service-run-time-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="96d26-108">For more information, see [Specifying Service Run-Time Behavior](specifying-service-run-time-behavior.md).</span></span>  
  
## <a name="using-the-callbackbehaviorattribute"></a><span data-ttu-id="96d26-109">Uso di CallbackBehaviorAttribute</span><span class="sxs-lookup"><span data-stu-id="96d26-109">Using the CallbackBehaviorAttribute</span></span>  
 <span data-ttu-id="96d26-110">È possibile configurare o estendere il comportamento di esecuzione dell'implementazione di un contratto di callback in un'applicazione client usando la classe <xref:System.ServiceModel.CallbackBehaviorAttribute>.</span><span class="sxs-lookup"><span data-stu-id="96d26-110">You can configure or extend the execution behavior of a callback contract implementation in a client application by using the <xref:System.ServiceModel.CallbackBehaviorAttribute> class.</span></span> <span data-ttu-id="96d26-111">Questo attributo esegue, per la classe di callback, una funzione simile a quella della classe <xref:System.ServiceModel.ServiceBehaviorAttribute>, fatta eccezione per il comportamento di creazione di istanze e le impostazioni di transazione.</span><span class="sxs-lookup"><span data-stu-id="96d26-111">This attribute performs a similar function for the callback class as the <xref:System.ServiceModel.ServiceBehaviorAttribute> class, with the exception of instancing behavior and transaction settings.</span></span>  
  
 <span data-ttu-id="96d26-112">La classe <xref:System.ServiceModel.CallbackBehaviorAttribute> deve essere applicata alla classe che implementa il contratto di callback.</span><span class="sxs-lookup"><span data-stu-id="96d26-112">The <xref:System.ServiceModel.CallbackBehaviorAttribute> class must be applied to the class that implements the callback contract.</span></span> <span data-ttu-id="96d26-113">Se viene applicata all'implementazione di un contratto non duplex, viene generata un'eccezione <xref:System.InvalidOperationException> in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="96d26-113">If applied to a nonduplex contract implementation, an <xref:System.InvalidOperationException> exception is thrown at run time.</span></span> <span data-ttu-id="96d26-114">Nell'esempio di codice seguente vengono mostrate una classe <xref:System.ServiceModel.CallbackBehaviorAttribute> su un oggetto callback che usa l'oggetto <xref:System.Threading.SynchronizationContext> per determinare il thread su cui eseguire il marshalling, la proprietà <xref:System.ServiceModel.CallbackBehaviorAttribute.ValidateMustUnderstand%2A> per applicare la convalida del messaggio e la proprietà <xref:System.ServiceModel.CallbackBehaviorAttribute.IncludeExceptionDetailInFaults%2A> per restituire eccezioni come oggetti <xref:System.ServiceModel.FaultException> al servizio a scopo di debug.</span><span class="sxs-lookup"><span data-stu-id="96d26-114">The following code example shows a <xref:System.ServiceModel.CallbackBehaviorAttribute> class on a callback object that uses the <xref:System.Threading.SynchronizationContext> object to determine the thread to marshal to, the <xref:System.ServiceModel.CallbackBehaviorAttribute.ValidateMustUnderstand%2A> property to enforce message validation, and the <xref:System.ServiceModel.CallbackBehaviorAttribute.IncludeExceptionDetailInFaults%2A> property to return exceptions as <xref:System.ServiceModel.FaultException> objects to the service for debugging purposes.</span></span>  
  
 [!code-csharp[CallbackBehaviorAttribute#3](../../../samples/snippets/csharp/VS_Snippets_CFX/callbackbehaviorattribute/cs/client.cs#3)]
 [!code-vb[CallbackBehaviorAttribute#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/callbackbehaviorattribute/vb/client.vb#3)]  
  
## <a name="using-callbackdebugbehavior-to-enable-the-flow-of-managed-exception-information"></a><span data-ttu-id="96d26-115">Uso di CallbackDebugBehavior per abilitare il flusso di informazioni sulle eccezioni gestite</span><span class="sxs-lookup"><span data-stu-id="96d26-115">Using CallbackDebugBehavior to Enable the Flow of Managed Exception Information</span></span>  
 <span data-ttu-id="96d26-116">È possibile abilitare il flusso di informazioni sulle eccezioni gestite in un oggetto callback client diretto al servizio a scopo di debug impostando la proprietà <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> su `true` a livello di programmazione o da un file di configurazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="96d26-116">You can enable the flow of managed exception information in a client callback object back to the service for debugging purposes by setting the <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> property to `true` either programmatically or from an application configuration file.</span></span>  
  
 <span data-ttu-id="96d26-117">La restituzione ai servizi delle informazioni sulle eccezioni gestite può rappresentare un rischio per la protezione, poiché i dettagli delle eccezioni espongono informazioni sull'implementazione del client interno utilizzabili da servizi non autorizzati.</span><span class="sxs-lookup"><span data-stu-id="96d26-117">Returning managed exception information to services can be a security risk because exception details expose information about the internal client implementation that  unauthorized services could use.</span></span> <span data-ttu-id="96d26-118">Inoltre, sebbene le proprietà <xref:System.ServiceModel.Description.CallbackDebugBehavior> possono essere impostate anche a livello di programmazione, può essere facile dimenticare di disattivare <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> quando si esegue la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="96d26-118">In addition, although the <xref:System.ServiceModel.Description.CallbackDebugBehavior> properties can also be set programmatically, it can be easy to forget to disable <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> when deploying.</span></span>  
  
 <span data-ttu-id="96d26-119">A causa dei problemi di sicurezza coinvolti, è consigliato:</span><span class="sxs-lookup"><span data-stu-id="96d26-119">Because of the security issues involved, it is strongly recommended that:</span></span>  
  
- <span data-ttu-id="96d26-120">Usare un file di configurazione dell'applicazione per impostare il valore della proprietà <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> su `true`.</span><span class="sxs-lookup"><span data-stu-id="96d26-120">You use an application configuration file to set the value of the <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> property to `true`.</span></span>  
  
- <span data-ttu-id="96d26-121">Si procede in questo modo solo negli scenari di debug controllati.</span><span class="sxs-lookup"><span data-stu-id="96d26-121">You do so only in controlled debugging scenarios.</span></span>  
  
 <span data-ttu-id="96d26-122">Esempio di codice seguente viene illustrato un file di configurazione client che indica a WCF di restituire informazioni sulle eccezioni gestite da un oggetto callback client nei messaggi SOAP.</span><span class="sxs-lookup"><span data-stu-id="96d26-122">The following code example shows a client configuration file that instructs WCF to return managed exception information from a client callback object in SOAP messages.</span></span>  
  
 [!code-xml[SCA.CallbackContract#4](../../../samples/snippets/csharp/VS_Snippets_CFX/sca.callbackcontract/cs/client.exe.config#4)]  

## <a name="using-the-clientviabehavior-behavior"></a><span data-ttu-id="96d26-123">Utilizzo del comportamento ClientViaBehavior</span><span class="sxs-lookup"><span data-stu-id="96d26-123">Using the ClientViaBehavior Behavior</span></span>  
 <span data-ttu-id="96d26-124">È possibile usare il comportamento <xref:System.ServiceModel.Description.ClientViaBehavior> per specificare l'URI (Uniform Resource Identifier) per il quale deve essere creato il canale del trasporto.</span><span class="sxs-lookup"><span data-stu-id="96d26-124">You can use the <xref:System.ServiceModel.Description.ClientViaBehavior> behavior to specify the Uniform Resource Identifier for which the transport channel should be created.</span></span> <span data-ttu-id="96d26-125">Usare questo comportamento quando la destinazione di rete immediata non è il processore desiderato del messaggio.</span><span class="sxs-lookup"><span data-stu-id="96d26-125">Use this behavior when the immediate network destination is not the intended processor of the message.</span></span> <span data-ttu-id="96d26-126">Questo consente conversazioni multihop quando l'applicazione chiamante non conosce necessariamente la destinazione finale o quando l'intestazione `Via` della destinazione non è un indirizzo.</span><span class="sxs-lookup"><span data-stu-id="96d26-126">This enables multiple-hop conversations when the calling application does not necessarily know the ultimate destination or when the destination `Via` header is not an address.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="96d26-127">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="96d26-127">See also</span></span>

- [<span data-ttu-id="96d26-128">Specifica del comportamento in fase di esecuzione del servizio</span><span class="sxs-lookup"><span data-stu-id="96d26-128">Specifying Service Run-Time Behavior</span></span>](specifying-service-run-time-behavior.md)
