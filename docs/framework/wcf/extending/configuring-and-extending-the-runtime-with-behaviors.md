---
title: Configurazione ed estensione del runtime con i comportamenti
ms.date: 03/30/2017
helpviewer_keywords:
- attaching extensions using behaviors [WCF]
ms.assetid: 149b99b6-6eb6-4f45-be22-c967279677d9
ms.openlocfilehash: 67db06649d6059ff6b6e6fb8d84058621fcc7dab
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/12/2020
ms.locfileid: "79185649"
---
# <a name="configuring-and-extending-the-runtime-with-behaviors"></a><span data-ttu-id="62f03-102">Configurazione ed estensione del runtime con i comportamenti</span><span class="sxs-lookup"><span data-stu-id="62f03-102">Configuring and Extending the Runtime with Behaviors</span></span>
<span data-ttu-id="62f03-103">I comportamenti consentono di modificare il comportamento predefinito e aggiungere estensioni personalizzate che esaminano e convalidano la configurazione del servizio o modificano il comportamento di runtime nelle applicazioni client e di servizio Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="62f03-103">Behaviors enable you to modify default behavior and add custom extensions that inspect and validate service configuration or modify runtime behavior in Windows Communication Foundation (WCF) client and service applications.</span></span> <span data-ttu-id="62f03-104">In questo argomento vengono descritte le interfacce di comportamento e viene illustrato come implementarle e aggiungerle alla descrizione del servizio (in un'applicazione di servizio) o all'endpoint (in un'applicazione client) a livello di codice o in un file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-104">This topic describes the behavior interfaces, how to implement them, and how to add them to the service description (in a service application) or endpoint (in a client application) programmatically or in a configuration file.</span></span> <span data-ttu-id="62f03-105">Per ulteriori informazioni sull'utilizzo dei comportamenti forniti dal sistema, vedere [Specifica del comportamento in fase](../specifying-service-run-time-behavior.md) di esecuzione del servizio e Specifica del comportamento in fase di esecuzione del [client](../specifying-client-run-time-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="62f03-105">For more information about using system-provided behaviors, see [Specifying Service Run-Time Behavior](../specifying-service-run-time-behavior.md) and [Specifying Client Run-Time Behavior](../specifying-client-run-time-behavior.md).</span></span>  
  
## <a name="behaviors"></a><span data-ttu-id="62f03-106">Comportamenti</span><span class="sxs-lookup"><span data-stu-id="62f03-106">Behaviors</span></span>  
 <span data-ttu-id="62f03-107">I tipi di comportamento vengono aggiunti agli oggetti descrizione dell'endpoint del servizio o del servizio (rispettivamente nel servizio o nel client) prima che tali oggetti vengano utilizzati da Windows Communication Foundation (WCF) per creare un runtime che esegue un servizio WCF o un client WCF.</span><span class="sxs-lookup"><span data-stu-id="62f03-107">Behavior types are added to the service or service endpoint description objects (on the service or client, respectively) before those objects are used by Windows Communication Foundation (WCF) to create a runtime that executes a WCF service or a WCF client.</span></span> <span data-ttu-id="62f03-108">Quando questi comportamenti vengono chiamati durante il processo di costruzione del runtime, saranno quindi in grado di accedere alle proprietà e ai metodi runtime che modificano il runtime costruito dal contratto, dalle associazioni e dagli indirizzi.</span><span class="sxs-lookup"><span data-stu-id="62f03-108">When these behaviors are called during the runtime construction process they are then able to access runtime properties and methods that modify the runtime constructed by the contract, bindings, and addresses.</span></span>  
  
### <a name="behavior-methods"></a><span data-ttu-id="62f03-109">Metodi di comportamento</span><span class="sxs-lookup"><span data-stu-id="62f03-109">Behavior Methods</span></span>  
 <span data-ttu-id="62f03-110">Tutti i comportamenti dispongono di un metodo `AddBindingParameters`, un metodo `ApplyDispatchBehavior`, un metodo `Validate` e un metodo `ApplyClientBehavior` con un'eccezione: poiché l'interfaccia <xref:System.ServiceModel.Description.IServiceBehavior> non può essere eseguita in un client, non implementa `ApplyClientBehavior`.</span><span class="sxs-lookup"><span data-stu-id="62f03-110">All behaviors have an `AddBindingParameters` method, an `ApplyDispatchBehavior` method, a `Validate` method, and an `ApplyClientBehavior` method with one exception: Because <xref:System.ServiceModel.Description.IServiceBehavior> cannot execute in a client, it does not implement `ApplyClientBehavior`.</span></span>  
  
- <span data-ttu-id="62f03-111">Utilizzare il metodo `AddBindingParameters` per modificare o aggiungere oggetti personalizzati in una raccolta a cui le associazioni personalizzate potranno accedere per utilizzarli quando viene costruito il runtime.</span><span class="sxs-lookup"><span data-stu-id="62f03-111">Use the `AddBindingParameters` method to modify or add custom objects to a collection that custom bindings can access for their use when the runtime is constructed.</span></span> <span data-ttu-id="62f03-112">Ad esempio, è in questo modo che vengono specificati i requisiti di protezione che influiscono sulla modalità di costruzione del canale, ma che non sono noti allo sviluppatore del canale.</span><span class="sxs-lookup"><span data-stu-id="62f03-112">For example, this how protection requirements are specified that affect the way the channel is built, but are not known by the channel developer.</span></span>  
  
- <span data-ttu-id="62f03-113">Utilizzare il metodo `Validate` per esaminare la struttura di descrizione e l'oggetto runtime corrispondente al fine di garantirne la conformità a un set di criteri.</span><span class="sxs-lookup"><span data-stu-id="62f03-113">Use the `Validate` method to examine the description tree and corresponding runtime object to ensure it conforms to some set of criteria.</span></span>  
  
- <span data-ttu-id="62f03-114">Utilizzare i metodi `ApplyDispatchBehavior` e `ApplyClientBehavior` per esaminare la struttura di descrizione e modificare il runtime per un particolare ambito sul servizio o sul client.</span><span class="sxs-lookup"><span data-stu-id="62f03-114">Use the `ApplyDispatchBehavior` and `ApplyClientBehavior` methods to examine the description tree and modify the runtime for a particular scope on either the service or the client.</span></span> <span data-ttu-id="62f03-115">È inoltre possibile inserire oggetti di estensione.</span><span class="sxs-lookup"><span data-stu-id="62f03-115">You can also insert extension objects as well.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="62f03-116">Anche se in questi tre metodi viene fornita una struttura di descrizione, essa è utilizzabile solo per attività di esame.</span><span class="sxs-lookup"><span data-stu-id="62f03-116">Although a description tree is provided in these methods, it is for examination only.</span></span> <span data-ttu-id="62f03-117">Se un albero di descrizione viene modificato, il comportamento è indefinito.</span><span class="sxs-lookup"><span data-stu-id="62f03-117">If a description tree is modified, the behavior is undefined.</span></span>  
  
 <span data-ttu-id="62f03-118">L'accesso alle proprietà che possono modificate e alle interfacce di personalizzazione che è possibile implementare avviene attraverso le classi runtime del servizio e del client.</span><span class="sxs-lookup"><span data-stu-id="62f03-118">The properties you can modify and the customization interfaces you can implement are accessed through the service and client runtime classes.</span></span> <span data-ttu-id="62f03-119">I tipi di servizio sono rappresentati dalle classi <xref:System.ServiceModel.Dispatcher.DispatchRuntime> e <xref:System.ServiceModel.Dispatcher.DispatchOperation>.</span><span class="sxs-lookup"><span data-stu-id="62f03-119">The service types are the <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and  <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes.</span></span> <span data-ttu-id="62f03-120">I tipi di client sono rappresentati dalle classi <xref:System.ServiceModel.Dispatcher.ClientRuntime> e <xref:System.ServiceModel.Dispatcher.ClientOperation>.</span><span class="sxs-lookup"><span data-stu-id="62f03-120">The client types are the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.ClientOperation> classes.</span></span> <span data-ttu-id="62f03-121">Le classi <xref:System.ServiceModel.Dispatcher.ClientRuntime> e <xref:System.ServiceModel.Dispatcher.DispatchRuntime> sono i punti di ingresso dell'estendibilità per accedere rispettivamente alle proprietà runtime e alle raccolte di estensioni a livello di client e del servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-121">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchRuntime> classes are the extensibility entry points to access client-wide and service-wide runtime properties and extension collections, respectively.</span></span> <span data-ttu-id="62f03-122">Analogamente, le classi <xref:System.ServiceModel.Dispatcher.ClientOperation> e <xref:System.ServiceModel.Dispatcher.DispatchOperation> espongono rispettivamente proprietà runtime e raccolte di estensioni dell'operazione del client e del servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-122">Similarly, the <xref:System.ServiceModel.Dispatcher.ClientOperation> and  <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes expose client operation and service operation runtime properties and extension collections, respectively.</span></span> <span data-ttu-id="62f03-123">È tuttavia possibile accedere all'oggetto runtime di ambito più ampio dall'oggetto runtime dell'operazione e viceversa se necessario.</span><span class="sxs-lookup"><span data-stu-id="62f03-123">You can, however, access the wider scoped runtime object from the operation runtime object and vice versa if need be.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="62f03-124">Per una descrizione delle proprietà di runtime e dei tipi di estensione che è possibile utilizzare per modificare il comportamento di esecuzione di un client, vedere [Estensione dei client](extending-clients.md).</span><span class="sxs-lookup"><span data-stu-id="62f03-124">For a discussion of runtime properties and extension types that you can use to modify the execution behavior of a client, see [Extending Clients](extending-clients.md).</span></span> <span data-ttu-id="62f03-125">Per una descrizione delle proprietà di runtime e dei tipi di estensione che è possibile utilizzare per modificare il comportamento di esecuzione di un dispatcher del servizio, vedere [Estensione dei dispatcher](extending-dispatchers.md).</span><span class="sxs-lookup"><span data-stu-id="62f03-125">For a discussion of runtime properties and extension types that you can use to modify the execution behavior of a service dispatcher, see [Extending Dispatchers](extending-dispatchers.md).</span></span>  
  
 <span data-ttu-id="62f03-126">La maggior parte degli utenti WCF non interagisce direttamente con il runtime. usano invece costrutti del modello di programmazione di base come endpoint, contratti, associazioni, indirizzi e attributi di comportamento su classi o comportamenti nei file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-126">Most WCF users do not interact with the runtime directly; instead they use core programming model constructs like endpoints, contracts, bindings, addresses, and behavior attributes on classes or behaviors in configuration files.</span></span> <span data-ttu-id="62f03-127">Questi costrutti costituiscono l'albero di *descrizione,* che è la specifica completa per la costruzione di un runtime per supportare un servizio o un client descritto dall'albero di descrizione.</span><span class="sxs-lookup"><span data-stu-id="62f03-127">These constructs make up the *description tree*, which is the complete specification for constructing a runtime to support a service or client described by the description tree.</span></span>  
  
 <span data-ttu-id="62f03-128">Esistono quattro tipi di comportamenti in WCF:There are four kinds of behaviors in WCF:</span><span class="sxs-lookup"><span data-stu-id="62f03-128">There are four kinds of behaviors in WCF:</span></span>  
  
- <span data-ttu-id="62f03-129">I comportamenti del servizio (tipi <xref:System.ServiceModel.Description.IServiceBehavior>) consentono la personalizzazione del runtime dell'intero servizio, incluso <xref:System.ServiceModel.ServiceHostBase>.</span><span class="sxs-lookup"><span data-stu-id="62f03-129">Service behaviors (<xref:System.ServiceModel.Description.IServiceBehavior> types) enable the customization of the entire service runtime including <xref:System.ServiceModel.ServiceHostBase>.</span></span>  
  
- <span data-ttu-id="62f03-130">I comportamenti dell'endpoint (tipi <xref:System.ServiceModel.Description.IEndpointBehavior>) consentono la personalizzazione degli endpoint del servizio e dei relativi oggetti <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> associati.</span><span class="sxs-lookup"><span data-stu-id="62f03-130">Endpoint behaviors (<xref:System.ServiceModel.Description.IEndpointBehavior> types) enable the customization of service endpoints and their associated <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> objects.</span></span>  
  
- <span data-ttu-id="62f03-131">I comportamenti del contratto (tipi <xref:System.ServiceModel.Description.IContractBehavior>) consentono la personalizzazione di entrambe le classi <xref:System.ServiceModel.Dispatcher.ClientRuntime> e <xref:System.ServiceModel.Dispatcher.DispatchRuntime> rispettivamente nelle applicazioni client e di servizi.</span><span class="sxs-lookup"><span data-stu-id="62f03-131">Contract behaviors (<xref:System.ServiceModel.Description.IContractBehavior> types) enable the customization of both the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchRuntime> classes in client and service applications, respectively.</span></span>  
  
- <span data-ttu-id="62f03-132">I comportamenti dell'operazione (tipi <xref:System.ServiceModel.Description.IOperationBehavior>) consentono la personalizzazione delle classi <xref:System.ServiceModel.Dispatcher.ClientOperation> e <xref:System.ServiceModel.Dispatcher.DispatchOperation> nel client e nel servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-132">Operation behaviors (<xref:System.ServiceModel.Description.IOperationBehavior> types) enable the customization of the <xref:System.ServiceModel.Dispatcher.ClientOperation> and <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes, again, on the client and service.</span></span>  
  
 <span data-ttu-id="62f03-133">È possibile aggiungere questi comportamenti ai vari oggetti di descrizione implementando attributi personalizzati, utilizzando file di configurazione dell'applicazione, oppure è possibile aggiungerli direttamente alla raccolta di comportamenti sull'oggetto di descrizione appropriato.</span><span class="sxs-lookup"><span data-stu-id="62f03-133">You can add these behaviors to the various description objects by implementing custom attributes, using application configuration files, or directly by adding them to the behaviors collection on the appropriate description object.</span></span> <span data-ttu-id="62f03-134">Essi devono tuttavia essere aggiunti a un oggetto di descrizione del servizio o dell'endpoint del servizio prima della chiamata a <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> su <xref:System.ServiceModel.ServiceHost> o <xref:System.ServiceModel.ChannelFactory%601>.</span><span class="sxs-lookup"><span data-stu-id="62f03-134">The must, however, be added to a service description or service endpoint description object prior to calling <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> on the <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory%601>.</span></span>  
  
### <a name="behavior-scopes"></a><span data-ttu-id="62f03-135">Ambiti dei comportamenti</span><span class="sxs-lookup"><span data-stu-id="62f03-135">Behavior Scopes</span></span>  
 <span data-ttu-id="62f03-136">Sono disponibili quattro tipi di comportamento, ognuno dei quali corrisponde a un particolare ambito di accesso runtime.</span><span class="sxs-lookup"><span data-stu-id="62f03-136">There are four behavior types, each of which corresponds to a particular scope of runtime access.</span></span>  
  
#### <a name="service-behaviors"></a><span data-ttu-id="62f03-137">Comportamenti del servizio</span><span class="sxs-lookup"><span data-stu-id="62f03-137">Service Behaviors</span></span>  
 <span data-ttu-id="62f03-138">I comportamenti del servizio, che implementano l'interfaccia <xref:System.ServiceModel.Description.IServiceBehavior>, costituiscono il meccanismo principale attraverso cui è possibile modificare il runtime dell'intero servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-138">Service behaviors, which implement <xref:System.ServiceModel.Description.IServiceBehavior>, are the primary mechanism by which you modify the entire service runtime.</span></span> <span data-ttu-id="62f03-139">Esistono tre meccanismi per aggiungere tali comportamenti a un servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-139">There are three mechanisms for adding service behaviors to a service.</span></span>  
  
1. <span data-ttu-id="62f03-140">Utilizzo di un attributo sulla classe del servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-140">Using an attribute on the service class.</span></span>  <span data-ttu-id="62f03-141">Quando viene costruito un oggetto <xref:System.ServiceModel.ServiceHost>, l'implementazione di <xref:System.ServiceModel.ServiceHost> utilizza la riflessione per individuare il set di attributi sul tipo del servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-141">When a <xref:System.ServiceModel.ServiceHost> is constructed, the <xref:System.ServiceModel.ServiceHost> implementation uses reflection to discover the set of attributes on the type of the service.</span></span> <span data-ttu-id="62f03-142">Se questi attributi sono implementazioni di <xref:System.ServiceModel.Description.IServiceBehavior>, essi vengono aggiunti alla raccolta di comportamenti su <xref:System.ServiceModel.Description.ServiceDescription>.</span><span class="sxs-lookup"><span data-stu-id="62f03-142">If any of those attributes are implementations of <xref:System.ServiceModel.Description.IServiceBehavior>, they are added to the behaviors collection on <xref:System.ServiceModel.Description.ServiceDescription>.</span></span> <span data-ttu-id="62f03-143">In questo modo tali comportamenti possono partecipare alla costruzione del runtime del servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-143">This allows those behaviors to participate in the construction of the service run time.</span></span>  
  
2. <span data-ttu-id="62f03-144">Aggiunta del comportamento alla raccolta di comportamenti su <xref:System.ServiceModel.Description.ServiceDescription> a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="62f03-144">Programmatically adding the behavior to the behaviors collection on <xref:System.ServiceModel.Description.ServiceDescription>.</span></span> <span data-ttu-id="62f03-145">Per questa operazione utilizzare le righe di codice seguenti:</span><span class="sxs-lookup"><span data-stu-id="62f03-145">This can be accomplished with the following lines of code:</span></span>  
  
    ```csharp
    ServiceHost host = new ServiceHost(/* Parameters */);  
    host.Description.Behaviors.Add(/* Service Behavior */);  
    ```  
  
3. <span data-ttu-id="62f03-146">Implementazione di una classe <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personalizzata che estende la configurazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-146">Implementing a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> that extends configuration.</span></span> <span data-ttu-id="62f03-147">In questo modo viene consentito l'utilizzo del comportamento del servizio dai file di configurazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-147">This enables the use of the service behavior from application configuration files.</span></span>  
  
 <span data-ttu-id="62f03-148">Esempi di comportamenti del servizio <xref:System.ServiceModel.ServiceBehaviorAttribute> in <xref:System.ServiceModel.Description.ServiceThrottlingBehavior>WCF includono <xref:System.ServiceModel.Description.ServiceMetadataBehavior> l'attributo, il , e il comportamento.</span><span class="sxs-lookup"><span data-stu-id="62f03-148">Examples of service behaviors in WCF include the <xref:System.ServiceModel.ServiceBehaviorAttribute> attribute, the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior>, and the <xref:System.ServiceModel.Description.ServiceMetadataBehavior> behavior.</span></span>  
  
#### <a name="contract-behaviors"></a><span data-ttu-id="62f03-149">Comportamenti del contratto</span><span class="sxs-lookup"><span data-stu-id="62f03-149">Contract Behaviors</span></span>  
 <span data-ttu-id="62f03-150">I comportamenti del contratto, che implementano l'interfaccia <xref:System.ServiceModel.Description.IContractBehavior>, vengono utilizzati per estendere il runtime del client e del servizio in un contratto.</span><span class="sxs-lookup"><span data-stu-id="62f03-150">Contract behaviors, which implement the <xref:System.ServiceModel.Description.IContractBehavior> interface, are used to extend both the client and service runtime across a contract.</span></span>  
  
 <span data-ttu-id="62f03-151">Esistono due meccanismi per aggiungere tali comportamenti a un contratto.</span><span class="sxs-lookup"><span data-stu-id="62f03-151">There are two mechanisms for adding contract behaviors to a contract.</span></span>  <span data-ttu-id="62f03-152">Il primo consiste nella creazione di un attributo personalizzato da utilizzare sull'interfaccia del contratto.</span><span class="sxs-lookup"><span data-stu-id="62f03-152">The first mechanism is to create a custom attribute to be used on the contract interface.</span></span> <span data-ttu-id="62f03-153">Quando un'interfaccia del contratto viene passata a un <xref:System.ServiceModel.ServiceHost> oggetto o un <xref:System.ServiceModel.ChannelFactory%601>oggetto , WCF esamina gli attributi dell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="62f03-153">When a contract interface is passed to either a <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory%601>, WCF examines the attributes on the interface.</span></span> <span data-ttu-id="62f03-154">Se gli attributi sono implementazioni di <xref:System.ServiceModel.Description.IContractBehavior>, essi vengono aggiunti alla raccolta di comportamenti sulla classe <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> creata per tale interfaccia.</span><span class="sxs-lookup"><span data-stu-id="62f03-154">If any attributes are implementations of <xref:System.ServiceModel.Description.IContractBehavior>, those are added to the behaviors collection on the <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> created for that interface.</span></span>  
  
 <span data-ttu-id="62f03-155">È inoltre possibile implementare l'interfaccia <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType> sull'attributo del comportamento del contratto personalizzato.</span><span class="sxs-lookup"><span data-stu-id="62f03-155">You can also implement the <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType> on the custom contract behavior attribute.</span></span> <span data-ttu-id="62f03-156">In questo caso, il comportamento è il seguente quando applicato a:</span><span class="sxs-lookup"><span data-stu-id="62f03-156">In this case, the behavior is as follows when applied to:</span></span>  
  
 <span data-ttu-id="62f03-157">•Un'interfaccia del contratto.</span><span class="sxs-lookup"><span data-stu-id="62f03-157">•A contract interface.</span></span> <span data-ttu-id="62f03-158">In questo caso, il comportamento viene applicato a tutti i contratti di quel <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> tipo in qualsiasi endpoint e WCF ignora il valore della proprietà.</span><span class="sxs-lookup"><span data-stu-id="62f03-158">In this case, the behavior is applied to all contracts of that type in any endpoint and WCF ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="62f03-159">•Una classe del servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-159">•A service class.</span></span> <span data-ttu-id="62f03-160">In questo caso, il comportamento viene applicato solo agli endpoint il cui contratto corrisponde al valore della proprietà <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A>.</span><span class="sxs-lookup"><span data-stu-id="62f03-160">In this case, the behavior is applied only to endpoints the contract of which is the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> property.</span></span>  
  
 <span data-ttu-id="62f03-161">•Una classe di callback.</span><span class="sxs-lookup"><span data-stu-id="62f03-161">•A callback class.</span></span> <span data-ttu-id="62f03-162">In questo caso, il comportamento viene applicato all'endpoint del client duplex e WCF ignora il valore della <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="62f03-162">In this case, the behavior is applied to the duplex client's endpoint and WCF ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> property.</span></span>  
  
 <span data-ttu-id="62f03-163">Il secondo meccanismo consiste nell'aggiunta del comportamento alla raccolta di comportamenti su una classe <xref:System.ServiceModel.Description.ContractDescription>.</span><span class="sxs-lookup"><span data-stu-id="62f03-163">The second mechanism is to add the behavior to the behaviors collection on a <xref:System.ServiceModel.Description.ContractDescription>.</span></span>  
  
 <span data-ttu-id="62f03-164">Esempi di comportamenti del contratto in WCF includono l'attributo. <xref:System.ServiceModel.DeliveryRequirementsAttribute?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="62f03-164">Examples of contract behaviors in WCF include the <xref:System.ServiceModel.DeliveryRequirementsAttribute?displayProperty=nameWithType> attribute.</span></span> <span data-ttu-id="62f03-165">Per ulteriori informazioni e per un esempio, vedere l'argomento di riferimento.</span><span class="sxs-lookup"><span data-stu-id="62f03-165">For more information and an example, see the reference topic.</span></span>  
  
#### <a name="endpoint-behaviors"></a><span data-ttu-id="62f03-166">Comportamenti dell'endpoint</span><span class="sxs-lookup"><span data-stu-id="62f03-166">Endpoint Behaviors</span></span>  
 <span data-ttu-id="62f03-167">I comportamenti dell'endpoint, che implementano l'interfaccia <xref:System.ServiceModel.Description.IEndpointBehavior>, costituiscono il meccanismo principale attraverso cui è possibile modificare il runtime dell'intero servizio o del client per un endpoint specifico.</span><span class="sxs-lookup"><span data-stu-id="62f03-167">Endpoint behaviors, which implement <xref:System.ServiceModel.Description.IEndpointBehavior>, are the primary mechanism by which you modify the entire service or client run time for a specific endpoint.</span></span>  
  
 <span data-ttu-id="62f03-168">Esistono due meccanismi per aggiungere tali comportamenti a un servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-168">There are two mechanisms for adding endpoint behaviors to a service.</span></span>  
  
1. <span data-ttu-id="62f03-169">Aggiunta del comportamento alla proprietà <xref:System.ServiceModel.Description.ServiceEndpoint.Behaviors%2A>.</span><span class="sxs-lookup"><span data-stu-id="62f03-169">Add the behavior to the <xref:System.ServiceModel.Description.ServiceEndpoint.Behaviors%2A> property.</span></span>  
  
2. <span data-ttu-id="62f03-170">Implementazione di una classe <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personalizzata che estende la configurazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-170">Implement a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> that extends configuration.</span></span>  
  
 <span data-ttu-id="62f03-171">Per ulteriori informazioni e per un esempio, vedere l'argomento di riferimento.</span><span class="sxs-lookup"><span data-stu-id="62f03-171">For more information and an example, see the reference topic.</span></span>  
  
#### <a name="operation-behaviors"></a><span data-ttu-id="62f03-172">Comportamenti dell'operazione</span><span class="sxs-lookup"><span data-stu-id="62f03-172">Operation Behaviors</span></span>  
 <span data-ttu-id="62f03-173">I comportamenti dell'operazione, che implementano l'interfaccia <xref:System.ServiceModel.Description.IOperationBehavior>, vengono utilizzati per estendere il runtime del client e del servizio per ogni operazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-173">Operation behaviors, which implement the <xref:System.ServiceModel.Description.IOperationBehavior> interface, are used to extend both the client and service runtime for each operation.</span></span>  
  
 <span data-ttu-id="62f03-174">Esistono due meccanismi per aggiungere tali comportamenti a un'operazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-174">There are two mechanisms for adding operation behaviors to an operation.</span></span> <span data-ttu-id="62f03-175">Il primo meccanismo consiste nella creazione di un attributo personalizzato da utilizzare sul metodo che modella l'operazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-175">The first mechanism is to create a custom attribute to be used on the method that models the operation.</span></span> <span data-ttu-id="62f03-176">Quando un'operazione viene <xref:System.ServiceModel.ServiceHost> aggiunta <xref:System.ServiceModel.ChannelFactory>a un <xref:System.ServiceModel.Description.IOperationBehavior> oggetto , WCF aggiunge <xref:System.ServiceModel.Description.OperationDescription> eventuali attributi all'insieme di comportamenti nell'operazione creata per tale operazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-176">When an operation is added to either a <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory>, WCF adds any  <xref:System.ServiceModel.Description.IOperationBehavior> attributes to the behaviors collection on the <xref:System.ServiceModel.Description.OperationDescription> created for that operation.</span></span>  
  
 <span data-ttu-id="62f03-177">Il secondo meccanismo consiste nell'aggiunta diretta del comportamento alla raccolta di comportamenti su una classe <xref:System.ServiceModel.Description.OperationDescription> costruita.</span><span class="sxs-lookup"><span data-stu-id="62f03-177">The second mechanism is by directly adding the behavior to the behaviors collection on a constructed <xref:System.ServiceModel.Description.OperationDescription>.</span></span>  
  
 <span data-ttu-id="62f03-178">Esempi di comportamenti delle operazioni <xref:System.ServiceModel.OperationBehaviorAttribute> in <xref:System.ServiceModel.TransactionFlowAttribute>WCF includono e e .</span><span class="sxs-lookup"><span data-stu-id="62f03-178">Examples of operation behaviors in WCF include the <xref:System.ServiceModel.OperationBehaviorAttribute> and the <xref:System.ServiceModel.TransactionFlowAttribute>.</span></span>  
  
 <span data-ttu-id="62f03-179">Per ulteriori informazioni e per un esempio, vedere l'argomento di riferimento.</span><span class="sxs-lookup"><span data-stu-id="62f03-179">For more information and an example, see the reference topic.</span></span>  
  
### <a name="using-configuration-to-create-behaviors"></a><span data-ttu-id="62f03-180">Utilizzo della configurazione per creare comportamenti</span><span class="sxs-lookup"><span data-stu-id="62f03-180">Using Configuration to Create Behaviors</span></span>  
 <span data-ttu-id="62f03-181">I comportamenti del servizio, dell'endpoint e del contratto possono essere progettati in modo da essere specificati nel codice o mediante attributi; ma solo i comportamenti del servizio e dell'endpoint possono essere configurati utilizzando file di configurazione dell'applicazione o Web.</span><span class="sxs-lookup"><span data-stu-id="62f03-181">Service and endpoint, and contract behaviors can by designed to be specified in code or using attributes; only service and endpoint behaviors can be configured using application or Web configuration files.</span></span> <span data-ttu-id="62f03-182">L'esposizione dei comportamenti mediante attributi consente agli sviluppatori di specificare un comportamento in fase di compilazione che non può essere aggiunto, rimosso o modificato a runtime.</span><span class="sxs-lookup"><span data-stu-id="62f03-182">Exposing behaviors using attributes allows developers to specify a behavior at compilation-time that cannot be added, removed, or modified at runtime.</span></span> <span data-ttu-id="62f03-183">Tale sistema è spesso adatto per comportamenti che sono sempre necessari per il corretto funzionamento del servizio, ad esempio i parametri correlati alla transazione passati all'attributo <xref:System.ServiceModel.ServiceBehaviorAttribute?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="62f03-183">This is often suitable for behaviors that are always required for the correct operation of a service (for example, the transaction-related parameters to the <xref:System.ServiceModel.ServiceBehaviorAttribute?displayProperty=nameWithType> attribute).</span></span> <span data-ttu-id="62f03-184">L'esposizione dei comportamenti mediante la configurazione consente agli sviluppatori di lasciare la specifica e la configurazione di tali comportamenti a coloro che distribuiscono il servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-184">Exposing behaviors using configuration allows developers to leave the specification and configuration of those behaviors to those who deploy the service.</span></span> <span data-ttu-id="62f03-185">Tale sistema è adatto per comportamenti che rappresentano componenti facoltativi o altra configurazione specifica della distribuzione, ad esempio se i metadati vengono esposti per il servizio o la particolare configurazione dell'autorizzazione per un servizio.</span><span class="sxs-lookup"><span data-stu-id="62f03-185">This is suitable for behaviors that are optional components or other deployment-specific configuration, such as whether metadata is exposed for the service or the particular authorization configuration for a service.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="62f03-186">È inoltre possibile utilizzare i comportamenti che supportano la configurazione per imporre criteri dell'applicazione aziendale inserendoli nel file di configurazione machine.config e bloccando tali elementi.</span><span class="sxs-lookup"><span data-stu-id="62f03-186">You can also use behaviors that support configuration to enforce company application policies by inserting them into the machine.config configuration file and locking those items down.</span></span> <span data-ttu-id="62f03-187">Per una descrizione e un esempio, vedere [Procedura: bloccare gli endpoint nell'organizzazione](how-to-lock-down-endpoints-in-the-enterprise.md).</span><span class="sxs-lookup"><span data-stu-id="62f03-187">For a description and an example, see [How to: Lock Down Endpoints in the Enterprise](how-to-lock-down-endpoints-in-the-enterprise.md).</span></span>  
  
 <span data-ttu-id="62f03-188">Per esporre un comportamento mediante la configurazione, un sviluppatore deve creare una classe derivata di <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> e quindi registrare tale estensione nella configurazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-188">To expose a behavior using configuration, a developer must create a derived class of <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> and then register that extension with configuration.</span></span>  
  
 <span data-ttu-id="62f03-189">Nell'esempio di codice seguente viene illustrato come un'interfaccia <xref:System.ServiceModel.Description.IEndpointBehavior> implementa <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>:</span><span class="sxs-lookup"><span data-stu-id="62f03-189">The following code example shows how an  <xref:System.ServiceModel.Description.IEndpointBehavior> implements <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>:</span></span>  
  
```csharp
// BehaviorExtensionElement members  
public override Type BehaviorType  
{  
  get { return typeof(EndpointBehaviorMessageInspector); }  
}  
  
protected override object CreateBehavior()  
{  
  return new EndpointBehaviorMessageInspector();  
}  
```  
  
 <span data-ttu-id="62f03-190">Affinché il sistema di configurazione carichi un elemento <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personalizzato, questo deve essere registrato come estensione.</span><span class="sxs-lookup"><span data-stu-id="62f03-190">In order for the configuration system to load a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>, it must be registered as an extension.</span></span> <span data-ttu-id="62f03-191">Nell'esempio di codice seguente viene illustrato il file di configurazione per il comportamento dell'endpoint precedente.</span><span class="sxs-lookup"><span data-stu-id="62f03-191">The following code example shows the configuration file for the preceding endpoint behavior:</span></span>  
  
```xml  
<configuration>  
  <system.serviceModel>  
    <services>  
      <service
        name="Microsoft.WCF.Documentation.SampleService"  
        behaviorConfiguration="metadataSupport"  
      >  
        <host>  
          <baseAddresses>  
            <add baseAddress="http://localhost:8080/ServiceMetadata" />  
          </baseAddresses>  
        </host>  
        <endpoint  
          address="/SampleService"  
          binding="wsHttpBinding"  
          behaviorConfiguration="withMessageInspector"
          contract="Microsoft.WCF.Documentation.ISampleService"  
        />  
        <endpoint  
           address="mex"  
           binding="mexHttpBinding"  
           contract="IMetadataExchange"  
        />  
      </service>  
    </services>  
    <behaviors>  
      <serviceBehaviors>  
      <behavior name="metadataSupport">  
        <serviceMetadata httpGetEnabled="true" httpGetUrl=""/>  
      </behavior>  
      </serviceBehaviors>  
      <endpointBehaviors>  
        <behavior name="withMessageInspector">  
          <endpointMessageInspector />  
        </behavior>  
      </endpointBehaviors>  
    </behaviors>  
    <extensions>  
      <behaviorExtensions>  
        <add
          name="endpointMessageInspector"  
          type="Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector, HostApplication, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null"  
        />  
      </behaviorExtensions>  
    </extensions>  
  </system.serviceModel>  
</configuration>  
```  
  
 <span data-ttu-id="62f03-192">Dove `Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector` è il tipo `HostApplication` di estensione del comportamento ed è il nome dell'assembly in cui tale classe è stata compilata.</span><span class="sxs-lookup"><span data-stu-id="62f03-192">Where `Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector` is the behavior extension type and `HostApplication` is the name of the assembly into which that class has been compiled.</span></span>  
  
### <a name="evaluation-order"></a><span data-ttu-id="62f03-193">Ordine di valutazione</span><span class="sxs-lookup"><span data-stu-id="62f03-193">Evaluation Order</span></span>  
 <span data-ttu-id="62f03-194"><xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType> e <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> sono responsabili della compilazione del runtime in base al modello di programmazione e alla descrizione.</span><span class="sxs-lookup"><span data-stu-id="62f03-194">The <xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType> and the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> are responsible for building the runtime from the programming model and description.</span></span> <span data-ttu-id="62f03-195">I comportamenti, come descritto in precedenza, contribuiscono a tale processo di compilazione a livello del servizio, dell'endpoint, del contratto e dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-195">Behaviors, as previously described, contribute to that build process at the service, endpoint, contract, and operation.</span></span>  
  
 <span data-ttu-id="62f03-196"><xref:System.ServiceModel.ServiceHost> applica i comportamenti nell'ordine seguente:</span><span class="sxs-lookup"><span data-stu-id="62f03-196">The <xref:System.ServiceModel.ServiceHost> applies behaviors in the following order:</span></span>  
  
1. <span data-ttu-id="62f03-197">Service</span><span class="sxs-lookup"><span data-stu-id="62f03-197">Service</span></span>  
  
2. <span data-ttu-id="62f03-198">Contratto</span><span class="sxs-lookup"><span data-stu-id="62f03-198">Contract</span></span>  
  
3. <span data-ttu-id="62f03-199">Endpoint</span><span class="sxs-lookup"><span data-stu-id="62f03-199">Endpoint</span></span>  
  
4. <span data-ttu-id="62f03-200">Operazione</span><span class="sxs-lookup"><span data-stu-id="62f03-200">Operation</span></span>  
  
 <span data-ttu-id="62f03-201">All'interno di una raccolta di comportamenti non è garantito alcun ordine.</span><span class="sxs-lookup"><span data-stu-id="62f03-201">Within any collection of behaviors, no order is guaranteed.</span></span>  
  
 <span data-ttu-id="62f03-202"><xref:System.ServiceModel.ChannelFactory%601> applica i comportamenti nell'ordine seguente:</span><span class="sxs-lookup"><span data-stu-id="62f03-202">The <xref:System.ServiceModel.ChannelFactory%601> applies behaviors in the following order:</span></span>  
  
1. <span data-ttu-id="62f03-203">Contratto</span><span class="sxs-lookup"><span data-stu-id="62f03-203">Contract</span></span>  
  
2. <span data-ttu-id="62f03-204">Endpoint</span><span class="sxs-lookup"><span data-stu-id="62f03-204">Endpoint</span></span>  
  
3. <span data-ttu-id="62f03-205">Operazione</span><span class="sxs-lookup"><span data-stu-id="62f03-205">Operation</span></span>  
  
 <span data-ttu-id="62f03-206">Anche in questo caso, all'interno di una raccolta di comportamenti non è garantito alcun ordine.</span><span class="sxs-lookup"><span data-stu-id="62f03-206">Within any collection of behaviors, again, no order is guaranteed.</span></span>  
  
### <a name="adding-behaviors-programmatically"></a><span data-ttu-id="62f03-207">Aggiunta di comportamenti a livello di codice</span><span class="sxs-lookup"><span data-stu-id="62f03-207">Adding Behaviors Programmatically</span></span>  
 <span data-ttu-id="62f03-208">Le proprietà di <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> nell'applicazione del servizio non devono essere modificate successivamente al metodo <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType> su <xref:System.ServiceModel.ServiceHostBase?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="62f03-208">Properties of the <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> in the service application must not be modified subsequent to the <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType> method on <xref:System.ServiceModel.ServiceHostBase?displayProperty=nameWithType>.</span></span> <span data-ttu-id="62f03-209">Alcuni membri, come la proprietà <xref:System.ServiceModel.ServiceHostBase.Credentials%2A?displayProperty=nameWithType> e i metodi `AddServiceEndpoint` su <xref:System.ServiceModel.ServiceHostBase> e <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType>, generano un'eccezione se vengono modificati dopo questo punto.</span><span class="sxs-lookup"><span data-stu-id="62f03-209">Some members, like the <xref:System.ServiceModel.ServiceHostBase.Credentials%2A?displayProperty=nameWithType> property and the `AddServiceEndpoint` methods on <xref:System.ServiceModel.ServiceHostBase> and <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType>, throw an exception if modified past that point.</span></span> <span data-ttu-id="62f03-210">Altri consentono la modifica, ma il risultato è indefinito.</span><span class="sxs-lookup"><span data-stu-id="62f03-210">Others permit you to modify them, but the result is undefined.</span></span>  
  
 <span data-ttu-id="62f03-211">Analogamente, sul client i valori <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> non devono essere modificati dopo la chiamata a <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> su <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="62f03-211">Similarly, on the client the <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> values must not be modified after the call to <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> on the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType>.</span></span> <span data-ttu-id="62f03-212">La proprietà <xref:System.ServiceModel.ChannelFactory.Credentials%2A?displayProperty=nameWithType> genera un'eccezione se viene modificata dopo questo punto, ma è possibile modificare senza errore gli altri valori della descrizione client.</span><span class="sxs-lookup"><span data-stu-id="62f03-212">The <xref:System.ServiceModel.ChannelFactory.Credentials%2A?displayProperty=nameWithType> property throws an exception if modified past that point, but the other client description values can be modified without error.</span></span> <span data-ttu-id="62f03-213">Il risultato è tuttavia indefinito.</span><span class="sxs-lookup"><span data-stu-id="62f03-213">The result, however, is undefined.</span></span>  
  
 <span data-ttu-id="62f03-214">Per il servizio o per il client, è consigliabile modificare la descrizione prima di chiamare <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="62f03-214">Whether for the service or client, it is recommended that you modify the description prior to calling <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType>.</span></span>  
  
### <a name="inheritance-rules-for-behavior-attributes"></a><span data-ttu-id="62f03-215">Regole di ereditarietà per gli attributi di comportamento</span><span class="sxs-lookup"><span data-stu-id="62f03-215">Inheritance Rules for Behavior Attributes</span></span>  
 <span data-ttu-id="62f03-216">Tutti i quattro tipi di comportamento possono essere popolati utilizzando attributi, ovvero i comportamenti del servizio e i comportamenti del contratto.</span><span class="sxs-lookup"><span data-stu-id="62f03-216">All four types of behaviors can be populated using attributes – service behaviors and contract behaviors.</span></span> <span data-ttu-id="62f03-217">Poiché gli attributi vengono definiti su oggetti gestiti e membri e gli oggetti gestiti e i membri supportano l'ereditarietà, è necessario definire il funzionamento degli attributi di comportamento nel contesto di ereditarietà.</span><span class="sxs-lookup"><span data-stu-id="62f03-217">Because attributes are defined on managed objects and members, and managed objects and members support inheritance, it is necessary to define how behavior attributes work in the context of inheritance.</span></span>  
  
 <span data-ttu-id="62f03-218">A livello generale, la regola prevede che per un particolare ambito (ad esempio un servizio, un contratto o un'operazione) vengono applicati tutti gli attributi di comportamento nella gerarchia di ereditarietà dell'ambito.</span><span class="sxs-lookup"><span data-stu-id="62f03-218">At a high level, the rule is that for a particular scope (for example, service, contract, or operation), all behavior attributes in the inheritance hierarchy for that scope are applied.</span></span> <span data-ttu-id="62f03-219">Se sono presenti due attributi di comportamento dello stesso tipo, viene utilizzato solo il tipo più derivato.</span><span class="sxs-lookup"><span data-stu-id="62f03-219">If there are two behavior attributes of the same type, only the most-derived type is used.</span></span>  
  
#### <a name="service-behaviors"></a><span data-ttu-id="62f03-220">Comportamenti del servizio</span><span class="sxs-lookup"><span data-stu-id="62f03-220">Service Behaviors</span></span>  
 <span data-ttu-id="62f03-221">Per una determinata classe del servizio, vengono applicati tutti gli attributi di comportamento del servizio sulla classe e sugli elementi padre della classe.</span><span class="sxs-lookup"><span data-stu-id="62f03-221">For a given service class, all service behavior attributes on that class, and on parents of that class, are applied.</span></span> <span data-ttu-id="62f03-222">Se lo stesso tipo di attributo viene applicato in più posizioni nella gerarchia di ereditarietà, viene utilizzato il tipo più derivato.</span><span class="sxs-lookup"><span data-stu-id="62f03-222">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>  
  
```csharp  
[ServiceBehavior(ConcurrencyMode = ConcurrencyMode.Multiple)]  
[AspNetCompatibilityRequirementsAttribute(  
    AspNetCompatibilityRequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]  
public class A { /* … */ }  
  
[ServiceBehavior(InstanceContextMode = InstanceContextMode.Single)]  
public class B : A { /* … */}  
```  
  
 <span data-ttu-id="62f03-223">Ad esempio, nel caso precedente, il servizio B finisce con una modalità <xref:System.ServiceModel.InstanceContextMode> paria <xref:System.ServiceModel.InstanceContextMode.Single>, una modalità <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode> pari a <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> e una modalità <xref:System.ServiceModel.ConcurrencyMode> pari a <xref:System.ServiceModel.ConcurrencyMode.Single>.</span><span class="sxs-lookup"><span data-stu-id="62f03-223">For example, in the preceding case, the service B ends up with an <xref:System.ServiceModel.InstanceContextMode> of <xref:System.ServiceModel.InstanceContextMode.Single>, an <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode> mode of <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed>, and a <xref:System.ServiceModel.ConcurrencyMode> of <xref:System.ServiceModel.ConcurrencyMode.Single>.</span></span> <span data-ttu-id="62f03-224"><xref:System.ServiceModel.ConcurrencyMode> è <xref:System.ServiceModel.ConcurrencyMode.Single>, poiché l'attributo <xref:System.ServiceModel.ServiceBehaviorAttribute> sul servizio B è "più derivato" di quello sul servizio A.</span><span class="sxs-lookup"><span data-stu-id="62f03-224">The <xref:System.ServiceModel.ConcurrencyMode> is <xref:System.ServiceModel.ConcurrencyMode.Single>, because <xref:System.ServiceModel.ServiceBehaviorAttribute> attribute on service B is on "more derived" than that on service A.</span></span>  
  
#### <a name="contract-behaviors"></a><span data-ttu-id="62f03-225">Comportamenti del contratto</span><span class="sxs-lookup"><span data-stu-id="62f03-225">Contract Behaviors</span></span>  
 <span data-ttu-id="62f03-226">Per un determinato contratto, vengono applicati tutti gli attributi di comportamento del contratto sull'interfaccia e sugli elementi padre dell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="62f03-226">For a given contract, all contract behavior attributes on that interface and on parents of that interface, are applied.</span></span> <span data-ttu-id="62f03-227">Se lo stesso tipo di attributo viene applicato in più posizioni nella gerarchia di ereditarietà, viene utilizzato il tipo più derivato.</span><span class="sxs-lookup"><span data-stu-id="62f03-227">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>  
  
#### <a name="operation-behaviors"></a><span data-ttu-id="62f03-228">Comportamenti dell'operazione</span><span class="sxs-lookup"><span data-stu-id="62f03-228">Operation Behaviors</span></span>  
 <span data-ttu-id="62f03-229">Se una determinata operazione non esegue l'override di un'operazione astratta o virtuale esistente, non viene applicata alcuna regola di ereditarietà.</span><span class="sxs-lookup"><span data-stu-id="62f03-229">If a given operation does not override an existing abstract or virtual operation, no inheritance rules apply.</span></span>  
  
 <span data-ttu-id="62f03-230">Se un'operazione esegue l'override di un'operazione esistente, vengono applicati tutti gli attributi di comportamento dell'operazione sull'operazione e sugli elementi padre dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="62f03-230">If an operation does override an existing operation, then all operation behavior attributes on that operation and on parents of that operation, are applied.</span></span>  <span data-ttu-id="62f03-231">Se lo stesso tipo di attributo viene applicato in più posizioni nella gerarchia di ereditarietà, viene utilizzato il tipo più derivato.</span><span class="sxs-lookup"><span data-stu-id="62f03-231">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>
