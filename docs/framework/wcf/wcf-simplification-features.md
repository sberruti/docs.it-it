---
title: Funzionalità di semplificazione WCF
ms.date: 03/30/2017
ms.assetid: 4535a511-6064-4da0-b361-80262a891663
ms.openlocfilehash: 28a05053fda8380b55a1a9eee20119b8c4cfccfe
ms.sourcegitcommit: 700ea803fb06c5ce98de017c7f76463ba33ff4a9
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/19/2020
ms.locfileid: "77452656"
---
# <a name="wcf-simplification-features"></a><span data-ttu-id="ef3cb-102">Funzionalità di semplificazione WCF</span><span class="sxs-lookup"><span data-stu-id="ef3cb-102">WCF Simplification Features</span></span>

<span data-ttu-id="ef3cb-103">In questo argomento vengono descritte le nuove funzionalità che rendono più semplice la scrittura di applicazioni WCF.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-103">This topic discusses new features that make writing WCF applications simpler.</span></span>

## <a name="simplified-generated-configuration-files"></a><span data-ttu-id="ef3cb-104">File di configurazione generati semplificati</span><span class="sxs-lookup"><span data-stu-id="ef3cb-104">Simplified Generated Configuration Files</span></span>

<span data-ttu-id="ef3cb-105">Quando si aggiunge un riferimento al servizio in Visual Studio o si utilizza lo strumento SvcUtil.exe, viene generato un file di configurazione client.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-105">When you add a service reference in Visual Studio or use the SvcUtil.exe tool a client configuration file is generated.</span></span> <span data-ttu-id="ef3cb-106">Nelle versioni precedenti di WCF, questi file di configurazione contenevano il valore di ogni proprietà di associazione anche se il relativo valore è quello predefinito.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-106">In previous versions of WCF these configuration files contained the value of every binding property even if its value is the default value.</span></span> <span data-ttu-id="ef3cb-107">In WCF 4.5 i file di configurazione generati contengono soltanto le proprietà di associazione che sono impostate su un valore non predefinito.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-107">In WCF 4.5 the generated configuration files contain only those binding properties that are set to a non-default value.</span></span>

<span data-ttu-id="ef3cb-108">Di seguito è riportato un esempio di un file di configurazione generato da WCF 3.0.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-108">The following is an example of a configuration file generated by WCF 3.0.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService1" closeTimeout="00:01:00"
                    openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
                    allowCookies="false" bypassProxyOnLocal="false"
                    hostNameComparisonMode="StrongWildcard" maxBufferSize="65536"
                    maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                    messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
                    useDefaultWebProxy="true">
                    <readerQuotas maxDepth="32" maxStringContentLength="8192"
                        maxArrayLength="16384" maxBytesPerRead="4096"
                        maxNameTableCharCount="16384" />
                    <security mode="None">
                        <transport clientCredentialType="None" proxyCredentialType="None"
                            realm="" />
                        <message clientCredentialType="UserName" algorithmSuite="Default" />
                    </security>
                </binding>
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"
                name="BasicHttpBinding_IService1" />
        </client>
    </system.serviceModel>
</configuration>
```

<span data-ttu-id="ef3cb-109">Di seguito è riportato un esempio dello stesso file di configurazione generato da WCF 4.5.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-109">The following is an example of the same configuration file generated by WCF 4.5.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService1" />
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"
                name="BasicHttpBinding_IService1" />
        </client>
    </system.serviceModel>
</configuration>
```

## <a name="contract-first-development"></a><span data-ttu-id="ef3cb-110">Sviluppo con priorità al contratto ("contract-first")</span><span class="sxs-lookup"><span data-stu-id="ef3cb-110">Contract-First Development</span></span>

<span data-ttu-id="ef3cb-111">WCF supporta ora lo sviluppo con priorità al contratto ("contract-first").</span><span class="sxs-lookup"><span data-stu-id="ef3cb-111">WCF now has support for contract-first development.</span></span> <span data-ttu-id="ef3cb-112">Lo strumento Svcutil. exe dispone di un'opzione/serviceContract che consente di generare contratti di servizio e dati da un documento WSDL.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-112">The svcutil.exe tool has a /serviceContract switch which allows you to generate service and data contracts from a WSDL document.</span></span>

## <a name="add-service-reference-from-a-portable-subset-project"></a><span data-ttu-id="ef3cb-113">Aggiungere un riferimento al servizio da un progetto di subset portabili</span><span class="sxs-lookup"><span data-stu-id="ef3cb-113">Add Service Reference From a Portable Subset Project</span></span>

<span data-ttu-id="ef3cb-114">I progetti di subset portabili consentono ai programmatori di assembly .NET di mantenere un singolo albero di origine e il sistema di compilazione, supportando comunque più implementazioni .NET (desktop, Silverlight, Windows Phone e Xbox).</span><span class="sxs-lookup"><span data-stu-id="ef3cb-114">Portable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET implementations (desktop, Silverlight, Windows Phone, and Xbox).</span></span> <span data-ttu-id="ef3cb-115">I progetti di subset portabili fanno riferimento solo a librerie portabili .NET che sono assembly che possono essere usati in qualsiasi implementazione di .NET.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-115">Portable subset projects only reference .NET portable libraries that are assemblies that can be used on any .NET implementation.</span></span> <span data-ttu-id="ef3cb-116">L'esperienza dello sviluppatore equivale all'aggiunta di un riferimento al servizio all'interno di qualsiasi altra applicazione client WCF.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-116">The developer experience is the same as adding a service reference within any other WCF client application.</span></span> <span data-ttu-id="ef3cb-117">Per altre informazioni, vedere [Aggiungi riferimento al servizio in un progetto di subset portatile](add-service-reference-in-a-portable-subset-project.md).</span><span class="sxs-lookup"><span data-stu-id="ef3cb-117">For more information, see [Add Service Reference in a Portable Subset Project](add-service-reference-in-a-portable-subset-project.md).</span></span>

## <a name="aspnet-compatibility-mode-default-changed"></a><span data-ttu-id="ef3cb-118">Modifica dell'impostazione predefinita della modalità di compatibilità ASP.NET</span><span class="sxs-lookup"><span data-stu-id="ef3cb-118">ASP.NET Compatibility Mode Default Changed</span></span>

<span data-ttu-id="ef3cb-119">WCF fornisce la modalità di compatibilità ASP.NET per garantire agli sviluppatori l'accesso completo alle funzionalità nella pipeline HTTP ASP.NET in caso di scrittura di servizi WCF.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-119">WCF provides ASP.NET compatibility mode to grant developers full access to the features in the ASP.NET HTTP pipeline when writing WCF services.</span></span> <span data-ttu-id="ef3cb-120">Per utilizzare questa modalità, è necessario impostare l'attributo `aspNetCompatibilityEnabled` su true nella sezione [\<serviceHostingEnvironment >](../configure-apps/file-schema/wcf/servicehostingenvironment.md) di Web. config. Inoltre, qualsiasi servizio in questo appDomain deve avere la proprietà `RequirementsMode` nel <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> impostato su <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> o <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-120">To use this mode, you must set the `aspNetCompatibilityEnabled` attribute to true in the [\<serviceHostingEnvironment>](../configure-apps/file-schema/wcf/servicehostingenvironment.md) section of web.config. Additionally, any service in this appDomain needs to have the `RequirementsMode` property on its <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> or <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span></span> <span data-ttu-id="ef3cb-121">Per impostazione predefinita <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> ora è impostato su <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> e il modello di applicazione del servizio WCF predefinito imposta l'attributo del `aspNetCompatibilityEnabled` su `true`.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-121">By default <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> is now set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> and the default WCF service application template sets the `aspNetCompatibilityEnabled` attribute to `true`.</span></span> <span data-ttu-id="ef3cb-122">Per ulteriori informazioni, vedere [What ' s New in Windows Communication Foundation 4,5](whats-new.md) and [WCF Services and ASP.NET](./feature-details/wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="ef3cb-122">For more information, see [What's New in Windows Communication Foundation 4.5](whats-new.md) and [WCF Services and ASP.NET](./feature-details/wcf-services-and-aspnet.md).</span></span>

## <a name="streaming-improvements"></a><span data-ttu-id="ef3cb-123">Miglioramenti del flusso</span><span class="sxs-lookup"><span data-stu-id="ef3cb-123">Streaming Improvements</span></span>

- <span data-ttu-id="ef3cb-124">In WCF è stato aggiunto un nuovo supporto per il flusso asincrono.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-124">New support for asynchronous streaming has been added to WCF.</span></span> <span data-ttu-id="ef3cb-125">Per abilitare il flusso asincrono, aggiungere il comportamento dell'endpoint <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> all'host del servizio e impostare la relativa proprietà <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> su `true`.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-125">To enable asynchronous streaming, add the  <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> endpoint behavior to the service host and set its <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> property to `true`.</span></span> <span data-ttu-id="ef3cb-126">Questa operazione può migliorare la scalabilità quando un servizio sta inviando messaggi trasmessi a più client che leggono lentamente.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-126">This can benefit scalability when a service is sending streamed messages to multiple clients which are reading slowly.</span></span> <span data-ttu-id="ef3cb-127">WCF non blocca più un thread per client e libererà il thread per soddisfare un altro client.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-127">WCF does not block one thread per client anymore and will free up the thread to service another client.</span></span>

- <span data-ttu-id="ef3cb-128">Eliminazione delle limitazioni relativamente al buffer dei messaggi quando un servizio è ospitato da IIS.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-128">Removed limitations around buffering of messages when a service is IIS hosted.</span></span> <span data-ttu-id="ef3cb-129">Nelle versioni precedenti di WCF, quando si riceveva un messaggio per un servizio ospitato da IIS che utilizzava il trasferimento dei messaggi di flusso, ASP.NET avrebbe memorizzato nel buffer l'intero messaggio prima di inviarlo a WCF.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-129">In previous versions of WCF when receiving a message for an IIS-hosted service that used streaming message transfer, ASP.NET would buffer the entire message before sending it to WCF.</span></span> <span data-ttu-id="ef3cb-130">Questa condizione comportava un elevato consumo di memoria.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-130">This would cause large memory consumption.</span></span> <span data-ttu-id="ef3cb-131">Questo buffering è stato rimosso in .NET 4.5 e ora i servizi WCF ospitati da IIS possono iniziare l'elaborazione del flusso in ingresso prima che l'intero messaggio sia stato ricevuto, permettendo quindi un flusso vero.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-131">This buffering has been removed in .NET 4.5 and now IIS-hosted WCF services can start processing the incoming stream before the entire message has been received, thereby enabling true streaming.</span></span> <span data-ttu-id="ef3cb-132">In questo modo, WCF risponde immediatamente ai messaggi e consente prestazioni migliori.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-132">This allows WCF to respond immediately to messages and allows improved performance.</span></span> <span data-ttu-id="ef3cb-133">Inoltre, non è più necessario specificare un valore per `maxRequestLength`, cioè il limite di dimensioni ASP.NET per le richieste in ingresso.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-133">In addition, you no longer have to specify a value for `maxRequestLength`, the ASP.NET size limit on incoming requests.</span></span> <span data-ttu-id="ef3cb-134">Se questa proprietà è impostata, verrà ignorata.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-134">If this property is set, it is ignored.</span></span> <span data-ttu-id="ef3cb-135">Per ulteriori informazioni su `maxRequestLength` vedere [\<elemento di configurazione > httpRuntime](https://docs.microsoft.com/previous-versions/dotnet/netframework-1.1/e1f13641(v=vs.71)).</span><span class="sxs-lookup"><span data-stu-id="ef3cb-135">For more information about `maxRequestLength` see [\<httpRuntime> configuration element](https://docs.microsoft.com/previous-versions/dotnet/netframework-1.1/e1f13641(v=vs.71)).</span></span> <span data-ttu-id="ef3cb-136">Sarà comunque necessario configurare il maxAllowedContentLength. per altre informazioni, vedere limiti delle [richieste di IIS](https://docs.microsoft.com/previous-versions/iis/settings-schema/ms689462(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="ef3cb-136">You will still need to configure the maxAllowedContentLength, For more information, see [IIS Request Limits](https://docs.microsoft.com/previous-versions/iis/settings-schema/ms689462(v=vs.90)).</span></span>

## <a name="new-transport-default-values"></a><span data-ttu-id="ef3cb-137">Nuovi valori predefiniti di trasporto</span><span class="sxs-lookup"><span data-stu-id="ef3cb-137">New Transport Default Values</span></span>

<span data-ttu-id="ef3cb-138">Nella tabella seguente vengono descritte le impostazioni che sono state modificate e dove reperire informazioni aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-138">The following table describes the settings that have changed and where to find additional information.</span></span>

|<span data-ttu-id="ef3cb-139">Proprietà</span><span class="sxs-lookup"><span data-stu-id="ef3cb-139">Property</span></span>|<span data-ttu-id="ef3cb-140">Attivato</span><span class="sxs-lookup"><span data-stu-id="ef3cb-140">On</span></span>|<span data-ttu-id="ef3cb-141">Nuova impostazione predefinita</span><span class="sxs-lookup"><span data-stu-id="ef3cb-141">New Default</span></span>|<span data-ttu-id="ef3cb-142">Altre informazioni</span><span class="sxs-lookup"><span data-stu-id="ef3cb-142">More Information</span></span>|
|--------------|--------|-----------------|----------------------|
|<span data-ttu-id="ef3cb-143">channelInitializationTimeout</span><span class="sxs-lookup"><span data-stu-id="ef3cb-143">channelInitializationTimeout</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="ef3cb-144">30 secondi</span><span class="sxs-lookup"><span data-stu-id="ef3cb-144">30 seconds</span></span>|<span data-ttu-id="ef3cb-145">Questa proprietà determina per quanto tempo una connessione TCP può eseguire l'autenticazione usando il protocollo di framing .NET.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-145">This property determines how long a TCP connection can take to authenticate itself using the .NET Framing protocol.</span></span> <span data-ttu-id="ef3cb-146">Un client deve inviare alcuni dati iniziali prima che il server disponga di informazioni sufficienti per effettuare l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-146">A client needs to send some initial data before the server has enough information to perform authentication.</span></span> <span data-ttu-id="ef3cb-147">Questo timeout viene reso intenzionalmente più piccolo rispetto a ReceiveTimeout (10 min) in modo che eventuali client non autenticati dannosi non possano mantenere le connessioni al server per molto tempo.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-147">This timeout is intentionally made smaller than the ReceiveTimeout (10 min) so that malicious unauthenticated clients do not keep the connections tied up to the server for long.</span></span> <span data-ttu-id="ef3cb-148">Il valore predefinito è 30 secondi.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-148">The default value is 30 seconds.</span></span> <span data-ttu-id="ef3cb-149">Per ulteriori informazioni su <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span><span class="sxs-lookup"><span data-stu-id="ef3cb-149">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span></span>|
|<span data-ttu-id="ef3cb-150">listenBacklog</span><span class="sxs-lookup"><span data-stu-id="ef3cb-150">listenBacklog</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="ef3cb-151">16 \* numero di processori</span><span class="sxs-lookup"><span data-stu-id="ef3cb-151">16 \* number of processors</span></span>|<span data-ttu-id="ef3cb-152">È la proprietà a livello di socket che descrive il numero di richieste "in attesa di accettazione" da mettere in coda.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-152">This socket-level property describes the number of "pending accept" requests to be queued.</span></span> <span data-ttu-id="ef3cb-153">Se la coda del backlog in ascolto si riempie, le nuove richieste del socket verranno rifiutate.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-153">If the listen backlog queue fills up, new socket requests will be rejected.</span></span> <span data-ttu-id="ef3cb-154">Per ulteriori informazioni su <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span><span class="sxs-lookup"><span data-stu-id="ef3cb-154">For more information about <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span></span>|
|<span data-ttu-id="ef3cb-155">maxPendingAccepts</span><span class="sxs-lookup"><span data-stu-id="ef3cb-155">maxPendingAccepts</span></span>|<span data-ttu-id="ef3cb-156">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="ef3cb-156">ConnectionOrientedTransportBindingElement</span></span><br /><br /> <span data-ttu-id="ef3cb-157">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="ef3cb-157">SMSvcHost.exe</span></span>|<span data-ttu-id="ef3cb-158">2 \* il numero di processori per trasporto</span><span class="sxs-lookup"><span data-stu-id="ef3cb-158">2 \* number of processors for transport</span></span><br /><br /> <span data-ttu-id="ef3cb-159">4 \* numero di processori per SMSvcHost. exe</span><span class="sxs-lookup"><span data-stu-id="ef3cb-159">4 \* number of processors for SMSvcHost.exe</span></span>|<span data-ttu-id="ef3cb-160">Questa proprietà limita il numero di canali che il server può avere in attesa su un listener.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-160">This property limits the number of channels that the server can have waiting on a listener.</span></span> <span data-ttu-id="ef3cb-161">Se i dati MaxPendingAccepts sono troppo bassi, si verificherà un piccolo intervallo di tempo in cui tutti canali in attesa hanno avviato connessioni di servizio, ma nessun nuovo canale ha iniziato l'ascolto.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-161">When MaxPendingAccepts is too low, there will be a small interval of time in which all of the waiting channels have started servicing connections, but no new channels have begun listening.</span></span> <span data-ttu-id="ef3cb-162">Durante questo intervallo può verificarsi una connessione che non riuscirà perché nulla è in sua attesa sul server.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-162">A connection can arrive during this interval and will fail because nothing is waiting for it on the server.</span></span> <span data-ttu-id="ef3cb-163">Questa proprietà può essere configurata impostando la proprietà <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> su un numero più grande.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-163">This property can be configured by setting the <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> property to a larger number.</span></span> <span data-ttu-id="ef3cb-164">Per ulteriori informazioni, vedere <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> e [configurazione del servizio di condivisione porte net. TCP](./feature-details/configuring-the-net-tcp-port-sharing-service.md)</span><span class="sxs-lookup"><span data-stu-id="ef3cb-164">For more information, see <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> and [Configuring the Net.TCP Port Sharing Service](./feature-details/configuring-the-net-tcp-port-sharing-service.md)</span></span>|
|<span data-ttu-id="ef3cb-165">maxPendingConnections</span><span class="sxs-lookup"><span data-stu-id="ef3cb-165">maxPendingConnections</span></span>|<span data-ttu-id="ef3cb-166">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="ef3cb-166">ConnectionOrientedTransportBindingElement</span></span>|<span data-ttu-id="ef3cb-167">12 \* il numero di processori</span><span class="sxs-lookup"><span data-stu-id="ef3cb-167">12 \* number of processors</span></span>|<span data-ttu-id="ef3cb-168">Questa proprietà controlla il numero di connessioni che sono state accettate da un trasporto, ma non prelevate dal dispatcher ServiceModel.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-168">This property controls how many connections a transport has accepted but have not been picked up by the ServiceModel Dispatcher.</span></span> <span data-ttu-id="ef3cb-169">Per impostare questo valore, utilizzare `MaxConnections` nell'associazione o `maxOutboundConnectionsPerEndpoint` nell'elemento di associazione.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-169">To set this value, use `MaxConnections` on the binding or `maxOutboundConnectionsPerEndpoint` on the binding element.</span></span> <span data-ttu-id="ef3cb-170">Per ulteriori informazioni su <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span><span class="sxs-lookup"><span data-stu-id="ef3cb-170">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span></span>|
|<span data-ttu-id="ef3cb-171">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="ef3cb-171">receiveTimeout</span></span>|<span data-ttu-id="ef3cb-172">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="ef3cb-172">SMSvcHost.exe</span></span>|<span data-ttu-id="ef3cb-173">30 secondi</span><span class="sxs-lookup"><span data-stu-id="ef3cb-173">30 seconds</span></span>|<span data-ttu-id="ef3cb-174">Questa proprietà specifica il timeout per la lettura dei dati sui frame TCP e per l'esecuzione dell'invio della connessione dalle connessioni sottostanti.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-174">This property specifies the timeout for reading the TCP framing data and performing connection dispatching from the underlying connections.</span></span> <span data-ttu-id="ef3cb-175">Questa proprietà è utile per applicare un limite al tempo in cui il servizio SMSvcHost.exe viene utilizzato per leggere i dati del preambolo da una connessione in ingresso.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-175">This exists to put a cap on the amount of time SMSvcHost.exe service is kept engaged to read the preamble data from an incoming connection.</span></span> <span data-ttu-id="ef3cb-176">Per ulteriori informazioni, vedere [configurazione del servizio di condivisione porte net. TCP](./feature-details/configuring-the-net-tcp-port-sharing-service.md).</span><span class="sxs-lookup"><span data-stu-id="ef3cb-176">For more information, see [Configuring the Net.TCP Port Sharing Service](./feature-details/configuring-the-net-tcp-port-sharing-service.md).</span></span>|

> [!NOTE]
> <span data-ttu-id="ef3cb-177">Le nuove impostazioni predefinite vengono utilizzate solo se si distribuisce il servizio WCF in un computer con .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-177">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="ef3cb-178">Se si distribuisce lo stesso servizio in un computer con .NET Framework 4.0, vengono utilizzati i valori predefiniti di .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-178">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="ef3cb-179">In questi casi è consigliabile configurare queste impostazioni in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-179">In such cases it is recommended to configure these settings explicitly.</span></span>

## <a name="xmldictionaryreaderquotas"></a><span data-ttu-id="ef3cb-180">XmlDictionaryReaderQuotas</span><span class="sxs-lookup"><span data-stu-id="ef3cb-180">XmlDictionaryReaderQuotas</span></span>

<span data-ttu-id="ef3cb-181">L'oggetto <xref:System.Xml.XmlDictionaryReaderQuotas> contiene i valori di quota configurabili per lettori di dizionari XML che limitano la quantità di memoria utilizzata da un codificatore durante la creazione di un messaggio.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-181"><xref:System.Xml.XmlDictionaryReaderQuotas> contains configurable quota values for XML dictionary readers which limit the amount of memory utilized by an encoder while creating a message.</span></span> <span data-ttu-id="ef3cb-182">Anche se queste quote sono configurabili, i valori predefiniti sono stati modificati per ridurre la possibilità che uno sviluppatore debba impostarle in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-182">While these quotas are configurable, the default values have changed to lessen the possibility that a developer will need to set them explicitly.</span></span> <span data-ttu-id="ef3cb-183">La quota `MaxReceivedMessageSize` non è stata modificata, pertanto può ancora limitare il consumo di memoria evitando all'utente di dover gestire la complessità dell'oggetto <xref:System.Xml.XmlDictionaryReaderQuotas>.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-183">`MaxReceivedMessageSize` quota has not been changed so that it can still limit memory consumption preventing the need for you to deal with the complexity of the <xref:System.Xml.XmlDictionaryReaderQuotas>.</span></span> <span data-ttu-id="ef3cb-184">Nella tabella seguente sono illustrate le quote, i relativi nuovi valori predefiniti e una breve descrizione dell'utilizzo di ciascuna quota.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-184">The following table shows the quotas, their new default values and a brief explanation of what each quota is used for.</span></span>

|<span data-ttu-id="ef3cb-185">Nome quota</span><span class="sxs-lookup"><span data-stu-id="ef3cb-185">Quota Name</span></span>|<span data-ttu-id="ef3cb-186">Valore predefinito</span><span class="sxs-lookup"><span data-stu-id="ef3cb-186">Default Value</span></span>|<span data-ttu-id="ef3cb-187">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ef3cb-187">Description</span></span>|
|----------------|-------------------|-----------------|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>|<span data-ttu-id="ef3cb-188">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="ef3cb-188">Int32.MaxValue</span></span>|<span data-ttu-id="ef3cb-189">Ottiene e imposta la lunghezza massima consentita della matrice.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-189">Gets and sets the maximum allowed array length.</span></span> <span data-ttu-id="ef3cb-190">Questa quota limita la dimensione massima di una matrice di primitive che viene restituita dal lettore XML, incluse matrici di byte.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-190">This quota limits the maximum size of an array of primitives that the XML reader returns, including byte arrays.</span></span> <span data-ttu-id="ef3cb-191">La quota non limita l'utilizzo di memoria nel lettore XML stesso, bensì in un qualsiasi componente che utilizza il lettore.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-191">This quota does not limit memory consumption in the XML reader itself, but in whatever component that is using the reader.</span></span> <span data-ttu-id="ef3cb-192">Ad esempio, quando la classe <xref:System.Runtime.Serialization.DataContractSerializer> utilizza un lettore protetto con <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, non deserializza matrici di byte che superano questa quota.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-192">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, it does not deserialize byte arrays larger than this quota.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>|<span data-ttu-id="ef3cb-193">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="ef3cb-193">Int32.MaxValue</span></span>|<span data-ttu-id="ef3cb-194">Ottiene e imposta i byte massimi consentiti restituiti per ogni lettura.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-194">Gets and sets the maximum allowed bytes returned for each read.</span></span> <span data-ttu-id="ef3cb-195">Questa quota limita il numero di byte letti in una sola operazione di lettura, durante la lettura del tag iniziale dell'elemento e dei relativi attributi.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-195">This quota limits the number of bytes that are read in a single Read operation when reading the element start tag and its attributes.</span></span> <span data-ttu-id="ef3cb-196">In casi in cui non viene utilizzato il flusso, il nome dell'elemento stesso non viene contato ai fini della quota.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-196">(In non-streamed cases, the element name itself is not counted against the quota).</span></span> <span data-ttu-id="ef3cb-197">La presenza di troppi attributi XML può causare un prolungamento eccessivo dei tempi di elaborazione perché è necessario controllare che i nomi degli attributi siano univoci.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-197">Having too many XML attributes may use up disproportionate processing time because attribute names have to be checked for uniqueness.</span></span> <span data-ttu-id="ef3cb-198">Utilizzando la proprietà<xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> la minaccia viene mitigata.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> mitigates this threat.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A>|<span data-ttu-id="ef3cb-199">128 nodi di profondità</span><span class="sxs-lookup"><span data-stu-id="ef3cb-199">128 nodes deep</span></span>|<span data-ttu-id="ef3cb-200">Questa quota limita la profondità massima di annidamento degli elementi XML.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-200">This quota limits the maximum nesting depth of XML elements.</span></span> <span data-ttu-id="ef3cb-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> interagisce con <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: il lettore mantiene sempre i dati in memoria per l'elemento corrente e tutti i suoi predecessori, pertanto l'utilizzo massimo di memoria da parte del lettore è proporzionale al prodotto di queste due impostazioni.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> interacts with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: the reader always keeps data in memory for the current element and all of its ancestors, so the maximum memory consumption of the reader is proportional to the product of these two settings.</span></span> <span data-ttu-id="ef3cb-202">Quando un oggetto grafico profondamente annidato viene deserializzato, il deserializzatore deve utilizzare l'intero stack e generare un'eccezione <xref:System.StackOverflowException>irreversibile.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-202">When deserializing a deeply-nested object graph, the deserializer is forced to access the entire stack and throw an unrecoverable <xref:System.StackOverflowException>.</span></span> <span data-ttu-id="ef3cb-203">Esiste una correlazione diretta tra l'annidamento XML e l'annidamento di oggetti sia per la classe <xref:System.Runtime.Serialization.DataContractSerializer> sia per la classe <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-203">A direct correlation exists between XML nesting and object nesting for both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <xref:System.Xml.Serialization.XmlSerializer>.</span></span> <span data-ttu-id="ef3cb-204">La proprietà <xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> viene utilizzata per mitigare questa minaccia.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> is used to mitigate this threat.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxNameTableCharCount%2A>|<span data-ttu-id="ef3cb-205">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="ef3cb-205">Int32.MaxValue</span></span>|<span data-ttu-id="ef3cb-206">Questa quota limita il numero massimo di caratteri consentiti in una tabella dei nomi.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-206">This quota limits the maximum number of characters allowed in a nametable.</span></span> <span data-ttu-id="ef3cb-207">La tabella NameTable contiene alcune stringhe (ad esempio spazi dei nomi e prefissi) incontrate durante l'elaborazione di un documento XML.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-207">The nametable contains certain strings (such as namespaces and prefixes) that are encountered when processing an XML document.</span></span> <span data-ttu-id="ef3cb-208">Poiché tali stringhe vengono memorizzate nel buffer, questa quota viene utilizzata per impedire la memorizzazione di un'eccessiva quantità di dati nel buffer quando si prevede un flusso.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-208">As these strings are buffered in memory, this quota is used to prevent excessive buffering when streaming is expected.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>|<span data-ttu-id="ef3cb-209">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="ef3cb-209">Int32.MaxValue</span></span>|<span data-ttu-id="ef3cb-210">Questa quota limita la dimensione massima della stringa restituita dal lettore XML</span><span class="sxs-lookup"><span data-stu-id="ef3cb-210">This quota limits the maximum string size that the XML reader returns.</span></span> <span data-ttu-id="ef3cb-211">e non l'utilizzo di memoria nel lettore XML stesso, bensì nel componente che utilizza il lettore.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-211">This quota does not limit memory consumption in the XML reader itself, but in the component that is using the reader.</span></span> <span data-ttu-id="ef3cb-212">Ad esempio, quando la classe <xref:System.Runtime.Serialization.DataContractSerializer> utilizza un lettore protetto con <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, non deserializza stringhe che superano questa quota.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-212">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, it does not deserialize strings larger than this quota.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="ef3cb-213">Per ulteriori informazioni sulla protezione dei dati, vedere "utilizzo sicuro di XML" in [considerazioni sulla protezione dei dati](./feature-details/security-considerations-for-data.md) .</span><span class="sxs-lookup"><span data-stu-id="ef3cb-213">Refer to "Using XML Safely" under [Security Considerations for Data](./feature-details/security-considerations-for-data.md) for more information about securing your data.</span></span>

> [!NOTE]
> <span data-ttu-id="ef3cb-214">Le nuove impostazioni predefinite vengono utilizzate solo se si distribuisce il servizio WCF in un computer con .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-214">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="ef3cb-215">Se si distribuisce lo stesso servizio in un computer con .NET Framework 4.0, vengono utilizzati i valori predefiniti di .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-215">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="ef3cb-216">In questi casi è consigliabile configurare queste impostazioni in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-216">In such cases it is recommended to configure these settings explicitly.</span></span>

## <a name="wcf-configuration-validation"></a><span data-ttu-id="ef3cb-217">Convalida della configurazione WCF</span><span class="sxs-lookup"><span data-stu-id="ef3cb-217">WCF Configuration Validation</span></span>

<span data-ttu-id="ef3cb-218">Il processo di compilazione in Visual Studio include ora la convalida dei file di configurazione WCF.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-218">As part of the build process within Visual Studio, WCF configuration files are now validated.</span></span> <span data-ttu-id="ef3cb-219">Se la convalida non riesce, in Visual Studio viene visualizzato un elenco di errori o avvisi di convalida.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-219">A list of validation errors or warnings are displayed in Visual Studio if the validation fails.</span></span>

## <a name="xml-editor-tooltips"></a><span data-ttu-id="ef3cb-220">Descrizioni comandi dell'editor XML</span><span class="sxs-lookup"><span data-stu-id="ef3cb-220">XML Editor Tooltips</span></span>

<span data-ttu-id="ef3cb-221">Per consentire agli sviluppatori di servizi WCF nuovi ed esistenti di configurare i propri servizi, l'editor XML di Visual Studio offre ora le descrizioni comandi per ogni elemento di configurazione e le relative proprietà che fanno parte del file di configurazione del servizio.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-221">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>

## <a name="basichttpbinding-improvements"></a><span data-ttu-id="ef3cb-222">Miglioramenti di BasicHttpBinding</span><span class="sxs-lookup"><span data-stu-id="ef3cb-222">BasicHttpBinding Improvements</span></span>

1. <span data-ttu-id="ef3cb-223">Consente a un singolo endpoint WCF di rispondere a diverse modalità di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="ef3cb-223">Enables a single WCF endpoint to respond to different authentication modes.</span></span>

2. <span data-ttu-id="ef3cb-224">Consente il controllo delle impostazioni di sicurezza di un servizio WCF da parte di IIS</span><span class="sxs-lookup"><span data-stu-id="ef3cb-224">Enables a WCF service’s security settings to be controlled by IIS</span></span>
