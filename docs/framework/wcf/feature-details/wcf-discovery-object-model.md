---
title: Modello a oggetti WCF Discovery
ms.date: 03/30/2017
ms.assetid: 8365a152-eacd-4779-9130-bbc48fa5c5d9
ms.openlocfilehash: debcb08802894a34e16d9aa65bbbb1b0282794f6
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/12/2020
ms.locfileid: "79184216"
---
# <a name="wcf-discovery-object-model"></a><span data-ttu-id="4c8c3-102">Modello a oggetti WCF Discovery</span><span class="sxs-lookup"><span data-stu-id="4c8c3-102">WCF Discovery Object Model</span></span>
<span data-ttu-id="4c8c3-103">WCF Discovery è costituito da un set di tipi che forniscono un modello di programmazione unificato che consente di scrivere servizi individuabili al runtime e client in grado di trovare e utilizzare tali servizi.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-103">WCF Discovery consists of a set of types that provide a unified programming model that allows you to write services that are discoverable at runtime and clients that find and use these services.</span></span>  
  
## <a name="making-a-service-discoverable-and-finding-services"></a><span data-ttu-id="4c8c3-104">Come rendere individuabile un servizio e trovare i servizi</span><span class="sxs-lookup"><span data-stu-id="4c8c3-104">Making a Service Discoverable and Finding Services</span></span>  
 <span data-ttu-id="4c8c3-105">Per rendere individuabile un servizio WCF, aggiungere un elemento <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> all'oggetto <xref:System.ServiceModel.Description.ServiceDescription> dell'host del servizio e aggiungere un endpoint di individuazione.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-105">To make a WCF service discoverable, add a <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> to the <xref:System.ServiceModel.Description.ServiceDescription> of the service host and add a discovery endpoint.</span></span> <span data-ttu-id="4c8c3-106">Se un servizio è configurato per inviare messaggi di annuncio (con <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>), l'annuncio viene inviato quando l'host del servizio viene aperto e chiuso.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-106">If a service is configured to send announcement messages (by adding an <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>) the announcement is sent when the service host is opened and closed.</span></span>  
  
 <span data-ttu-id="4c8c3-107">Per essere in ascolto dei messaggi di annuncio del servizio, un client ospita un servizio annunci e aggiunge uno o più endpoint annunci.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-107">A client that wants to listen for service announcement messages hosts an announcement service and adds one or more announcement endpoints.</span></span> <span data-ttu-id="4c8c3-108">Il servizio annunci riceve i messaggi di annuncio e genera eventi di annuncio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-108">The announcement service receives announcement messages and raises announcement events.</span></span>  
  
 <span data-ttu-id="4c8c3-109">Il client utilizza la classe <xref:System.ServiceModel.Discovery.DiscoveryClient> per cercare i servizi disponibili.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-109">A client uses the <xref:System.ServiceModel.Discovery.DiscoveryClient> class to search for available services.</span></span> <span data-ttu-id="4c8c3-110">L'applicazione client crea un'istanza della classe <xref:System.ServiceModel.Discovery.DiscoveryClient>, passando un endpoint di individuazione che specifica dove inviare i messaggi di individuazione.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-110">The client application instantiates the <xref:System.ServiceModel.Discovery.DiscoveryClient> class, passing in a discovery endpoint that specifies where to send discovery messages.</span></span> <span data-ttu-id="4c8c3-111">Il client chiama il metodo <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> che invia una richiesta `Probe`.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-111">The client calls the <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> method, which sends a `Probe` request.</span></span> <span data-ttu-id="4c8c3-112">I servizi in ascolto dei messaggi di individuazione ricevono la richiesta `Probe`.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-112">Services listening for discovery messages receive this `Probe` request.</span></span> <span data-ttu-id="4c8c3-113">Se il servizio corrisponde ai criteri specificati in `Probe`, al client viene restituito il messaggio `ProbeMatch`.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-113">If the service matches the criteria specified in the `Probe`, it sends a `ProbeMatch` message back to the client.</span></span>  
  
## <a name="object-model"></a><span data-ttu-id="4c8c3-114">Modello a oggetti</span><span class="sxs-lookup"><span data-stu-id="4c8c3-114">Object Model</span></span>  
 <span data-ttu-id="4c8c3-115">L'API di WCF Discovery definisce le classi seguenti:</span><span class="sxs-lookup"><span data-stu-id="4c8c3-115">The WCF Discovery API defines the following classes:</span></span>  
  
- <xref:System.ServiceModel.Discovery.AnnouncementClient>  
  
- <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>  
  
- <xref:System.ServiceModel.Discovery.AnnouncementService>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryClient>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryEndpoint>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryClientBindingElement>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator>  
  
- <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryProxy>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryService>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryVersion>  
  
- <xref:System.ServiceModel.Discovery.DynamicEndpoint>  
  
- <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior>  
  
- <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>  
  
- <xref:System.ServiceModel.Discovery.FindCriteria>  
  
- <xref:System.ServiceModel.Discovery.FindRequestContext>  
  
- <xref:System.ServiceModel.Discovery.FindResponse>  
  
- <xref:System.ServiceModel.Discovery.ResolveCriteria>  
  
- <xref:System.ServiceModel.Discovery.ResolveResponse>  
  
- <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior>  

- <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint>  
  
- <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>  
  
## <a name="announcementclient"></a><span data-ttu-id="4c8c3-116">AnnouncementClient</span><span class="sxs-lookup"><span data-stu-id="4c8c3-116">AnnouncementClient</span></span>  
 <span data-ttu-id="4c8c3-117">La classe <xref:System.ServiceModel.Discovery.AnnouncementClient> include metodi sincroni e asincroni per l'invio di messaggi di annuncio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-117">The <xref:System.ServiceModel.Discovery.AnnouncementClient> class provides synchronous and asynchronous methods for sending announcement messages.</span></span> <span data-ttu-id="4c8c3-118">Esistono due tipi di messaggi di annuncio, Hello e Bye.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-118">There are two types of announcement messages, Hello and Bye.</span></span> <span data-ttu-id="4c8c3-119">Il messaggio Hello viene inviato per indicare che un servizio è diventato disponibile, mentre il messaggio Bye viene inviato per indicare che un servizio esistente non è più disponibile.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-119">A Hello message is sent to indicate that a service has become available and a Bye message is sent to indicate that an existing service has become unavailable.</span></span> <span data-ttu-id="4c8c3-120">Lo sviluppatore crea un'istanza di <xref:System.ServiceModel.Discovery.AnnouncementClient>, passando un'istanza di <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> come parametro costruttore.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-120">The developer creates an <xref:System.ServiceModel.Discovery.AnnouncementClient> instance, passing an instance of <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> as a constructor parameter.</span></span>  
  
## <a name="announcementendpoint"></a><span data-ttu-id="4c8c3-121">AnnouncementEndpoint</span><span class="sxs-lookup"><span data-stu-id="4c8c3-121">AnnouncementEndpoint</span></span>  
 <span data-ttu-id="4c8c3-122"><xref:System.ServiceModel.Discovery.AnnouncementEndpoint> rappresenta un endpoint standard con un contratto annuncio fisso.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-122"><xref:System.ServiceModel.Discovery.AnnouncementEndpoint> represents a standard endpoint with a fixed announcement contract.</span></span> <span data-ttu-id="4c8c3-123">È utilizzato da un servizio o da un client per inviare e ricevere messaggi di annuncio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-123">It is used by a service or client to send and receive announcement messages.</span></span> <span data-ttu-id="4c8c3-124">Per impostazione predefinita, la classe <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> è impostata per utilizzare la versione del protocollo WS_Discovery 11.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-124">By default, the <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> class is set to use the WS_Discovery 11 protocol version.</span></span>  
  
## <a name="announcementservice"></a><span data-ttu-id="4c8c3-125">AnnouncementService</span><span class="sxs-lookup"><span data-stu-id="4c8c3-125">AnnouncementService</span></span>  
 <span data-ttu-id="4c8c3-126"><xref:System.ServiceModel.Discovery.AnnouncementService> è un'implementazione fornita dal sistema di un servizio annunci che riceve ed elabora messaggi di annuncio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-126"><xref:System.ServiceModel.Discovery.AnnouncementService> is a system-provided implementation of an announcement service that receives and processes announcement messages.</span></span> <span data-ttu-id="4c8c3-127">Quando viene ricevuto un messaggio Hello o Bye, l'istanza di <xref:System.ServiceModel.Discovery.AnnouncementService> chiama il metodo virtuale appropriato <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOnlineAnnouncement%2A> o <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOfflineAnnouncement%2A>, il quale genera un evento di annuncio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-127">When a Hello or Bye message is received, the <xref:System.ServiceModel.Discovery.AnnouncementService> instance calls the appropriate virtual method <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOnlineAnnouncement%2A> or <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOfflineAnnouncement%2A>, which raises announcement events.</span></span>  
  
## <a name="discoveryclient"></a><span data-ttu-id="4c8c3-128">DiscoveryClient</span><span class="sxs-lookup"><span data-stu-id="4c8c3-128">DiscoveryClient</span></span>  
 <span data-ttu-id="4c8c3-129">La classe <xref:System.ServiceModel.Discovery.DiscoveryClient> viene utilizzata da un'applicazione client per trovare e risolvere i servizi disponibili.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-129">The <xref:System.ServiceModel.Discovery.DiscoveryClient> class is used by a client application to find and resolve available services.</span></span> <span data-ttu-id="4c8c3-130">Fornisce metodi sincroni e asincroni per individuare e risolvere i servizi rispettivamente in base agli elementi <xref:System.ServiceModel.Discovery.FindCriteria> e <xref:System.ServiceModel.Discovery.ResolveCriteria> specificati.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-130">It provides synchronous and asynchronous methods for finding and resolving services based on the specified <xref:System.ServiceModel.Discovery.FindCriteria> and <xref:System.ServiceModel.Discovery.ResolveCriteria> respectively.</span></span> <span data-ttu-id="4c8c3-131">Lo sviluppatore crea un'istanza di <xref:System.ServiceModel.Discovery.DiscoveryClient> e fornisce un'istanza di <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> come parametro costruttore.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-131">The developer creates a <xref:System.ServiceModel.Discovery.DiscoveryClient> instance and provides an instance of <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> as a constructor parameter.</span></span>  
  
 <span data-ttu-id="4c8c3-132">Per trovare un servizio, lo sviluppatore richiama il metodo `Find` sincrono o asincrono che fornisce un'istanza di <xref:System.ServiceModel.Discovery.FindCriteria> che contiene i criteri di ricerca da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-132">To find a service, the developer invokes the synchronous or asynchronous `Find` method, which provides a <xref:System.ServiceModel.Discovery.FindCriteria> instance that contains the search criteria to use.</span></span> <span data-ttu-id="4c8c3-133"><xref:System.ServiceModel.Discovery.DiscoveryClient> crea un messaggio `Probe` con le intestazioni appropriate ed invia la richiesta di individuazione.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-133">The <xref:System.ServiceModel.Discovery.DiscoveryClient> creates a `Probe` message with the appropriate headers, and sends the find request.</span></span> <span data-ttu-id="4c8c3-134">Poiché possono essere presenti più richieste `Find` in attesa in un determinato momento, il client correla le risposte ricevute e convalida la risposta.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-134">Because there can be more than one outstanding `Find` request at any time, the client correlates the received responses and validates the response.</span></span> <span data-ttu-id="4c8c3-135">Recapita quindi i risultati al chiamante dell'operazione `Find` utilizzando <xref:System.ServiceModel.Discovery.FindResponse>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-135">It then delivers the results to the caller of the `Find` operation using <xref:System.ServiceModel.Discovery.FindResponse>.</span></span>  
  
 <span data-ttu-id="4c8c3-136">Per risolvere un servizio noto, lo sviluppatore richiama il metodo `Resolve` sincrono o asincrono che fornisce un'istanza di <xref:System.ServiceModel.Discovery.ResolveCriteria> contenente l'elemento <xref:System.ServiceModel.EndpointAddress> del servizio noto.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-136">To resolve a known service, the developer invokes the synchronous or asynchronous `Resolve` method that provides an instance of <xref:System.ServiceModel.Discovery.ResolveCriteria> that contains the <xref:System.ServiceModel.EndpointAddress> of the known service.</span></span> <span data-ttu-id="4c8c3-137"><xref:System.ServiceModel.Discovery.DiscoveryClient> crea il messaggio `Resolve` con le intestazioni appropriate ed invia la richiesta di risoluzione.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-137">The <xref:System.ServiceModel.Discovery.DiscoveryClient> creates the `Resolve` message with the appropriate headers and sends the resolve request.</span></span> <span data-ttu-id="4c8c3-138">La risposta ricevuta viene correlata rispetto alle richieste di risoluzione in attesa ed il risultato viene recapitato al chiamante dell'operazione `Resolve` utilizzando <xref:System.ServiceModel.Discovery.ResolveResponse>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-138">The received response is correlated against the outstanding resolve requests and the result is delivered to the caller of the `Resolve` operation using <xref:System.ServiceModel.Discovery.ResolveResponse>.</span></span>  
  
 <span data-ttu-id="4c8c3-139">Se in rete è presente un proxy di individuazione e <xref:System.ServiceModel.Discovery.DiscoveryClient> invia la richiesta di individuazione in modo multicast, il proxy di individuazione può rispondere con il messaggio Hello di eliminazione multicast.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-139">If a discovery proxy is present on the network and the <xref:System.ServiceModel.Discovery.DiscoveryClient> sends the discovery request in a multicast fashion, the discovery proxy can respond with the multicast suppression Hello message.</span></span> <span data-ttu-id="4c8c3-140"><xref:System.ServiceModel.Discovery.DiscoveryClient> genera l'evento `ProxyAvailable` quando riceve messaggi Hello in risposta alle richieste `Find` o `Resolve` in attesa.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-140">The <xref:System.ServiceModel.Discovery.DiscoveryClient> raises the `ProxyAvailable` event when it receives Hello messages in response to outstanding `Find` or `Resolve` requests.</span></span> <span data-ttu-id="4c8c3-141">L'evento `ProxyAvailable` contiene i dati <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> relativi al proxy di individuazione.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-141">The `ProxyAvailable` event contains the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> about the discovery proxy.</span></span> <span data-ttu-id="4c8c3-142">A seconda delle esigenze, lo sviluppatore può decidere se utilizzare queste informazioni per passare dalla modalità ad hoc a quella gestita.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-142">It is up to the developer to use this information to switch from Ad hoc to Managed mode.</span></span>  
  
## <a name="discoveryendpoint"></a><span data-ttu-id="4c8c3-143">DiscoveryEndpoint</span><span class="sxs-lookup"><span data-stu-id="4c8c3-143">DiscoveryEndpoint</span></span>  
 <span data-ttu-id="4c8c3-144"><xref:System.ServiceModel.Discovery.DiscoveryEndpoint> rappresenta un endpoint standard con un contratto di individuazione fisso.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-144"><xref:System.ServiceModel.Discovery.DiscoveryEndpoint> represents a standard endpoint with a fixed discovery contract.</span></span> <span data-ttu-id="4c8c3-145">È utilizzato da un servizio o da un client per inviare o ricevere messaggi di individuazione.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-145">It is used by a service or client to send or receive discovery messages.</span></span> <span data-ttu-id="4c8c3-146">Per impostazione predefinita, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> è impostato per utilizzare la modalità <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Managed?displayProperty=nameWithType> e la versione del protocollo WS_Discovery 11.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-146">By default, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> is set to use <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Managed?displayProperty=nameWithType> mode and the WSDiscovery11 WS-Discovery version.</span></span>  
  
## <a name="discoverymessagesequencegenerator"></a><span data-ttu-id="4c8c3-147">DiscoveryMessageSequenceGenerator</span><span class="sxs-lookup"><span data-stu-id="4c8c3-147">DiscoveryMessageSequenceGenerator</span></span>  
 <span data-ttu-id="4c8c3-148"><xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator> è utilizzato per generare un oggetto <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence> quando il servizio invia messaggi di individuazione o di annuncio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-148"><xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator> is used to generate a <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence> when the service is sending out Discovery or Announcement messages.</span></span>  
  
## <a name="discoveryservice"></a><span data-ttu-id="4c8c3-149">DiscoveryService</span><span class="sxs-lookup"><span data-stu-id="4c8c3-149">DiscoveryService</span></span>  
 <span data-ttu-id="4c8c3-150">La classe astratta <xref:System.ServiceModel.Discovery.DiscoveryService> offre un framework per ricevere ed elaborare messaggi `Probe` e `Resolve`.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-150">The <xref:System.ServiceModel.Discovery.DiscoveryService> abstract class provides a framework for receiving and processing `Probe` and `Resolve` messages.</span></span> <span data-ttu-id="4c8c3-151">Quando viene ricevuto un messaggio `Probe`, <xref:System.ServiceModel.Discovery.DiscoveryService> crea un'istanza di <xref:System.ServiceModel.Discovery.FindRequestContext> in base al messaggio in ingresso e richiama il metodo virtuale <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginFind%2A>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-151">When a `Probe` message is received, <xref:System.ServiceModel.Discovery.DiscoveryService> creates an instance of <xref:System.ServiceModel.Discovery.FindRequestContext> based on the incoming message and invokes the <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginFind%2A> virtual method.</span></span> <span data-ttu-id="4c8c3-152">Quando viene ricevuto un messaggio `Resolve`, <xref:System.ServiceModel.Discovery.DiscoveryService> richiama il metodo virtuale <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginResolve%2A>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-152">When a `Resolve` message is received, <xref:System.ServiceModel.Discovery.DiscoveryService> invokes the <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginResolve%2A> virtual method.</span></span> <span data-ttu-id="4c8c3-153">È possibile ereditare da questa classe per fornire un'implementazione personalizzata del servizio di individuazione.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-153">You can inherit from this class to provide a custom Discovery Service implementation.</span></span>  
  
## <a name="discoveryproxy"></a><span data-ttu-id="4c8c3-154">DiscoveryProxy</span><span class="sxs-lookup"><span data-stu-id="4c8c3-154">DiscoveryProxy</span></span>  
 <span data-ttu-id="4c8c3-155">La classe astratta <xref:System.ServiceModel.Discovery.DiscoveryProxy> offre un framework per ricevere ed elaborare messaggi di individuazione e di annuncio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-155">The <xref:System.ServiceModel.Discovery.DiscoveryProxy> abstract class provides a framework for receiving and processing discovery and announcement messages.</span></span> <span data-ttu-id="4c8c3-156">È possibile ereditare da questa classe quando si implementa un proxy di individuazione personalizzato.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-156">You inherit from this class when you are implementing a custom discovery proxy.</span></span> <span data-ttu-id="4c8c3-157">Quando un messaggio `Probe` viene ricevuto tramite multicast, la classe <xref:System.ServiceModel.Discovery.DiscoveryProxy> chiama il metodo virtuale `BeginShouldRedirectFind` per determinare se deve essere inviato un messaggio di eliminazione multicast.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-157">When a `Probe` message is received over multicast, the <xref:System.ServiceModel.Discovery.DiscoveryProxy> class calls the `BeginShouldRedirectFind` virtual method to determine whether a multicast suppression message should to be sent.</span></span> <span data-ttu-id="4c8c3-158">Se lo sviluppatore decide di non inviare un messaggio di eliminazione multicast o se il messaggio `Probe` è ricevuto tramite unicast, crea un'istanza della classe <xref:System.ServiceModel.Discovery.FindRequestContext> basata sul messaggio in arrivo e richiama il metodo virtuale `OnBeginFind`.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-158">If the developer decides not to send a multicast suppression message or if the `Probe` message was received over unicast, it creates an instance of the <xref:System.ServiceModel.Discovery.FindRequestContext> class based on the incoming message and invokes the `OnBeginFind` virtual method.</span></span> <span data-ttu-id="4c8c3-159">Quando un messaggio `Resolve` viene ricevuto tramite multicast, la classe <xref:System.ServiceModel.Discovery.DiscoveryProxy> chiama il metodo virtuale `ShouldRedirectResolve` per determinare se deve essere inviato un messaggio di eliminazione multicast.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-159">When a `Resolve` message is received over multicast, The <xref:System.ServiceModel.Discovery.DiscoveryProxy> class calls the `ShouldRedirectResolve` virtual method to determine whether a multicast suppression message should to be sent.</span></span> <span data-ttu-id="4c8c3-160">Se lo sviluppatore decide di non inviare un messaggio di eliminazione multicast o se il messaggio `Resolve` è ricevuto tramite unicast, crea un'istanza della classe <xref:System.ServiceModel.Discovery.ResolveCriteria> basata sul messaggio in arrivo e richiama il metodo virtuale `OnBeginResolve`.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-160">If the developer decides not to send a multicast suppression message or if the `Resolve` message was received over unicast, it creates an instance of the <xref:System.ServiceModel.Discovery.ResolveCriteria> class based on the incoming message and invokes the `OnBeginResolve` virtual method.</span></span> <span data-ttu-id="4c8c3-161">Quando viene ricevuto un messaggio Hello o Bye, <xref:System.ServiceModel.Discovery.DiscoveryProxy> chiama il metodo virtuale appropriato (`OnBeginOnlineAnnouncement` o `OnBeingOfflineAnnouncement`), il quale genera un evento di annuncio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-161">When a Hello or Bye message is received, <xref:System.ServiceModel.Discovery.DiscoveryProxy> calls the appropriate virtual method (`OnBeginOnlineAnnouncement` or `OnBeingOfflineAnnouncement`), which raises announcement events.</span></span>  
  
## <a name="discoveryversion"></a><span data-ttu-id="4c8c3-162">DiscoveryVersion</span><span class="sxs-lookup"><span data-stu-id="4c8c3-162">DiscoveryVersion</span></span>  
 <span data-ttu-id="4c8c3-163">La classe <xref:System.ServiceModel.Discovery.DiscoveryVersion> rappresenta la versione del protocollo di individuazione da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-163">The <xref:System.ServiceModel.Discovery.DiscoveryVersion> class represents the discovery protocol version to use.</span></span>  
  
## <a name="endpointdiscoverybehavior"></a><span data-ttu-id="4c8c3-164">EndpointDiscoveryBehavior</span><span class="sxs-lookup"><span data-stu-id="4c8c3-164">EndpointDiscoveryBehavior</span></span>  
 <span data-ttu-id="4c8c3-165">La classe <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> è utilizzata per controllare l'individuabilità di un endpoint, specificare le estensioni, i nomi dei tipi di contratto aggiuntivi</span><span class="sxs-lookup"><span data-stu-id="4c8c3-165">The <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> class is used to control the discoverability of an endpoint, specify the extensions, additional contract type names.</span></span> <span data-ttu-id="4c8c3-166">e gli ambiti associati all'endpoint.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-166">and the scopes associated with that endpoint.</span></span> <span data-ttu-id="4c8c3-167">Questo comportamento viene aggiunto a un endpoint applicazione per configurare i relativi dati di <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-167">This behavior is added to an application endpoint to configure its <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="4c8c3-168">Quando <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> viene aggiunto all'host del servizio, tutti gli endpoint applicazione ospitati dall'host del servizio diventano individuabili per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-168">When <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> is added to the service host, all the application endpoints hosted by the service host by default become discoverable.</span></span> <span data-ttu-id="4c8c3-169">Lo sviluppatore può disabilitare l'individuazione per uno specifico endpoint impostando la proprietà <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior.Enabled%2A> su `false`.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-169">The developer can turn off discovery for a specific endpoint by setting the <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior.Enabled%2A> property to `false`.</span></span>  
  
## <a name="endpointdiscoverymetadata"></a><span data-ttu-id="4c8c3-170">EndpointDiscoveryMetadata</span><span class="sxs-lookup"><span data-stu-id="4c8c3-170">EndpointDiscoveryMetadata</span></span>  
 <span data-ttu-id="4c8c3-171">La classe <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> fornisce una rappresentazione indipendente dalla versione di un endpoint pubblicato dal servizio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-171">The <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> class provides a version-independent representation of an endpoint published by the service.</span></span> <span data-ttu-id="4c8c3-172">Contiene indirizzi endpoint, URI di ascolto, nomi di tipo di contratto, ambiti, versione dei metadati ed estensioni specificati dallo sviluppatore del servizio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-172">It contains endpoint addresses, listen URIs, contract type names, scopes, metadata version and extensions specified by the service developer.</span></span> <span data-ttu-id="4c8c3-173">L'oggetto <xref:System.ServiceModel.Discovery.FindCriteria> inviato dal client durante un'operazione `Probe` viene confrontato con <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-173">The <xref:System.ServiceModel.Discovery.FindCriteria> sent by the client during a `Probe` operation is matched against the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="4c8c3-174">Se i criteri corrispondono, al client viene restituito <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-174">If the criteria matches, then the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> is returned to the client.</span></span> <span data-ttu-id="4c8c3-175">L'indirizzo dell'endpoint in <xref:System.ServiceModel.Discovery.ResolveCriteria> viene confrontato con l'indirizzo dell'endpoint di <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-175">The endpoint address in <xref:System.ServiceModel.Discovery.ResolveCriteria> is matched against the endpoint address of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="4c8c3-176">Se i criteri corrispondono, al client viene restituito <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-176">If the criteria matches, then the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> is returned to the client.</span></span>  
  
## <a name="findcriteria"></a><span data-ttu-id="4c8c3-177">FindCriteria</span><span class="sxs-lookup"><span data-stu-id="4c8c3-177">FindCriteria</span></span>  
 <span data-ttu-id="4c8c3-178">La classe <xref:System.ServiceModel.Discovery.FindCriteria> è una classe indipendente dalla versione utilizzata per specificare i criteri utilizzati per trovare un servizio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-178">The <xref:System.ServiceModel.Discovery.FindCriteria> class is a version-independent class used to specify the criteria used when finding a service.</span></span> <span data-ttu-id="4c8c3-179">Supporta completamente i criteri definiti da WS-Discovery per individuare le corrispondenze con i servizi.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-179">It fully supports the WS-Discovery-defined criteria for matching services.</span></span> <span data-ttu-id="4c8c3-180">Dispone inoltre di estensioni che gli sviluppatori possono specificare valori personalizzati utilizzabili durante il processo di individuazione delle corrispondenze.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-180">It also has extensions that developers can use to specify custom values that can be used during the matching process.</span></span> <span data-ttu-id="4c8c3-181">Lo sviluppatore può specificare i criteri di chiusura per l'operazione `Find` impostando <xref:System.ServiceModel.Discovery.FindCriteria.MaxResults%2A>, che specifica il numero complessivo di servizi che lo sviluppatore cerca oppure <xref:System.ServiceModel.Discovery.FindCriteria.Duration%2A>, ovvero il valore che indica la durata dell'attesa delle risposte nel client.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-181">The developer can provide the termination criteria for the `Find` operation by specifying the <xref:System.ServiceModel.Discovery.FindCriteria.MaxResults%2A>, which specifies the total number of services the developer is looking for or that specifies the <xref:System.ServiceModel.Discovery.FindCriteria.Duration%2A>, which is the value that specifies how long the client waits for responses.</span></span>  
  
## <a name="findrequestcontext"></a><span data-ttu-id="4c8c3-182">FindRequestContext</span><span class="sxs-lookup"><span data-stu-id="4c8c3-182">FindRequestContext</span></span>  
 <span data-ttu-id="4c8c3-183">L'istanza della classe <xref:System.ServiceModel.Discovery.FindRequestContext> viene creata dal servizio di individuazione in base al messaggio `Probe` ricevuto quando un client avvia l'operazione `Find`.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-183">The <xref:System.ServiceModel.Discovery.FindRequestContext> class is instantiated by the discovery service based on the `Probe` message it receives when a client initiates a `Find` operation.</span></span> <span data-ttu-id="4c8c3-184">Contiene un'istanza di <xref:System.ServiceModel.Discovery.FindCriteria> specificata dal client.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-184">It contains an instance of <xref:System.ServiceModel.Discovery.FindCriteria> that was specified by the client.</span></span>  
  
## <a name="findresponse"></a><span data-ttu-id="4c8c3-185">FindResponse</span><span class="sxs-lookup"><span data-stu-id="4c8c3-185">FindResponse</span></span>  
 <span data-ttu-id="4c8c3-186">La classe <xref:System.ServiceModel.Discovery.FindResponse> viene restituita al chiamante di <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> con le risposte dell'operazione `Find`.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-186">The <xref:System.ServiceModel.Discovery.FindResponse> class is returned to the caller of <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> with the responses of the `Find` operation.</span></span> <span data-ttu-id="4c8c3-187">È inoltre presente in <xref:System.ServiceModel.Discovery.FindCompletedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-187">It is also present in <xref:System.ServiceModel.Discovery.FindCompletedEventArgs>.</span></span> <span data-ttu-id="4c8c3-188">Contiene una raccolta di <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, ovvero la raccolta degli endpoint individuati e un dizionario di <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> e <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-188">It contains a collection of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, which is the collection of discovered endpoints and a dictionary of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> and <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span></span>  
  
## <a name="resolvecriteria"></a><span data-ttu-id="4c8c3-189">ResolveCriteria</span><span class="sxs-lookup"><span data-stu-id="4c8c3-189">ResolveCriteria</span></span>  
 <span data-ttu-id="4c8c3-190">La classe <xref:System.ServiceModel.Discovery.ResolveCriteria> è indipendente dalla versione e viene utilizzata per specificare i criteri utilizzati per la risoluzione di un servizio già noto.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-190">The <xref:System.ServiceModel.Discovery.ResolveCriteria> class is a version-independent class used to specify the criteria used when resolving an already known service.</span></span> <span data-ttu-id="4c8c3-191">Contiene l'indirizzo dell'endpoint del servizio noto.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-191">It contains the endpoint address of the known service.</span></span> <span data-ttu-id="4c8c3-192">Lo sviluppatore può specificare i criteri di chiusura per l'operazione di risoluzione impostando <xref:System.ServiceModel.Discovery.ResolveCriteria.Duration%2A>, che indica la durata dell'attesa delle risposte da parte del client.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-192">The developer can provide the termination criteria for the resolve operation by specifying the <xref:System.ServiceModel.Discovery.ResolveCriteria.Duration%2A>, which specifies how long the client waits for responses.</span></span>  
  
## <a name="resolveresponse"></a><span data-ttu-id="4c8c3-193">ResolveResponse</span><span class="sxs-lookup"><span data-stu-id="4c8c3-193">ResolveResponse</span></span>  
 <span data-ttu-id="4c8c3-194">La classe <xref:System.ServiceModel.Discovery.ResolveResponse> viene restituita al chiamante del metodo <xref:System.ServiceModel.Discovery.DiscoveryClient.Resolve%2A> con la risposta dell'operazione `Resolve`.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-194">The <xref:System.ServiceModel.Discovery.ResolveResponse> is returned to the caller of the <xref:System.ServiceModel.Discovery.DiscoveryClient.Resolve%2A> method with the response of the `Resolve` operation.</span></span> <span data-ttu-id="4c8c3-195">È inoltre presente in <xref:System.ServiceModel.Discovery.ResolveCompletedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-195">It is also present in <xref:System.ServiceModel.Discovery.ResolveCompletedEventArgs>.</span></span> <span data-ttu-id="4c8c3-196">Contiene un'istanza di <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, ovvero degli endpoint individuati e un'istanza di <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-196">It contains an instance of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, which is the discovered endpoints and an instance of <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span></span>  
  
## <a name="servicediscoverybehavior"></a><span data-ttu-id="4c8c3-197">ServiceDiscoveryBehavior</span><span class="sxs-lookup"><span data-stu-id="4c8c3-197">ServiceDiscoveryBehavior</span></span>  
 <span data-ttu-id="4c8c3-198">La classe <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> consente allo sviluppatore di aggiungere la funzionalità di individuazione a un servizio.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-198">The <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> class allows the developer to add the discovery feature to a service.</span></span> <span data-ttu-id="4c8c3-199">Questo comportamento viene aggiunto a <xref:System.ServiceModel.ServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-199">You add this behavior to the <xref:System.ServiceModel.ServiceHost>.</span></span> <span data-ttu-id="4c8c3-200">La classe <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> esegue iterazioni sugli endpoint applicazione aggiunti all'host del servizio e crea una raccolta di <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> dagli endpoint individuabili.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-200">The <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> class iterates over the application endpoints added to the service host and creates a collection of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> from the discoverable endpoints.</span></span> <span data-ttu-id="4c8c3-201">Tutti gli endpoint sono individuabili per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-201">All endpoints are discoverable by default.</span></span> <span data-ttu-id="4c8c3-202">L'individuabilità di un determinato endpoint può essere controllata aggiungendo <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> a un determinato endpoint.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-202">The discoverability of a particular endpoint can be controlled by adding the <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> to that particular endpoint.</span></span> <span data-ttu-id="4c8c3-203">Se gli endpoint annunci vengono aggiunti a <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior>, l'annuncio di tutti gli endpoint individuabili viene inviato tramite ognuno degli endpoint annunci quando l'host del servizio è aperto o chiuso.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-203">If announcement endpoints are added to <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> then the announcement of all discoverable endpoints is sent over each of the announcement endpoints when the service host is opened or closed.</span></span>  
  
## <a name="udpannouncementendpoint"></a><span data-ttu-id="4c8c3-204">UdpAnnouncementEndpoint</span><span class="sxs-lookup"><span data-stu-id="4c8c3-204">UdpAnnouncementEndpoint</span></span>  
 <span data-ttu-id="4c8c3-205">La classe <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> è un endpoint annuncio standard preconfigurato per l'annuncio tramite un'associazione multicast UDP.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-205">The <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> class is a standard announcement endpoint that is pre-configured for announcement over a UDP multicast binding.</span></span> <span data-ttu-id="4c8c3-206">Per impostazione predefinita, <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> viene impostato per utilizzare la versione WSApril2005 di WS_Discovery.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-206">By default, <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> is set to use the WSApril2005 WS_Discovery version.</span></span>  
  
## <a name="udpdiscoveryendpoint"></a><span data-ttu-id="4c8c3-207">UdpDiscoveryEndpoint</span><span class="sxs-lookup"><span data-stu-id="4c8c3-207">UdpDiscoveryEndpoint</span></span>  
 <span data-ttu-id="4c8c3-208">La classe <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> è un endpoint di individuazione standard preconfigurata per l'individuazione tramite l'associazione multicast UDP.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-208">The <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> class is a standard discovery endpoint that is pre-configured for discovery over a UDP multicast binding.</span></span> <span data-ttu-id="4c8c3-209">Per impostazione predefinita, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> è impostato per utilizzare la versione WSDiscovery11 di WS-Discovery e la modalità <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Adhoc?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4c8c3-209">By default, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> is set to use the WSDiscovery11 WS-Discovery version and <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Adhoc?displayProperty=nameWithType> mode.</span></span>
