---
title: 'Procedura: ospitare un servizio flusso di lavoro con Windows Server AppFabric'
ms.date: 03/30/2017
ms.assetid: 83b62cce-5fc2-4c6d-b27c-5742ba3bac73
ms.openlocfilehash: ecc7a954b2d88cdbcf934cc836e9ad6e3ef7ed52
ms.sourcegitcommit: c01c18755bb7b0f82c7232314ccf7955ea7834db
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/15/2020
ms.locfileid: "75964755"
---
# <a name="how-to-host-a-workflow-service-with-windows-server-app-fabric"></a><span data-ttu-id="17076-102">Procedura: ospitare un servizio flusso di lavoro con Windows Server AppFabric</span><span class="sxs-lookup"><span data-stu-id="17076-102">How to: Host a Workflow Service with Windows Server App Fabric</span></span>

<span data-ttu-id="17076-103">L'hosting di servizi di flusso di lavoro in AppFabric è simile all'hosting in IIS/WAS.</span><span class="sxs-lookup"><span data-stu-id="17076-103">Hosting workflow services in App Fabric is similar to hosting under IIS/WAS.</span></span> <span data-ttu-id="17076-104">L'unica differenza consiste nel fatto che tramite gli strumenti di AppFabric sono garantiti la distribuzione, il monitoraggio e la gestione dei servizi di flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="17076-104">The only difference is the tools App Fabric provides for deploying, monitoring, and managing workflow services.</span></span> <span data-ttu-id="17076-105">In questo argomento viene utilizzato il servizio del flusso di lavoro creato in [creazione di un servizio flusso di lavoro a esecuzione prolungata](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md).</span><span class="sxs-lookup"><span data-stu-id="17076-105">This topic uses the workflow service created in the [Creating a Long-running Workflow Service](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md).</span></span> <span data-ttu-id="17076-106">in cui viene presentata la procedura dettagliata per la creazione di un servizio di flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="17076-106">That topic will walk you through creating a workflow service.</span></span> <span data-ttu-id="17076-107">In questo argomento verrà invece illustrato come ospitare il servizio di flusso di lavoro mediante AppFabric.</span><span class="sxs-lookup"><span data-stu-id="17076-107">This topic will explain how to host the workflow service using App Fabric.</span></span> <span data-ttu-id="17076-108">Per ulteriori informazioni su Windows Server AppFabric, vedere la [documentazione di Windows Server](https://docs.microsoft.com/previous-versions/appfabric/ff384253(v=azure.10))AppFabric.</span><span class="sxs-lookup"><span data-stu-id="17076-108">For more information about Windows Server App Fabric, see [Windows Server App Fabric Documentation](https://docs.microsoft.com/previous-versions/appfabric/ff384253(v=azure.10)).</span></span> <span data-ttu-id="17076-109">Prima di completare i passaggi seguenti, assicurarsi di aver installato Windows Server AppFabric.</span><span class="sxs-lookup"><span data-stu-id="17076-109">Before completing the steps below make sure you have Windows Server App Fabric installed.</span></span>  <span data-ttu-id="17076-110">A tale scopo, aprire Internet Information Services (inetmgr. exe), fare clic sul nome del server nella visualizzazione **connessioni** , fare clic su siti e quindi su **sito Web predefinito**.</span><span class="sxs-lookup"><span data-stu-id="17076-110">To do this open up Internet Information Services (inetmgr.exe), click your server name in the **Connections** view, click Sites, and click **Default Web Site**.</span></span> <span data-ttu-id="17076-111">Sul lato destro dello schermo dovrebbe essere visualizzata una sezione denominata **infrastruttura dell'app**.</span><span class="sxs-lookup"><span data-stu-id="17076-111">In the right-hand side of the screen you should see a section called **App Fabric**.</span></span> <span data-ttu-id="17076-112">Se tale sezione non viene visualizzata (controllare nella parte superiore del riquadro di destra), AppFabric non è installato.</span><span class="sxs-lookup"><span data-stu-id="17076-112">If you don’t see this section (it will be on the top of the right-hand pane) you do not have App Fabric installed.</span></span> <span data-ttu-id="17076-113">Per altre informazioni sull'installazione di Windows Server AppFabric, vedere [installazione di Windows Server](https://docs.microsoft.com/previous-versions/appfabric/ee790960(v=azure.10))AppFabric.</span><span class="sxs-lookup"><span data-stu-id="17076-113">For more information about installing Windows Server App Fabric see [Installing Windows Server App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee790960(v=azure.10)).</span></span>  
  
### <a name="creating-a-simple-workflow-service"></a><span data-ttu-id="17076-114">Creazione di un servizio di flusso di lavoro semplice</span><span class="sxs-lookup"><span data-stu-id="17076-114">Creating a Simple Workflow Service</span></span>  
  
1. <span data-ttu-id="17076-115">Aprire Visual Studio 2012 e caricare la soluzione OrderProcessing creata nell'argomento [creazione di un servizio di flusso di lavoro a esecuzione prolungata](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md) .</span><span class="sxs-lookup"><span data-stu-id="17076-115">Open Visual Studio 2012 and load the OrderProcessing solution you created in the [Creating a Long-running Workflow Service](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md) topic.</span></span>  
  
2. <span data-ttu-id="17076-116">Fare clic con il pulsante destro del mouse sul progetto **OrderService** e selezionare **Proprietà** e selezionare la scheda **Web** .</span><span class="sxs-lookup"><span data-stu-id="17076-116">Right click the **OrderService** project and select **Properties** and select the **Web** tab.</span></span>  
  
3. <span data-ttu-id="17076-117">Nella sezione **azione di avvio** della pagina delle proprietà selezionare una **pagina specifica** e digitare Service1. xamlx nella casella di modifica.</span><span class="sxs-lookup"><span data-stu-id="17076-117">In the **Start Action** section of the property page select **Specific Page** and type Service1.xamlx in the edit box.</span></span>  
  
4. <span data-ttu-id="17076-118">Nella sezione **Server** della pagina delle proprietà selezionare **Usa server Web IIS locale** e digitare l'URL seguente: `http://localhost/OrderService`.</span><span class="sxs-lookup"><span data-stu-id="17076-118">In the **Servers** section of the property page select **Use Local IIS Web Server** and type in the following URL: `http://localhost/OrderService`.</span></span>  
  
5. <span data-ttu-id="17076-119">Fare clic sul pulsante **Crea directory virtuale** .</span><span class="sxs-lookup"><span data-stu-id="17076-119">Click the **Create Virtual Directory** button.</span></span> <span data-ttu-id="17076-120">In questo modo verrà creata una nuova directory virtuale e verrà configurato il progetto per copiare i file necessari nella directory virtuale quando il progetto viene compilato.</span><span class="sxs-lookup"><span data-stu-id="17076-120">This will create a new virtual directory and set up the project to copy the needed files to the virtual directory when the project is built.</span></span>  <span data-ttu-id="17076-121">In alternativa, è possibile copiare manualmente il file con estensione xamlx, il file web.config e qualsiasi DLL necessaria per la directory virtuale.</span><span class="sxs-lookup"><span data-stu-id="17076-121">Alternatively you could manually copy the .xamlx, the web.config, and any needed DLLs to the virtual directory.</span></span>  
  
### <a name="configuring-a-workflow-service-hosted-in-windows-server-app-fabric"></a><span data-ttu-id="17076-122">Configurazione di un servizio di flusso di lavoro ospitato in Windows Server AppFabric</span><span class="sxs-lookup"><span data-stu-id="17076-122">Configuring a Workflow Service Hosted in Windows Server App Fabric</span></span>  
  
1. <span data-ttu-id="17076-123">Aprire Gestione Internet Information Services (inetmgr.exe).</span><span class="sxs-lookup"><span data-stu-id="17076-123">Open Internet Information Services Manager (inetmgr.exe).</span></span>  
  
2. <span data-ttu-id="17076-124">Passare alla directory virtuale OrderService nel riquadro **connessioni** .</span><span class="sxs-lookup"><span data-stu-id="17076-124">Navigate to the OrderService virtual directory in the **Connections** pane.</span></span>  
  
3. <span data-ttu-id="17076-125">Fare clic con il pulsante destro del mouse su OrderService e scegliere **Gestisci servizi WCF e WF**, **Configura...** .</span><span class="sxs-lookup"><span data-stu-id="17076-125">Right click OrderService and select **Manage WCF and WF Services**, **Configure…**.</span></span> <span data-ttu-id="17076-126">Viene visualizzata la finestra **di dialogo Configura WCF e WF per l'applicazione** .</span><span class="sxs-lookup"><span data-stu-id="17076-126">The **Configure WCF and WF for Application** dialog box is displayed.</span></span>  
  
4. <span data-ttu-id="17076-127">Selezionare la scheda **generale** per visualizzare informazioni generali sull'applicazione, come illustrato nello screenshot seguente.</span><span class="sxs-lookup"><span data-stu-id="17076-127">Select the **General** tab to display general information about the application as shown in the following screenshot.</span></span>  
  
     <span data-ttu-id="17076-128">![Scheda generale della finestra di dialogo di configurazione di App Fabric](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-general.gif "AppFabricConfiguration-generale")</span><span class="sxs-lookup"><span data-stu-id="17076-128">![General tab of the App Fabric Configuration dialog](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-general.gif "AppFabricConfiguration-General")</span></span>  
  
5. <span data-ttu-id="17076-129">Selezionare la scheda **monitoraggio** . Vengono visualizzate diverse impostazioni di monitoraggio, come illustrato nella schermata seguente.</span><span class="sxs-lookup"><span data-stu-id="17076-129">Select the **Monitoring** tab. This shows various monitoring settings as shown in the following screenshot.</span></span>  
  
     <span data-ttu-id="17076-130">![Scheda monitoraggio della configurazione di App Fabric](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-monitoring.gif "AppFabricConfiguration-monitoraggio")</span><span class="sxs-lookup"><span data-stu-id="17076-130">![App Fabric Configuration Monitoring tab](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-monitoring.gif "AppFabricConfiguration-Monitoring")</span></span>  
  
     <span data-ttu-id="17076-131">Per altre informazioni sulla configurazione del monitoraggio dei servizi del flusso di lavoro in AppFabric, vedere [configurazione del monitoraggio con l'infrastruttura di app](https://docs.microsoft.com/previous-versions/appfabric/ee677384(v=azure.10)).</span><span class="sxs-lookup"><span data-stu-id="17076-131">For more information about configuring workflow service monitoring in App Fabric see [Configuring monitoring with App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677384(v=azure.10)).</span></span>  
  
6. <span data-ttu-id="17076-132">Selezionare la scheda **persistenza del flusso di lavoro** . In questo modo è possibile configurare l'applicazione per l'uso del provider di persistenza predefinito di App Fabric, come illustrato nello screenshot seguente.</span><span class="sxs-lookup"><span data-stu-id="17076-132">Select the **Workflow Persistence** tab. This allows you to configure your application to use App Fabric’s default persistence provider as shown in the following screenshot.</span></span>  
  
     <span data-ttu-id="17076-133">![Persistenza della &#45; configurazione di App Fabric](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-persistence.gif "AppFabricConfiguration-persistenza")</span><span class="sxs-lookup"><span data-stu-id="17076-133">![App Fabric Configuration &#45; Persistence](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-persistence.gif "AppFabricConfiguration-Persistence")</span></span>  
  
     <span data-ttu-id="17076-134">Per altre informazioni sulla configurazione della persistenza del flusso di lavoro in Windows Server AppFabric, vedere [configurazione della persistenza del flusso di lavoro in infrastruttura di app](https://docs.microsoft.com/previous-versions/appfabric/ee677353(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="17076-134">For more information about configuring workflow persistence in Windows Server App Fabric see [Configuring Workflow Persistence in App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677353(v=azure.10)).</span></span>  
  
7. <span data-ttu-id="17076-135">Selezionare la scheda **Gestione host del flusso di lavoro** . In questo modo è possibile specificare quando le istanze del servizio flusso di lavoro inattivo devono essere scaricate e rese permanente come illustrato nello screenshot seguente.</span><span class="sxs-lookup"><span data-stu-id="17076-135">Select the **Workflow Host Management** tab. This allows you to specify when idle workflow service instances should be unloaded and persisted as shown in the following screenshot.</span></span>  
  
     <span data-ttu-id="17076-136">![Gestione host flusso di lavoro configurazione di App Fabric](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-management.gif "AppFabricConfiguration-gestione")</span><span class="sxs-lookup"><span data-stu-id="17076-136">![App Fabric Configuration  Workflow Host Management](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-management.gif "AppFabricConfiguration-Management")</span></span>  
  
     <span data-ttu-id="17076-137">Per altre informazioni sulla configurazione di gestione host del flusso di lavoro, vedere [configurazione della gestione host del flusso di lavoro in infrastruttura di app](https://docs.microsoft.com/previous-versions/appfabric/ff383424(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="17076-137">For more information about workflow host management configuration see [Configuring Workflow Host Management in App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ff383424(v=azure.10)).</span></span>  
  
8. <span data-ttu-id="17076-138">Selezionare la scheda **avvio automatico** . Ciò consente di specificare le impostazioni di avvio automatico per i servizi del flusso di lavoro nell'applicazione, come illustrato nello screenshot seguente.</span><span class="sxs-lookup"><span data-stu-id="17076-138">Select the **Auto-Start** tab. This allows you to specify auto-start settings for the workflow services in the application as shown in the following screenshot.</span></span>  
  
     ![Screenshot che mostra la configurazione dell'&#45;avvio automatico di App Fabric.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/app-fabric-auto-start-configuration.gif)  
  
     <span data-ttu-id="17076-140">Per altre informazioni sulla configurazione dell'avvio automatico, vedere [configurazione dell'avvio automatico con l'infrastruttura di app](https://docs.microsoft.com/previous-versions/appfabric/ee677261(v=azure.10)).</span><span class="sxs-lookup"><span data-stu-id="17076-140">For more information about configuring Auto-Start see [Configuring Auto-Start with App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677261(v=azure.10)).</span></span>  
  
9. <span data-ttu-id="17076-141">Selezionare la scheda **limitazione** . In questo modo è possibile configurare le impostazioni di limitazione per il servizio del flusso di lavoro, come illustrato nella schermata seguente.</span><span class="sxs-lookup"><span data-stu-id="17076-141">Select the **Throttling** tab. This allows you to configure throttling settings for the workflow service as shown in the following screenshot.</span></span>  
  
     ![Screenshot che mostra la configurazione della limitazione dell'infrastruttura dell'app.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/app-fabric-throttling-configuration.gif)  
  
     <span data-ttu-id="17076-143">Per altre informazioni sulla configurazione della limitazione, vedere [configurazione della limitazione con l'infrastruttura di app](https://docs.microsoft.com/previous-versions/appfabric/ee677261(v=azure.10)).</span><span class="sxs-lookup"><span data-stu-id="17076-143">For more information about configuring throttling see [Configuring Throttling with App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677261(v=azure.10)).</span></span>  
  
10. <span data-ttu-id="17076-144">Selezionare la scheda **sicurezza** . In questo modo è possibile configurare le impostazioni di sicurezza per l'applicazione, come illustrato nello screenshot seguente.</span><span class="sxs-lookup"><span data-stu-id="17076-144">Select the **Security** tab. This allows you to configure security settings for the application as shown in the following screenshot.</span></span>  
  
     <span data-ttu-id="17076-145">![Configurazione della sicurezza di App Fabric](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-security.gif "AppFabricConfiguration-sicurezza")</span><span class="sxs-lookup"><span data-stu-id="17076-145">![App Fabric Security Configuration](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-security.gif "AppFabricConfiguration-Security")</span></span>  
  
     <span data-ttu-id="17076-146">Per altre informazioni sulla configurazione della sicurezza con Windows Server AppFabric, vedere [configurazione della sicurezza con l'infrastruttura di app](https://docs.microsoft.com/previous-versions/appfabric/ee677278(v=azure.10)).</span><span class="sxs-lookup"><span data-stu-id="17076-146">For more information about configuring security with Windows Server App Fabric see [Configuring Security with App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677278(v=azure.10)).</span></span>  
  
### <a name="using-windows-server-app-fabric"></a><span data-ttu-id="17076-147">Utilizzo di Windows Server AppFabric</span><span class="sxs-lookup"><span data-stu-id="17076-147">Using Windows Server App Fabric</span></span>  
  
1. <span data-ttu-id="17076-148">Compilare la soluzione per copiare i file necessari nella directory virtuale.</span><span class="sxs-lookup"><span data-stu-id="17076-148">Build the solution to copy the necessary files to the virtual directory.</span></span>  
  
2. <span data-ttu-id="17076-149">Fare clic con il pulsante destro del mouse sul progetto OrderClient e selezionare **debug**, **Avvia nuova istanza** per avviare l'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="17076-149">Right click the OrderClient project and select **Debug**, **Start New Instance** to launch the client application.</span></span>  
  
3. <span data-ttu-id="17076-150">Il client verrà eseguito e in Visual Studio verrà visualizzata la finestra di dialogo **Connetti avviso di sicurezza** , quindi fare clic sul pulsante **non alleghi** .</span><span class="sxs-lookup"><span data-stu-id="17076-150">The client will run and Visual Studio will display an **Attach Security Warning** dialog box, click the **Don’t Attach** button.</span></span> <span data-ttu-id="17076-151">In questo modo non viene effettuata la connessione di Visual Studio al processo IIS per l'esecuzione del debug.</span><span class="sxs-lookup"><span data-stu-id="17076-151">This tells Visual Studio to not attach to the IIS process for debugging.</span></span>  
  
4. <span data-ttu-id="17076-152">L'applicazione client consentirà di chiamare immediatamente il servizio di flusso di lavoro e successivamente si verificherà un periodo di attesa.</span><span class="sxs-lookup"><span data-stu-id="17076-152">The client application will immediately call the Workflow service and then wait.</span></span> <span data-ttu-id="17076-153">Il servizio di flusso di lavoro diventerà inattivo e sarà salvato in modo permanente.</span><span class="sxs-lookup"><span data-stu-id="17076-153">The workflow service will go idle and be persisted.</span></span> <span data-ttu-id="17076-154">Tale condizione può essere verificata avviando Internet Information Services (inetmgr.exe), passando a OrderService nel riquadro Connessioni e selezionandolo.</span><span class="sxs-lookup"><span data-stu-id="17076-154">You can verify this by starting Internet Information Services (inetmgr.exe), navigating to the OrderService in the Connections pane and selecting it.</span></span> <span data-ttu-id="17076-155">Successivamente, fare clic sull'icona del dashboard di AppFabric nel riquadro di destra.</span><span class="sxs-lookup"><span data-stu-id="17076-155">Next, click the App Fabric Dashboard icon in the right-hand pane.</span></span> <span data-ttu-id="17076-156">In istanze WF salvate verrà visualizzata una sola istanza del servizio flusso di lavoro permanente, come illustrato nella schermata seguente.</span><span class="sxs-lookup"><span data-stu-id="17076-156">Under Persisted WF Instances you will see there is one persisted workflow service instance as shown in the following screenshot.</span></span>  
  
     ![Screenshot che mostra il dashboard di App Fabric.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/app-fabric-dashboard.gif)  
  
     <span data-ttu-id="17076-158">La **cronologia dell'istanza di WF** elenca le informazioni relative al servizio del flusso di lavoro, ad esempio il numero di attivazioni del servizio del flusso di lavoro, il numero di completamenti dell'istanza del servizio flusso di lavoro e il numero di istanze del flusso di lavoro</span><span class="sxs-lookup"><span data-stu-id="17076-158">The **WF Instance History** lists information about the workflow service such as the number of workflow service activations, the number of workflow service instance completions, and the number of workflow instances with failures.</span></span> <span data-ttu-id="17076-159">In istanze attive o inattive verrà visualizzato un collegamento. Se si fa clic sul collegamento, verranno visualizzate altre informazioni sulle istanze del flusso di lavoro inattivo, come illustrato nello screenshot seguente.</span><span class="sxs-lookup"><span data-stu-id="17076-159">Under Active or Idle instances a link will be displayed, clicking on the link will display more information about the idle workflow instances as shown in the following screenshot.</span></span>  
  
     ![Screenshot che mostra i dettagli dell'istanza del flusso di lavoro permanente.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/persisted-workflow-instance-detail.gif)  
  
     <span data-ttu-id="17076-161">Per altre informazioni sulle funzionalità di Windows Server AppFabric e su come usarle, vedere [funzionalità di hosting di Windows Server](https://docs.microsoft.com/previous-versions/appfabric/ee677189(v=azure.10)) AppFabric</span><span class="sxs-lookup"><span data-stu-id="17076-161">For more information about Windows Server App Fabric features and how to use them see [Windows Server App Fabric Hosting Features](https://docs.microsoft.com/previous-versions/appfabric/ee677189(v=azure.10))</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="17076-162">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="17076-162">See also</span></span>

- [<span data-ttu-id="17076-163">Creazione di un servizio flusso di lavoro a esecuzione prolungata</span><span class="sxs-lookup"><span data-stu-id="17076-163">Creating a Long-running Workflow Service</span></span>](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md)
- <span data-ttu-id="17076-164">[Funzionalità di hosting di Windows Server AppFabric](https://docs.microsoft.com/previous-versions/appfabric/ee677189(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="17076-164">[Windows Server App Fabric Hosting Features](https://docs.microsoft.com/previous-versions/appfabric/ee677189(v=azure.10))</span></span>
- <span data-ttu-id="17076-165">[Installazione di Windows Server AppFabric](https://docs.microsoft.com/previous-versions/appfabric/ee790960(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="17076-165">[Installing Windows Server App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee790960(v=azure.10))</span></span>
- <span data-ttu-id="17076-166">[Documentazione di Windows Server AppFabric](https://docs.microsoft.com/previous-versions/appfabric/ff384253(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="17076-166">[Windows Server App Fabric Documentation](https://docs.microsoft.com/previous-versions/appfabric/ff384253(v=azure.10))</span></span>
