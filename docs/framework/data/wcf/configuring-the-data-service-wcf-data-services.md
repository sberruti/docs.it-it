---
title: Configurazione del servizio dati (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, configuring
ms.assetid: 59efd4c8-cc7a-4800-a0a4-d3f8abe6c55c
ms.openlocfilehash: 6f73fa43bcb99e53adabe8b49ffee75c65802eca
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/14/2020
ms.locfileid: "79399889"
---
# <a name="configuring-the-data-service-wcf-data-services"></a>Configurazione del servizio dati (WCF Data Services)
Con WCF Data ServicesWCF Data Services, è possibile creare servizi dati che espongono feed OData (Open Data Protocol). I dati di questi feed possono provenire da una varietà di origini dati. WCF Data ServicesWCF Data Services usa i provider di dati per esporre questi dati come feed OData.WCF Data Services uses data providers to expose this data as an OData feed. Tra tali provider sono inclusi un provider di Entity Framework, un provider di reflection e un set di interfacce del provider di servizio dati personalizzate. L'implementazione del provider definisce il modello di dati per il servizio. Per ulteriori informazioni, vedere [Provider di servizi dati](data-services-providers-wcf-data-services.md).  
  
 In WCF Data ServicesWCF Data Services, un <xref:System.Data.Services.DataService%601> servizio dati è una classe che eredita dalla classe, dove il tipo del servizio dati è il contenitore di entità del modello di dati. Questo contenitore di entità dispone di una o più proprietà che restituiscono un oggetto <xref:System.Linq.IQueryable%601> usato per accedere ai set di entità nel modello di dati.  
  
 I comportamenti del servizio dati vengono definiti dai membri della classe <xref:System.Data.Services.DataServiceConfiguration>, nonché dai membri della classe <xref:System.Data.Services.DataServiceBehavior> accessibile dalla proprietà <xref:System.Data.Services.DataServiceConfiguration.DataServiceBehavior%2A> della classe <xref:System.Data.Services.DataServiceConfiguration>. La classe <xref:System.Data.Services.DataServiceConfiguration> viene fornita al metodo `InitializeService` implementato dal servizio dati, come nella seguente implementazione di un servizio dati Northwind:  
  
[!code-csharp[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_service/cs/northwind.svc.cs#dataserviceconfigcomplete)]  
[!code-vb[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_service/vb/northwind.svc.vb#dataserviceconfigcomplete)]  
  
## <a name="data-service-configuration-settings"></a>Impostazioni di configurazione del servizio dati  
 La classe <xref:System.Data.Services.DataServiceConfiguration> consente di specificare i comportamenti del servizio dati seguenti:  
  
|Membro|Comportamento|  
|------------|--------------|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptCountRequests%2A>|Consente di disabilitare le richieste di conteggio inviate al servizio dati tramite il segmento di percorso `$count` e l'opzione query `$inlinecount`. Per ulteriori informazioni, vedere [OData: convenzioni URI](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptProjectionRequests%2A>|Consente di disabilitare il supporto per la proiezione dei dati nelle richieste inviate al servizio dati tramite l'opzione di query `$select`. Per ulteriori informazioni, vedere [OData: convenzioni URI](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeAccess%2A>|Consente l'esposizione di un tipo di dati nei metadati per un provider di metadati dinamici definito tramite l'interfaccia <xref:System.Data.Services.Providers.IDataServiceMetadataProvider>.|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeConversion%2A>|Consente di specificare se il runtime del servizio dati deve convertire il tipo incluso nel payload nel tipo di proprietà effettivo specificato nella richiesta.|  
|<xref:System.Data.Services.DataServiceBehavior.InvokeInterceptorsOnLinkDelete%2A>|Consente di specificare se gli intercettori di modifica registrati vengono richiamati sulle entità correlate quando viene eliminato un collegamento alla relazione tra due entità.|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxBatchCount%2A>|Consente di limitare il numero massimo di set di modifiche e di operazioni di query consentite in un singolo batch. Per ulteriori informazioni, vedere [OData: batch](https://www.odata.org/documentation/odata-version-2-0/batch-processing/) e [operazioni](batching-operations-wcf-data-services.md)batch .|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxChangesetCount%2A>|Consente di limitare il numero massimo di modifiche che è possibile includere in un singolo insieme di modifiche. Per ulteriori informazioni, vedere [Procedura: abilitare](how-to-enable-paging-of-data-service-results-wcf-data-services.md)il paging dei risultati del servizio dati .|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandCount%2A>|Consente di limitare le dimensioni di una risposta limitando il numero di entità correlate che è possibile includere in una singola richiesta tramite l'operatore di query `$expand`. Per ulteriori informazioni, vedere [OData: convenzioni URI](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/) e [Caricamento di contenuto posticipato](loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandDepth%2A>|Consente di limitare le dimensioni di una risposta limitando la profondità del grafico delle entità correlate che è possibile includere in una singola richiesta tramite l'operatore di query `$expand`. Per ulteriori informazioni, vedere [OData: convenzioni URI](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/) e [Caricamento di contenuto posticipato](loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxObjectCountOnInsert%2A>|Consentire di limitare il numero di entità da inserire che possono essere incluse in una singola richiesta POST.|  
|<xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A>|Definisce la versione del protocollo Atom usata dal servizio dati. Quando il valore <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> di è impostato su un <xref:System.Data.Services.Common.DataServiceProtocolVersion>valore inferiore al valore massimo di , la funzionalità più recente di WCF Data ServicesWCF Data Services non è disponibile per i client che accedono al servizio dati. Per ulteriori informazioni, vedere [Controllo delle versioni](data-service-versioning-wcf-data-services.md)del servizio dati .|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxResultsPerCollection%2A>|Consentire di limitare le dimensioni di una risposta limitando il numero di entità in ogni set di entità restituito come feed di dati.|  
|<xref:System.Data.Services.DataServiceConfiguration.RegisterKnownType%2A>|Consente di aggiungere un tipo di dati all'elenco di tipi riconosciuti dal servizio dati.|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetAccessRule%2A>|Consente di impostare i diritti di accesso per le risorse di set di entità disponibili nel servizio dati. Per il nome del parametro è possibile specificare un asterisco (`*`) per impostare l'accesso per tutti i set di entità rimanenti sullo stesso livello. È consigliabile impostare l'accesso ai set di entità per fornire l'accesso con privilegi minimi alle risorse del servizio dati richieste dalle applicazioni client. Per altre informazioni, vedere [Securing WCF Data Services](securing-wcf-data-services.md). Per esempi dei diritti di accesso minimi necessari per un determinato URI e azione HTTP, vedere la tabella nella sezione Requisiti minimi di [accesso alle risorse.](configuring-the-data-service-wcf-data-services.md#accessRequirements)|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetPageSize%2A>|Consente di impostare le dimensioni massime della pagina per una risorsa del set di entità. Per ulteriori informazioni, vedere [Procedura: abilitare](how-to-enable-paging-of-data-service-results-wcf-data-services.md)il paging dei risultati del servizio dati .|  
|<xref:System.Data.Services.DataServiceConfiguration.SetServiceOperationAccessRule%2A>|Consente di impostare i diritti di accesso per le operazioni del servizio definite nel servizio dati. Per ulteriori informazioni, vedere [Operazioni sui servizi](service-operations-wcf-data-services.md). Per il nome del parametro è possibile specificare un asterisco (`*`) per impostare l'accesso per tutte le operazioni del servizio sullo stesso livello. È consigliabile impostare l'accesso alle operazioni del servizio per fornire l'accesso con privilegi minimi alle risorse del servizio dati richieste dalle applicazioni client. Per altre informazioni, vedere [Securing WCF Data Services](securing-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.UseVerboseErrors%2A>|Questa proprietà di configurazione consente di risolvere più facilmente i problemi relativi a un servizio dati restituendo altre informazioni nel messaggio dell'errore. Questa opzione non è destinata all'utilizzo in un ambiente di produzione. Per altre informazioni, vedere Sviluppo e distribuzione di WCF Data Services.For more information, see [Developing and Deploying WCF Data Services](developing-and-deploying-wcf-data-services.md).|  
  
<a name="accessRequirements"></a>
## <a name="minimum-resource-access-requirements"></a>Requisiti minimi di accesso alle risorse  
 Nella tabella seguente vengono mostrati in dettaglio i diritti minimi dei set di entità che devono essere concessi per eseguire un'operazione specifica. Esempi di percorso sono basati sul servizio dati Northwind creato al termine della [guida introduttiva.](quickstart-wcf-data-services.md) Poiché le enumerazioni <xref:System.Data.Services.EntitySetRights> e <xref:System.Data.Services.ServiceOperationRights> vengono definite tramite <xref:System.FlagsAttribute>, è possibile usare un operatore logico OR per specificare più autorizzazioni per una sola operazione o un solo set di entità. Per ulteriori informazioni, vedere [Procedura: abilitare l'accesso al servizio dati](how-to-enable-access-to-the-data-service-wcf-data-services.md).  
  
|Percorso/Azione|`GET`|`DELETE`|`MERGE`|`POST`|`PUT`|  
|------------------|-----------|--------------|-------------|------------|-----------|  
|`/Customers`|<xref:System.Data.Services.EntitySetRights.ReadMultiple>|Non supportate|Non supportate|<xref:System.Data.Services.EntitySetRights.WriteAppend>|Non supportate|  
|`/Customers('ALFKI')`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteDelete>|<xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteMerge>|n/d|<xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Non supportate|Non supportate|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteMerge> o <xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> -e-<br /><br /> `Orders``:` e e<xref:System.Data.Services.EntitySetRights.WriteAppend>|Non supportate|  
|`/Customers('ALFKI')/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteDelete>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteMerge>|Non supportate|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Orders(10643)/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteDelete><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteMerge>;<br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.WriteAppend><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.WriteAppend> e <xref:System.Data.Services.EntitySetRights.ReadSingle>|Non supportate|  
|`/Customers('ALFKI')/$links/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Non supportate|Non supportate|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteMerge> o <xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|Non supportate|  
|`/Customers('ALFKI')/$links/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteMerge> o <xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|Non supportate|Non supportate|Non supportate|  
|`/Orders(10643)/$links/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteMerge> o <xref:System.Data.Services.EntitySetRights.WriteReplace>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteMerge>|Non supportate|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle>;<br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers/$count`|<xref:System.Data.Services.EntitySetRights.ReadMultiple>|Non supportate|Non supportate|Non supportate|Non supportate|  
|`/Customers('ALFKI')/ContactName`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|Non supportate|<xref:System.Data.Services.EntitySetRights.WriteMerge>|Non supportate|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/Address/StreetAddress/$value`<sup>1 : il</sup> nome del|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.WriteDelete>|Non supportate|Non supportate|Non supportate|  
|`/Customers('ALFKI')/ContactName/$value`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.ReadSingle> e <xref:System.Data.Services.EntitySetRights.WriteDelete>|<xref:System.Data.Services.EntitySetRights.WriteMerge>|Non supportate|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/$value` <sup>2</sup>|<xref:System.Data.Services.EntitySetRights.ReadSingle>|Non supportate|Non supportate|Non supportate|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Non supportate|Non supportate|`Customers`: <xref:System.Data.Services.EntitySetRights.WriteAppend>|Non supportate|  
|`/Customers('ALFKI')?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -e-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Non supportate|Non supportate|Non supportate|Non supportate|  
  
 <sup>1</sup> In questo `Address` esempio, rappresenta una `Customers` proprietà di tipo `StreetAddress`complesso dell'entità che dispone di una proprietà denominata . Il modello usato dai servizi dati Northwind non definisce in modo esplicito questo tipo complesso. Quando il modello di dati viene definito utilizzando il provider di Entity Framework, è possibile utilizzare gli strumenti di Entity Data Model per definire tale tipo complesso. Per ulteriori informazioni, vedere [Procedura: creare e modificare tipi complessi](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd456820(v=vs.100)).  
  
 <sup>2</sup> Questo URI è supportato quando una proprietà che restituisce un oggetto binario di grandi dimensioni (BLOB) è `Customers`definita come risorsa multimediale appartenente a un'entità che è una voce di collegamento multimediale, che in questo caso è . Per ulteriori informazioni, vedere [Provider di flusso](streaming-provider-wcf-data-services.md).  
  
<a name="versioning"></a>
## <a name="versioning-requirements"></a>Requisiti di versione  
 I seguenti comportamenti di configurazione del servizio dati richiedono la versione 2 del protocollo OData o versioni successive:  
  
- Supporto per le richieste del conteggio.  
  
- Supporto per l'opzione di query $select per proiezione.  
  
 Per ulteriori informazioni, vedere [Controllo delle versioni](data-service-versioning-wcf-data-services.md)del servizio dati .  
  
## <a name="see-also"></a>Vedere anche

- [Definizione di WCF Data Services](defining-wcf-data-services.md)
- [Hosting del servizio dati](hosting-the-data-service-wcf-data-services.md)
