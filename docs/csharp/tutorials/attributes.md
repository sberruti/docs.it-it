---
title: 'Esercitazione: usare gli attributi-C#'
description: Informazioni sull'uso degli attributi in C#.
author: mgroves
ms.technology: csharp-fundamentals
ms.date: 03/06/2017
ms.assetid: b152cf36-76e4-43a5-b805-1a1952e53b79
ms.openlocfilehash: 24cb7d35a89fda78511dc4ba725b69c5d601a008
ms.sourcegitcommit: 7e2128d4a4c45b4274bea3b8e5760d4694569ca1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/14/2020
ms.locfileid: "75937464"
---
# <a name="use-attributes-in-c"></a><span data-ttu-id="f418f-103">Usare gli attributi in C\#</span><span class="sxs-lookup"><span data-stu-id="f418f-103">Use Attributes in C\#</span></span>

<span data-ttu-id="f418f-104">Gli attributi consentono di associare informazioni al codice in modo dichiarativo.</span><span class="sxs-lookup"><span data-stu-id="f418f-104">Attributes provide a way of associating information with code in a declarative way.</span></span> <span data-ttu-id="f418f-105">Offrono anche un elemento riutilizzabile che può essere applicato a vari tipi di destinazioni.</span><span class="sxs-lookup"><span data-stu-id="f418f-105">They can also provide a reusable element that can be applied to a variety of targets.</span></span>

<span data-ttu-id="f418f-106">L'attributo `[Obsolete]`, ad esempio,</span><span class="sxs-lookup"><span data-stu-id="f418f-106">Consider the `[Obsolete]` attribute.</span></span> <span data-ttu-id="f418f-107">può essere applicato a classi, struct, metodi, costruttori e altri elementi.</span><span class="sxs-lookup"><span data-stu-id="f418f-107">It can be applied to classes, structs, methods, constructors, and more.</span></span> <span data-ttu-id="f418f-108">_Dichiara_ che l'elemento è obsoleto.</span><span class="sxs-lookup"><span data-stu-id="f418f-108">It _declares_ that the element is obsolete.</span></span> <span data-ttu-id="f418f-109">Spetta quindi al compilatore C# cercare l'attributo ed eseguire di conseguenza le azioni appropriate.</span><span class="sxs-lookup"><span data-stu-id="f418f-109">It's then up to the C# compiler to look for this attribute, and do some action in response.</span></span>

<span data-ttu-id="f418f-110">In questa esercitazione si illustreranno le procedure necessarie per aggiungere attributi al codice, creare e usare attributi personalizzati e usare alcuni attributi incorporati in .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f418f-110">In this tutorial, you'll be introduced to how to add attributes to your code, how to create and use your own attributes, and how to use some attributes that are built into .NET Core.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="f418f-111">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="f418f-111">Prerequisites</span></span>
<span data-ttu-id="f418f-112">È necessario configurare il computer per l'esecuzione di .NET core.</span><span class="sxs-lookup"><span data-stu-id="f418f-112">You’ll need to set up your machine to run .NET core.</span></span> <span data-ttu-id="f418f-113">È possibile trovare le istruzioni di installazione nella pagina di [download di .NET Core](https://dotnet.microsoft.com/download) .</span><span class="sxs-lookup"><span data-stu-id="f418f-113">You can find the installation instructions on the [.NET Core Downloads](https://dotnet.microsoft.com/download) page.</span></span>
<span data-ttu-id="f418f-114">Questa applicazione può essere eseguita in Windows, Ubuntu Linux, macOS o in un contenitore Docker.</span><span class="sxs-lookup"><span data-stu-id="f418f-114">You can run this application on Windows, Ubuntu Linux, macOS or in a Docker container.</span></span>
<span data-ttu-id="f418f-115">È necessario installare l'editor di codice preferito.</span><span class="sxs-lookup"><span data-stu-id="f418f-115">You’ll need to install your favorite code editor.</span></span> <span data-ttu-id="f418f-116">Nelle descrizioni seguenti viene usato [Visual Studio Code](https://code.visualstudio.com/), un editor open source multipiattaforma,</span><span class="sxs-lookup"><span data-stu-id="f418f-116">The descriptions below use [Visual Studio Code](https://code.visualstudio.com/) which is an open source, cross platform editor.</span></span> <span data-ttu-id="f418f-117">ma è possibile usare gli strumenti con cui si ha maggiore familiarità.</span><span class="sxs-lookup"><span data-stu-id="f418f-117">However, you can use whatever tools you are comfortable with.</span></span>

## <a name="create-the-application"></a><span data-ttu-id="f418f-118">Creare l'applicazione</span><span class="sxs-lookup"><span data-stu-id="f418f-118">Create the Application</span></span>

<span data-ttu-id="f418f-119">Dopo avere installato tutti gli strumenti, creare una nuova applicazione .NET Core.</span><span class="sxs-lookup"><span data-stu-id="f418f-119">Now that you've installed all the tools, create a new .NET Core application.</span></span> <span data-ttu-id="f418f-120">Per usare il generatore da riga di comando, eseguire il comando seguente nella shell preferita:</span><span class="sxs-lookup"><span data-stu-id="f418f-120">To use the command line generator, execute the following command in your favorite shell:</span></span>

`dotnet new console`

<span data-ttu-id="f418f-121">Questo comando creerà file di progetto .NET Core Bare Bones.</span><span class="sxs-lookup"><span data-stu-id="f418f-121">This command will create bare-bones .NET core project files.</span></span> <span data-ttu-id="f418f-122">Sarà necessario eseguire `dotnet restore` per ripristinare le dipendenze richieste per la compilazione del progetto.</span><span class="sxs-lookup"><span data-stu-id="f418f-122">You will need to execute `dotnet restore` to restore the dependencies needed to compile this project.</span></span>

[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]

<span data-ttu-id="f418f-123">Per eseguire il programma, usare `dotnet run`.</span><span class="sxs-lookup"><span data-stu-id="f418f-123">To execute the program, use `dotnet run`.</span></span> <span data-ttu-id="f418f-124">Nella console viene visualizzato "Hello, World".</span><span class="sxs-lookup"><span data-stu-id="f418f-124">You should see "Hello, World" output to the console.</span></span>

## <a name="how-to-add-attributes-to-code"></a><span data-ttu-id="f418f-125">Come aggiungere attributi al codice</span><span class="sxs-lookup"><span data-stu-id="f418f-125">How to add attributes to code</span></span>

<span data-ttu-id="f418f-126">In C# gli attributi sono classi che ereditano dalla classe di base `Attribute`.</span><span class="sxs-lookup"><span data-stu-id="f418f-126">In C#, attributes are classes that inherit from the `Attribute` base class.</span></span> <span data-ttu-id="f418f-127">Qualsiasi classe che eredita da `Attribute` può essere usata come una sorta di "tag" in altre parti del codice.</span><span class="sxs-lookup"><span data-stu-id="f418f-127">Any class that inherits from `Attribute` can be used as a sort of "tag" on other pieces of code.</span></span>
<span data-ttu-id="f418f-128">Si consideri, ad esempio, l'attributo denominato `ObsoleteAttribute`,</span><span class="sxs-lookup"><span data-stu-id="f418f-128">For instance, there is an attribute called `ObsoleteAttribute`.</span></span> <span data-ttu-id="f418f-129">usato per segnalare che il codice è obsoleto e non deve più essere usato.</span><span class="sxs-lookup"><span data-stu-id="f418f-129">This is used to signal that code is obsolete and shouldn't be used anymore.</span></span> <span data-ttu-id="f418f-130">È possibile inserire questo attributo in una classe usando, ad esempio, parentesi quadre.</span><span class="sxs-lookup"><span data-stu-id="f418f-130">You can place this attribute on a class, for instance, by using square brackets.</span></span>

[!code-csharp[Obsolete attribute example](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ObsoleteExample1)]

<span data-ttu-id="f418f-131">Anche se la classe è chiamata `ObsoleteAttribute`, nel codice è necessario usare solo `[Obsolete]`.</span><span class="sxs-lookup"><span data-stu-id="f418f-131">Note that while the class is called `ObsoleteAttribute`, it's only necessary to use `[Obsolete]` in the code.</span></span> <span data-ttu-id="f418f-132">Questa è una convenzione seguita da C#.</span><span class="sxs-lookup"><span data-stu-id="f418f-132">This is a convention that C# follows.</span></span>
<span data-ttu-id="f418f-133">Se si preferisce, è possibile usare il nome completo `[ObsoleteAttribute]`.</span><span class="sxs-lookup"><span data-stu-id="f418f-133">You can use the full name `[ObsoleteAttribute]` if you choose.</span></span>

<span data-ttu-id="f418f-134">Quando si contrassegna una classe come obsoleta, è opportuno fornire alcune informazioni sul *motivo* per cui è obsoleta e/o sull'*oggetto* da usare in alternativa.</span><span class="sxs-lookup"><span data-stu-id="f418f-134">When marking a class obsolete, it's a good idea to provide some information as to *why* it's obsolete, and/or *what* to use instead.</span></span> <span data-ttu-id="f418f-135">A questo scopo, passare un parametro stringa all'attributo Obsolete.</span><span class="sxs-lookup"><span data-stu-id="f418f-135">Do this by passing a string parameter to the Obsolete attribute.</span></span>

[!code-csharp[Obsolete attribute example with parameters](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ObsoleteExample2)]

<span data-ttu-id="f418f-136">La stringa viene trasmessa come argomento a un costruttore `ObsoleteAttribute`, come se si scrivesse `var attr = new ObsoleteAttribute("some string")`.</span><span class="sxs-lookup"><span data-stu-id="f418f-136">The string is being passed as an argument to an `ObsoleteAttribute` constructor, just as if you were writing `var attr = new ObsoleteAttribute("some string")`.</span></span>

<span data-ttu-id="f418f-137">I parametri che è possibile passare a un costruttore di attributo sono limitati a tipi o valori letterali semplici: `bool, int, double, string, Type, enums, etc` e matrici di questi tipi.</span><span class="sxs-lookup"><span data-stu-id="f418f-137">Parameters to an attribute constructor are limited to simple types/literals: `bool, int, double, string, Type, enums, etc` and arrays of those types.</span></span>
<span data-ttu-id="f418f-138">Non è possibile usare un'espressione o una variabile,</span><span class="sxs-lookup"><span data-stu-id="f418f-138">You can not use an expression or a variable.</span></span> <span data-ttu-id="f418f-139">ma è possibile usare parametri posizionali o denominati.</span><span class="sxs-lookup"><span data-stu-id="f418f-139">You are free to use positional or named parameters.</span></span>

## <a name="how-to-create-your-own-attribute"></a><span data-ttu-id="f418f-140">Come creare un attributo personalizzato</span><span class="sxs-lookup"><span data-stu-id="f418f-140">How to create your own attribute</span></span>

<span data-ttu-id="f418f-141">Creare un attributo è semplice come ereditarlo dalla classe di base `Attribute`.</span><span class="sxs-lookup"><span data-stu-id="f418f-141">Creating an attribute is as simple as inheriting from the `Attribute` base class.</span></span>

[!code-csharp[Create your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#CreateAttributeExample1)]

<span data-ttu-id="f418f-142">Con quanto creato in precedenza, è possibile ora usare `[MySpecial]` (o `[MySpecialAttribute]`) come attributo in un'altra posizione della codebase.</span><span class="sxs-lookup"><span data-stu-id="f418f-142">With the above, I can now use `[MySpecial]` (or `[MySpecialAttribute]`) as an attribute elsewhere in the code base.</span></span>

[!code-csharp[Using your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#CreateAttributeExample2)]

<span data-ttu-id="f418f-143">Alcuni attributi presenti nella libreria di classi base .NET, come `ObsoleteAttribute`, attivano determinati comportamenti nel compilatore.</span><span class="sxs-lookup"><span data-stu-id="f418f-143">Attributes in the .NET base class library like `ObsoleteAttribute` trigger certain behaviors within the compiler.</span></span> <span data-ttu-id="f418f-144">Qualsiasi attributo creato, tuttavia, svolge solo la funzione di metadato e non genera alcun codice nella classe di attributo in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f418f-144">However, any attribute you create acts only as metadata, and doesn't result in any code within the attribute class being executed.</span></span> <span data-ttu-id="f418f-145">È compito dell'utente intervenire sui metadati in un'altra parte del codice. Informazioni più dettagliate sono disponibili più avanti nell'esercitazione.</span><span class="sxs-lookup"><span data-stu-id="f418f-145">It's up to you to act on that metadata elsewhere in your code (more on that later in the tutorial).</span></span>

<span data-ttu-id="f418f-146">A questo punto è necessario prestare attenzione a un piccolo problema.</span><span class="sxs-lookup"><span data-stu-id="f418f-146">There is a 'gotcha' here to watch out for.</span></span> <span data-ttu-id="f418f-147">Come specificato in precedenza, è possibile passare come argomenti solo determinati tipi di attributi.</span><span class="sxs-lookup"><span data-stu-id="f418f-147">As mentioned above, only certain types are allowed to be passed as arguments when using attributes.</span></span> <span data-ttu-id="f418f-148">Quando si crea un tipo di attributo, tuttavia, il compilatore C# non impedisce la creazione di questi parametri.</span><span class="sxs-lookup"><span data-stu-id="f418f-148">However, when creating an attribute type, the C# compiler won't stop you from creating those parameters.</span></span> <span data-ttu-id="f418f-149">Nell'esempio seguente è stato creato un attributo con un costruttore compilato correttamente.</span><span class="sxs-lookup"><span data-stu-id="f418f-149">In the below example, I've created an attribute with a constructor that compiles just fine.</span></span>

[!code-csharp[Valid constructor used in an attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeGothca1)]

<span data-ttu-id="f418f-150">Non sarà tuttavia possibile usare questo costruttore con la sintassi di attributo.</span><span class="sxs-lookup"><span data-stu-id="f418f-150">However, you will be unable to use this constructor with attribute syntax.</span></span>

[!code-csharp[Invalid attempt to use the attribute constructor](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeGotcha2)]

<span data-ttu-id="f418f-151">Il codice precedente genererà un errore del compilatore come `Attribute constructor parameter 'myClass' has type 'Foo', which is not a valid attribute parameter type`</span><span class="sxs-lookup"><span data-stu-id="f418f-151">The above will cause a compiler error like `Attribute constructor parameter 'myClass' has type 'Foo', which is not a valid attribute parameter type`</span></span>

## <a name="how-to-restrict-attribute-usage"></a><span data-ttu-id="f418f-152">Come limitare l'uso degli attributi</span><span class="sxs-lookup"><span data-stu-id="f418f-152">How to restrict attribute usage</span></span>

<span data-ttu-id="f418f-153">Gli attributi possono essere usati su diversi tipi di "destinatari".</span><span class="sxs-lookup"><span data-stu-id="f418f-153">Attributes can be used on a number of "targets".</span></span> <span data-ttu-id="f418f-154">Gli esempi precedenti ne illustrano l'uso all'interno di classi, ma possono anche essere usati in:</span><span class="sxs-lookup"><span data-stu-id="f418f-154">The above examples show them on classes, but they can also be used on:</span></span>

* <span data-ttu-id="f418f-155">Assembly</span><span class="sxs-lookup"><span data-stu-id="f418f-155">Assembly</span></span>
* <span data-ttu-id="f418f-156">Classe</span><span class="sxs-lookup"><span data-stu-id="f418f-156">Class</span></span>
* <span data-ttu-id="f418f-157">Costruttore</span><span class="sxs-lookup"><span data-stu-id="f418f-157">Constructor</span></span>
* <span data-ttu-id="f418f-158">Delegato</span><span class="sxs-lookup"><span data-stu-id="f418f-158">Delegate</span></span>
* <span data-ttu-id="f418f-159">Enum</span><span class="sxs-lookup"><span data-stu-id="f418f-159">Enum</span></span>
* <span data-ttu-id="f418f-160">Event</span><span class="sxs-lookup"><span data-stu-id="f418f-160">Event</span></span>
* <span data-ttu-id="f418f-161">Campo</span><span class="sxs-lookup"><span data-stu-id="f418f-161">Field</span></span>
* <span data-ttu-id="f418f-162">GenericParameter</span><span class="sxs-lookup"><span data-stu-id="f418f-162">GenericParameter</span></span>
* <span data-ttu-id="f418f-163">Interfaccia</span><span class="sxs-lookup"><span data-stu-id="f418f-163">Interface</span></span>
* <span data-ttu-id="f418f-164">Metodo</span><span class="sxs-lookup"><span data-stu-id="f418f-164">Method</span></span>
* <span data-ttu-id="f418f-165">Module</span><span class="sxs-lookup"><span data-stu-id="f418f-165">Module</span></span>
* <span data-ttu-id="f418f-166">Parametro</span><span class="sxs-lookup"><span data-stu-id="f418f-166">Parameter</span></span>
* <span data-ttu-id="f418f-167">Gli</span><span class="sxs-lookup"><span data-stu-id="f418f-167">Property</span></span>
* <span data-ttu-id="f418f-168">ReturnValue</span><span class="sxs-lookup"><span data-stu-id="f418f-168">ReturnValue</span></span>
* <span data-ttu-id="f418f-169">Struct</span><span class="sxs-lookup"><span data-stu-id="f418f-169">Struct</span></span>

<span data-ttu-id="f418f-170">Quando si crea una classe di attributo, per impostazione predefinita C# consente di usare l'attributo in una qualsiasi delle destinazioni possibili.</span><span class="sxs-lookup"><span data-stu-id="f418f-170">When you create an attribute class, by default, C# will allow you to use that attribute on any of the possible attribute targets.</span></span> <span data-ttu-id="f418f-171">Se si vuole limitare l'attributo ad alcune destinazioni, è possibile usare `AttributeUsageAttribute` nella classe di attributo,</span><span class="sxs-lookup"><span data-stu-id="f418f-171">If you want to restrict your attribute to certain targets, you can do so by using the `AttributeUsageAttribute` on your attribute class.</span></span> <span data-ttu-id="f418f-172">ovvero un attributo in un attributo.</span><span class="sxs-lookup"><span data-stu-id="f418f-172">That's right, an attribute on an attribute!</span></span>

[!code-csharp[Using your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeUsageExample1)]

<span data-ttu-id="f418f-173">Se si prova a inserire l'attributo precedente in un elemento diverso da una classe o da un tipo struct, si otterrà un errore del compilatore simile al seguente: `Attribute 'MyAttributeForClassAndStructOnly' is not valid on this declaration type. It is only valid on 'class, struct' declarations`</span><span class="sxs-lookup"><span data-stu-id="f418f-173">If you attempt to put the above attribute on something that's not a class or a struct, you will get a compiler error like `Attribute 'MyAttributeForClassAndStructOnly' is not valid on this declaration type. It is only valid on 'class, struct' declarations`</span></span>

[!code-csharp[Using your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeUsageExample2)]

## <a name="how-to-use-attributes-attached-to-a-code-element"></a><span data-ttu-id="f418f-174">Come usare attributi associati a un elemento di codice</span><span class="sxs-lookup"><span data-stu-id="f418f-174">How to use attributes attached to a code element</span></span>

<span data-ttu-id="f418f-175">Gli attributi agiscono come metadati.</span><span class="sxs-lookup"><span data-stu-id="f418f-175">Attributes act as metadata.</span></span> <span data-ttu-id="f418f-176">Senza una forza verso l'esterno, non hanno alcuna funzione.</span><span class="sxs-lookup"><span data-stu-id="f418f-176">Without some outward force, they won't actually do anything.</span></span>

<span data-ttu-id="f418f-177">Per trovare e intervenire sugli attributi, è in genere necessario usare la [reflection](../programming-guide/concepts/reflection.md).</span><span class="sxs-lookup"><span data-stu-id="f418f-177">To find and act on attributes, [Reflection](../programming-guide/concepts/reflection.md) is generally needed.</span></span> <span data-ttu-id="f418f-178">Il concetto di reflection non verrà approfondito in questa esercitazione ma, in termini generali, la reflection consente di scrivere codice C# che esamina altro codice.</span><span class="sxs-lookup"><span data-stu-id="f418f-178">I won't cover Reflection in-depth in this tutorial, but the basic idea is that Reflection allows you to write code in C# that examines other code.</span></span>

<span data-ttu-id="f418f-179">È possibile, ad esempio, usare la reflection per ottenere informazioni su una classe (aggiungere `using System.Reflection;` all'inizio del codice ):</span><span class="sxs-lookup"><span data-stu-id="f418f-179">For instance, you can use Reflection to get information about a class(add `using System.Reflection;` at the head of your code):</span></span>

[!code-csharp[Getting type information with Reflection](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ReflectionExample1)]

<span data-ttu-id="f418f-180">Verrà generato un output simile al seguente: `The assembly qualified name of MyClass is ConsoleApplication.MyClass, attributes, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null`</span><span class="sxs-lookup"><span data-stu-id="f418f-180">That will print out something like: `The assembly qualified name of MyClass is ConsoleApplication.MyClass, attributes, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null`</span></span>

<span data-ttu-id="f418f-181">Dopo aver creato un oggetto `TypeInfo` (o `MemberInfo`, `FieldInfo` e così via), è possibile usare il metodo `GetCustomAttributes`.</span><span class="sxs-lookup"><span data-stu-id="f418f-181">Once you have a `TypeInfo` object (or a `MemberInfo`, `FieldInfo`, etc), you can use the `GetCustomAttributes` method.</span></span> <span data-ttu-id="f418f-182">Verrà restituita una raccolta di oggetti `Attribute`.</span><span class="sxs-lookup"><span data-stu-id="f418f-182">This will return a collection of `Attribute` objects.</span></span>
<span data-ttu-id="f418f-183">È possibile anche usare `GetCustomAttribute` e specificare un tipo di attributo.</span><span class="sxs-lookup"><span data-stu-id="f418f-183">You can also use `GetCustomAttribute` and specify an Attribute type.</span></span>

<span data-ttu-id="f418f-184">Di seguito è riportato un esempio d'uso di `GetCustomAttributes` in un'istanza di `MemberInfo` per `MyClass` (che, come specificato in precedenza, include un attributo `[Obsolete]`).</span><span class="sxs-lookup"><span data-stu-id="f418f-184">Here's an example of using `GetCustomAttributes` on a `MemberInfo` instance for `MyClass` (which we saw earlier has an `[Obsolete]` attribute on it).</span></span>

[!code-csharp[Getting type information with Reflection](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ReflectionExample2)]

<span data-ttu-id="f418f-185">Nella console verrà visualizzato l'output seguente: `Attribute on MyClass: ObsoleteAttribute`.</span><span class="sxs-lookup"><span data-stu-id="f418f-185">That will print to console: `Attribute on MyClass: ObsoleteAttribute`.</span></span> <span data-ttu-id="f418f-186">Provare ad aggiungere altri attributi a `MyClass`.</span><span class="sxs-lookup"><span data-stu-id="f418f-186">Try adding other attributes to `MyClass`.</span></span>

<span data-ttu-id="f418f-187">È importante sottolineare che le istanze di questi oggetti `Attribute` vengono create in modo differito,</span><span class="sxs-lookup"><span data-stu-id="f418f-187">It's important to note that these `Attribute` objects are instantiated lazily.</span></span> <span data-ttu-id="f418f-188">ovvero non vengono create finché non si usa `GetCustomAttribute` o `GetCustomAttributes`.</span><span class="sxs-lookup"><span data-stu-id="f418f-188">That is, they won't be instantiated until you use `GetCustomAttribute` or `GetCustomAttributes`.</span></span>
<span data-ttu-id="f418f-189">L'istanza, inoltre, viene creata ogni volta.</span><span class="sxs-lookup"><span data-stu-id="f418f-189">They are also instantiated each time.</span></span> <span data-ttu-id="f418f-190">Se si chiama `GetCustomAttributes` due volte in una riga, verranno restituite due istanze diverse di `ObsoleteAttribute`.</span><span class="sxs-lookup"><span data-stu-id="f418f-190">Calling `GetCustomAttributes` twice in a row will return two different instances of `ObsoleteAttribute`.</span></span>

## <a name="common-attributes-in-the-base-class-library-bcl"></a><span data-ttu-id="f418f-191">Attributi comuni nella libreria di classi base</span><span class="sxs-lookup"><span data-stu-id="f418f-191">Common attributes in the base class library (BCL)</span></span>

<span data-ttu-id="f418f-192">Gli attributi vengono usati da molti tipi di strumenti e framework.</span><span class="sxs-lookup"><span data-stu-id="f418f-192">Attributes are used by many tools and frameworks.</span></span> <span data-ttu-id="f418f-193">NUnit si avvale di attributi come `[Test]` e `[TestFixture]`, usati dal test runner NUnit.</span><span class="sxs-lookup"><span data-stu-id="f418f-193">NUnit uses attributes like `[Test]` and `[TestFixture]` that are used by the NUnit test runner.</span></span> <span data-ttu-id="f418f-194">ASP.NET MVC usa attributi come `[Authorize]` e fornisce un framework di filtri di azione per applicare questioni trasversali su azioni MVC.</span><span class="sxs-lookup"><span data-stu-id="f418f-194">ASP.NET MVC uses attributes like `[Authorize]` and provides an action filter framework to perform cross-cutting concerns on MVC actions.</span></span> <span data-ttu-id="f418f-195">[PostSharp](https://www.postsharp.net) usa la sintassi di attributo per consentire la programmazione orientata agli aspetti in C#.</span><span class="sxs-lookup"><span data-stu-id="f418f-195">[PostSharp](https://www.postsharp.net) uses the attribute syntax to allow aspect-oriented programming in C#.</span></span>

<span data-ttu-id="f418f-196">Di seguito sono illustrati alcuni attributi importanti incorporati nelle librerie di classi base di .NET Core:</span><span class="sxs-lookup"><span data-stu-id="f418f-196">Here are a few notable attributes built into the .NET Core base class libraries:</span></span>

* <span data-ttu-id="f418f-197">`[Obsolete]`.</span><span class="sxs-lookup"><span data-stu-id="f418f-197">`[Obsolete]`.</span></span> <span data-ttu-id="f418f-198">Questo attributo è stato usato negli esempi precedenti e si trova nello spazio dei nomi `System`.</span><span class="sxs-lookup"><span data-stu-id="f418f-198">This one was used in the above examples, and it lives in the `System` namespace.</span></span> <span data-ttu-id="f418f-199">È utile per fornire documentazione dichiarativa su una codebase in fase di modifica.</span><span class="sxs-lookup"><span data-stu-id="f418f-199">It is useful to provide declarative documentation about a changing code base.</span></span> <span data-ttu-id="f418f-200">È possibile specificare un messaggio sotto forma di stringa e usare un altro parametro booleano per convertire un avviso del compilatore in un errore del compilatore.</span><span class="sxs-lookup"><span data-stu-id="f418f-200">A message can be provided in the form of a string, and another boolean parameter can be used to escalate from a compiler warning to a compiler error.</span></span>

* <span data-ttu-id="f418f-201">`[Conditional]`.</span><span class="sxs-lookup"><span data-stu-id="f418f-201">`[Conditional]`.</span></span> <span data-ttu-id="f418f-202">Questo attributo si trova nello spazio dei nomi `System.Diagnostics`</span><span class="sxs-lookup"><span data-stu-id="f418f-202">This attribute is in the `System.Diagnostics` namespace.</span></span> <span data-ttu-id="f418f-203">e può essere applicato a metodi (o a classi di attributo).</span><span class="sxs-lookup"><span data-stu-id="f418f-203">This attribute can be applied to methods (or attribute classes).</span></span> <span data-ttu-id="f418f-204">È necessario passare una stringa al costruttore.</span><span class="sxs-lookup"><span data-stu-id="f418f-204">You must pass a string to the constructor.</span></span>
<span data-ttu-id="f418f-205">Se la stringa non corrisponde a una direttiva `#define`, qualsiasi chiamata al metodo (ma non il metodo stesso) verrà rimossa dal compilatore C#.</span><span class="sxs-lookup"><span data-stu-id="f418f-205">If that string doesn't match a `#define` directive, then any calls to that method (but not the method itself) will be removed by the C# compiler.</span></span> <span data-ttu-id="f418f-206">Questo attributo viene in genere usato per attività di debug (diagnostica).</span><span class="sxs-lookup"><span data-stu-id="f418f-206">Typically this is used for debugging (diagnostics) purposes.</span></span>

* <span data-ttu-id="f418f-207">`[CallerMemberName]`.</span><span class="sxs-lookup"><span data-stu-id="f418f-207">`[CallerMemberName]`.</span></span> <span data-ttu-id="f418f-208">Questo attributo può essere usato nei parametri e si trova nello spazio dei nomi `System.Runtime.CompilerServices`.</span><span class="sxs-lookup"><span data-stu-id="f418f-208">This attribute can be used on parameters, and lives in the `System.Runtime.CompilerServices` namespace.</span></span> <span data-ttu-id="f418f-209">Consente di inserire il nome del metodo che chiama un altro metodo.</span><span class="sxs-lookup"><span data-stu-id="f418f-209">This is an attribute that is used to inject the name of the method that is calling another method.</span></span> <span data-ttu-id="f418f-210">Viene in genere usato per eliminare "stringhe magiche" quando si implementa INotifyPropertyChanged in vari framework di interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="f418f-210">This is typically used as a way to eliminate 'magic strings' when implementing INotifyPropertyChanged in various UI frameworks.</span></span> <span data-ttu-id="f418f-211">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="f418f-211">As an example:</span></span>

[!code-csharp[Using CallerMemberName when implementing INotifyPropertyChanged](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#CallerMemberName1)]

<span data-ttu-id="f418f-212">Nel codice precedente non è necessario che sia inclusa una stringa `"Name"` letterale.</span><span class="sxs-lookup"><span data-stu-id="f418f-212">In the above code, you don't have to have a literal `"Name"` string.</span></span> <span data-ttu-id="f418f-213">In questo modo, infatti, si evitano bug correlati a errori di digitazione e si semplificano eventuali operazioni di refactoring/ridenominazione.</span><span class="sxs-lookup"><span data-stu-id="f418f-213">This can help prevent typo-related bugs and also makes for smoother refactoring/renaming.</span></span>

## <a name="summary"></a><span data-ttu-id="f418f-214">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="f418f-214">Summary</span></span>

<span data-ttu-id="f418f-215">Gli attributi integrano funzioni dichiarative in C#, ma rappresentano elementi di codice simili ai metadati e da soli non hanno alcuna funzione.</span><span class="sxs-lookup"><span data-stu-id="f418f-215">Attributes bring declarative power to C#, but they are a meta-data form of code and don't act by themselves.</span></span>
