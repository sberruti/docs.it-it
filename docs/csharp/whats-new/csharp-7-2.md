---
title: Novità di C# 7.2
description: Panoramica delle nuove funzionalità in C# 7.2.
ms.date: 08/16/2017
ms.openlocfilehash: 7febefb81bbea6f24690adb05488ad6a18bbf552
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2020
ms.locfileid: "75694595"
---
# <a name="whats-new-in-c-72"></a><span data-ttu-id="52eb9-103">Novità di C# 7.2</span><span class="sxs-lookup"><span data-stu-id="52eb9-103">What's new in C# 7.2</span></span>

<span data-ttu-id="52eb9-104">C# 7.2 è un'altra Point Release che aggiunge numerose funzionalità utili.</span><span class="sxs-lookup"><span data-stu-id="52eb9-104">C# 7.2 is another point release that adds a number of useful features.</span></span>
<span data-ttu-id="52eb9-105">Il tema centrale di questa versione è l'uso più efficiente dei tipi valore, evitando inutili copie o allocazioni.</span><span class="sxs-lookup"><span data-stu-id="52eb9-105">One theme for this release is working more efficiently with value types by avoiding unnecessary copies or allocations.</span></span>

<span data-ttu-id="52eb9-106">Le funzionalità rimanenti sono piccole e utili.</span><span class="sxs-lookup"><span data-stu-id="52eb9-106">The remaining features are small, nice-to-have features.</span></span>

<span data-ttu-id="52eb9-107">C# 7.2 usa l'elemento di configurazione per la [selezione della versione del linguaggio](../language-reference/configure-language-version.md) per selezionare la versione del linguaggio del compilatore.</span><span class="sxs-lookup"><span data-stu-id="52eb9-107">C# 7.2 uses the [language version selection](../language-reference/configure-language-version.md) configuration element to select the compiler language version.</span></span>

<span data-ttu-id="52eb9-108">Le nuove funzionalità relative al linguaggio in questa versione sono:</span><span class="sxs-lookup"><span data-stu-id="52eb9-108">The new language features in this release are:</span></span>

- [<span data-ttu-id="52eb9-109">Tecniche per la scrittura di codice efficiente e sicuro</span><span class="sxs-lookup"><span data-stu-id="52eb9-109">Techniques for writing safe efficient code</span></span>](#safe-efficient-code-enhancements)
  - <span data-ttu-id="52eb9-110">Una combinazione di miglioramenti della sintassi che consentono l'utilizzo dei tipi valore tramite la semantica di riferimento.</span><span class="sxs-lookup"><span data-stu-id="52eb9-110">A combination of syntax improvements that enable working with value types using reference semantics.</span></span>
- [<span data-ttu-id="52eb9-111">Argomenti denominati non finali</span><span class="sxs-lookup"><span data-stu-id="52eb9-111">Non-trailing named arguments</span></span>](#non-trailing-named-arguments)
  - <span data-ttu-id="52eb9-112">Gli argomenti denominati possono essere seguiti da argomenti posizionali.</span><span class="sxs-lookup"><span data-stu-id="52eb9-112">Named arguments can be followed by positional arguments.</span></span>
- [<span data-ttu-id="52eb9-113">Caratteri di sottolineatura iniziali nei valori letterali numerici</span><span class="sxs-lookup"><span data-stu-id="52eb9-113">Leading underscores in numeric literals</span></span>](#leading-underscores-in-numeric-literals)
  - <span data-ttu-id="52eb9-114">I valori letterali numerici possono ora includere caratteri di sottolineatura iniziali prima di qualsiasi cifra stampata.</span><span class="sxs-lookup"><span data-stu-id="52eb9-114">Numeric literals can now have leading underscores before any printed digits.</span></span>
- [<span data-ttu-id="52eb9-115">Modificatore di accesso `private protected`</span><span class="sxs-lookup"><span data-stu-id="52eb9-115">`private protected` access modifier</span></span>](#private-protected-access-modifier)
  - <span data-ttu-id="52eb9-116">Il modificatore di accesso `private protected` consente l'accesso per le classi derivate nello stesso assembly.</span><span class="sxs-lookup"><span data-stu-id="52eb9-116">The `private protected` access modifier enables access for derived classes in the same assembly.</span></span>
- [<span data-ttu-id="52eb9-117">Espressioni condizionali `ref`</span><span class="sxs-lookup"><span data-stu-id="52eb9-117">Conditional `ref` expressions</span></span>](#conditional-ref-expressions)
  - <span data-ttu-id="52eb9-118">Il risultato di un'espressione condizionale (`?:`) può ora essere un riferimento.</span><span class="sxs-lookup"><span data-stu-id="52eb9-118">The result of a conditional expression (`?:`) can now be a reference.</span></span>

<span data-ttu-id="52eb9-119">La parte restante di questo articolo illustra una panoramica di ogni funzionalità.</span><span class="sxs-lookup"><span data-stu-id="52eb9-119">The remainder of this article provides an overview of each feature.</span></span> <span data-ttu-id="52eb9-120">Per ogni funzionalità verranno illustrati i concetti di base</span><span class="sxs-lookup"><span data-stu-id="52eb9-120">For each feature, you'll learn the reasoning behind it.</span></span> <span data-ttu-id="52eb9-121">e si apprenderà la sintassi.</span><span class="sxs-lookup"><span data-stu-id="52eb9-121">You'll learn the syntax.</span></span> <span data-ttu-id="52eb9-122">È possibile esplorare queste funzionalità nell'ambiente in uso tramite lo strumento globale `dotnet try`:</span><span class="sxs-lookup"><span data-stu-id="52eb9-122">You can explore these features in your environment using the `dotnet try` global tool:</span></span>

1. <span data-ttu-id="52eb9-123">Installare lo strumento globale [dotnet-try](https://github.com/dotnet/try/blob/master/README.md#setup).</span><span class="sxs-lookup"><span data-stu-id="52eb9-123">Install the [dotnet-try](https://github.com/dotnet/try/blob/master/README.md#setup) global tool.</span></span>
1. <span data-ttu-id="52eb9-124">Clonare il repository [dotnet/try-samples](https://github.com/dotnet/try-samples).</span><span class="sxs-lookup"><span data-stu-id="52eb9-124">Clone the [dotnet/try-samples](https://github.com/dotnet/try-samples) repository.</span></span>
1. <span data-ttu-id="52eb9-125">Impostare la directory corrente sulla sottodirectory *csharp7* per il repository *try-samples*.</span><span class="sxs-lookup"><span data-stu-id="52eb9-125">Set the current directory to the *csharp7* subdirectory for the *try-samples* repository.</span></span>
1. <span data-ttu-id="52eb9-126">Eseguire `dotnet try`.</span><span class="sxs-lookup"><span data-stu-id="52eb9-126">Run `dotnet try`.</span></span>

## <a name="safe-efficient-code-enhancements"></a><span data-ttu-id="52eb9-127">Miglioramenti per un codice efficiente e sicuro</span><span class="sxs-lookup"><span data-stu-id="52eb9-127">Safe efficient code enhancements</span></span>

<span data-ttu-id="52eb9-128">Le funzionalità del linguaggio introdotte nella versione 7.2 consentono di lavorare con i tipi valore usando allo stesso tempo la semantica di riferimento.</span><span class="sxs-lookup"><span data-stu-id="52eb9-128">Language features introduced in 7.2 let you work with value types while using reference semantics.</span></span> <span data-ttu-id="52eb9-129">Queste funzionalità sono state progettate per migliorare le prestazioni riducendo al minimo la copia dei tipi valore senza dover sostenere le allocazioni di memoria associate all'uso dei tipi riferimento.</span><span class="sxs-lookup"><span data-stu-id="52eb9-129">They are designed to increase performance by minimizing copying value types without incurring the memory allocations associated with using reference types.</span></span> <span data-ttu-id="52eb9-130">Sono incluse le funzionalità seguenti:</span><span class="sxs-lookup"><span data-stu-id="52eb9-130">The features include:</span></span>

- <span data-ttu-id="52eb9-131">Il modificatore `in` per i parametri, per specificare che un argomento viene passato per riferimento, ma non modificato dal metodo chiamato.</span><span class="sxs-lookup"><span data-stu-id="52eb9-131">The `in` modifier on parameters, to specify that an argument is passed by reference but not modified by the called method.</span></span> <span data-ttu-id="52eb9-132">L'aggiunta del modificatore `in` a un argomento è una [modifica compatibile a livello di codice sorgente](version-update-considerations.md#source-compatible-changes).</span><span class="sxs-lookup"><span data-stu-id="52eb9-132">Adding the `in` modifier to an argument is a [source compatible change](version-update-considerations.md#source-compatible-changes).</span></span>
- <span data-ttu-id="52eb9-133">Il modificatore `ref readonly` per i valori restituiti dai metodi, per indicare che un metodo restituisce il valore per riferimento, ma non consente scritture su tale oggetto.</span><span class="sxs-lookup"><span data-stu-id="52eb9-133">The `ref readonly` modifier on method returns, to indicate that a method returns its value by reference but doesn't allow writes to that object.</span></span> <span data-ttu-id="52eb9-134">L'aggiunta del modificatore `ref readonly` è una [modifica compatibile a livello di codice sorgente](version-update-considerations.md#source-compatible-changes), se il valore restituito viene assegnato a un valore.</span><span class="sxs-lookup"><span data-stu-id="52eb9-134">Adding the `ref readonly` modifier is a [source compatible change](version-update-considerations.md#source-compatible-changes), if the return is assigned to a value.</span></span> <span data-ttu-id="52eb9-135">L'aggiunta del modificatore `readonly` a un'istruzione return `ref` esistente è una [modifica incompatibile](version-update-considerations.md#incompatible-changes).</span><span class="sxs-lookup"><span data-stu-id="52eb9-135">Adding the `readonly` modifier to an existing `ref` return statement is an [incompatible change](version-update-considerations.md#incompatible-changes).</span></span> <span data-ttu-id="52eb9-136">Richiede ai chiamanti di aggiornare la dichiarazione delle variabili locali `ref` per includere il modificatore `readonly`.</span><span class="sxs-lookup"><span data-stu-id="52eb9-136">It requires callers to update the declaration of `ref` local variables to include the `readonly` modifier.</span></span>
- <span data-ttu-id="52eb9-137">La dichiarazione `readonly struct` per indicare che uno struct non è modificabile e deve essere passato come parametro `in` ai relativi metodi membro.</span><span class="sxs-lookup"><span data-stu-id="52eb9-137">The `readonly struct` declaration, to indicate that a struct is immutable and should be passed as an `in` parameter to its member methods.</span></span> <span data-ttu-id="52eb9-138">L'aggiunta del modificatore `readonly` a una dichiarazione di struct esistente è una [modifica compatibile a livello binario](version-update-considerations.md#binary-compatible-changes).</span><span class="sxs-lookup"><span data-stu-id="52eb9-138">Adding the `readonly` modifier to an existing struct declaration is a [binary compatible change](version-update-considerations.md#binary-compatible-changes).</span></span>
- <span data-ttu-id="52eb9-139">La dichiarazione `ref struct` per indicare che un tipo di struct accede direttamente alla memoria gestita e deve sempre essere allocato nello stack.</span><span class="sxs-lookup"><span data-stu-id="52eb9-139">The `ref struct` declaration, to indicate that a struct type accesses managed memory directly and must always be stack allocated.</span></span> <span data-ttu-id="52eb9-140">L'aggiunta del modificatore `ref` a una dichiarazione `struct` esistente è una [modifica incompatibile](version-update-considerations.md#incompatible-changes).</span><span class="sxs-lookup"><span data-stu-id="52eb9-140">Adding the `ref` modifier to an existing `struct` declaration is an [incompatible change](version-update-considerations.md#incompatible-changes).</span></span> <span data-ttu-id="52eb9-141">`ref struct` non può essere un membro di una classe o usato in altre posizioni in cui potrebbe allocato nell'heap.</span><span class="sxs-lookup"><span data-stu-id="52eb9-141">A `ref struct` cannot be a member of a class or used in other locations where it may be allocated on the heap.</span></span>

<span data-ttu-id="52eb9-142">È possibile leggere altre informazioni su tutte queste modifiche in [Scrivere codice efficiente e sicuro](../write-safe-efficient-code.md).</span><span class="sxs-lookup"><span data-stu-id="52eb9-142">You can read more about all these changes in [Write safe efficient code](../write-safe-efficient-code.md).</span></span>

## <a name="non-trailing-named-arguments"></a><span data-ttu-id="52eb9-143">Argomenti denominati non finali</span><span class="sxs-lookup"><span data-stu-id="52eb9-143">Non-trailing named arguments</span></span>

<span data-ttu-id="52eb9-144">Per le chiamate di metodi è ora possibile usare argomenti denominati che precedono gli argomenti posizionali quando questi argomenti denominati sono nelle posizioni corrette.</span><span class="sxs-lookup"><span data-stu-id="52eb9-144">Method calls may now use named arguments that precede positional arguments when those named arguments are in the correct positions.</span></span> <span data-ttu-id="52eb9-145">Per altre informazioni, vedere [Argomenti denominati e facoltativi](../programming-guide/classes-and-structs/named-and-optional-arguments.md).</span><span class="sxs-lookup"><span data-stu-id="52eb9-145">For more information see [Named and optional arguments](../programming-guide/classes-and-structs/named-and-optional-arguments.md).</span></span>

## <a name="leading-underscores-in-numeric-literals"></a><span data-ttu-id="52eb9-146">Caratteri di sottolineatura iniziali nei valori letterali numerici</span><span class="sxs-lookup"><span data-stu-id="52eb9-146">Leading underscores in numeric literals</span></span>

<span data-ttu-id="52eb9-147">L'implementazione del supporto per i separatori di cifre in C# 7.0 non consentiva l'uso di `_` come primo carattere del valore letterale.</span><span class="sxs-lookup"><span data-stu-id="52eb9-147">The implementation of support for digit separators in C# 7.0 didn't allow the `_` to be the first character of the literal value.</span></span> <span data-ttu-id="52eb9-148">I valori letterali numerici esadecimali e binari possono ora iniziare con `_`.</span><span class="sxs-lookup"><span data-stu-id="52eb9-148">Hex and binary numeric literals may now begin with an `_`.</span></span>

<span data-ttu-id="52eb9-149">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="52eb9-149">For example:</span></span>

```csharp
int binaryValue = 0b_0101_0101;
```

## <a name="private-protected-access-modifier"></a><span data-ttu-id="52eb9-150">Modificatore di accesso *private protected*</span><span class="sxs-lookup"><span data-stu-id="52eb9-150">*private protected* access modifier</span></span>

<span data-ttu-id="52eb9-151">Il nuovo modificatore di accesso composto `private protected` indica che un membro è accessibile dalla classe che lo contiene o dalle classi derivate dichiarate nello stesso assembly.</span><span class="sxs-lookup"><span data-stu-id="52eb9-151">A new compound access modifier: `private protected` indicates that a member may be accessed by containing class or derived classes that are declared in the same assembly.</span></span> <span data-ttu-id="52eb9-152">Anche se `protected internal` consente l'accesso da classi derivate o classi nello stesso assembly, `private protected` limita l'accesso ai tipi derivati dichiarati nello stesso assembly.</span><span class="sxs-lookup"><span data-stu-id="52eb9-152">While `protected internal` allows access by derived classes or classes that are in the same assembly, `private protected` limits access to derived types declared in the same assembly.</span></span>

<span data-ttu-id="52eb9-153">Per altre informazioni, vedere [Modificatori di accesso](../language-reference/keywords/access-modifiers.md) nelle informazioni di riferimento sul linguaggio.</span><span class="sxs-lookup"><span data-stu-id="52eb9-153">For more information see [access modifiers](../language-reference/keywords/access-modifiers.md) in the language reference.</span></span>

## <a name="conditional-ref-expressions"></a><span data-ttu-id="52eb9-154">Espressioni condizionali `ref`</span><span class="sxs-lookup"><span data-stu-id="52eb9-154">Conditional `ref` expressions</span></span>

<span data-ttu-id="52eb9-155">Infine, l'espressione condizionale può produrre un risultato ref invece di un risultato valore.</span><span class="sxs-lookup"><span data-stu-id="52eb9-155">Finally, the conditional expression may produce a ref result instead of a value result.</span></span> <span data-ttu-id="52eb9-156">Ad esempio, per recuperare un riferimento al primo elemento in una di due matrici, scrivere il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="52eb9-156">For example, you would write the following to retrieve a reference to the first element in one of two arrays:</span></span>

```csharp
ref var r = ref (arr != null ? ref arr[0] : ref otherArr[0]);
```

<span data-ttu-id="52eb9-157">La variabile `r` è un riferimento al primo valore in `arr` o `otherArr`.</span><span class="sxs-lookup"><span data-stu-id="52eb9-157">The variable `r` is a reference to the first value in either `arr` or `otherArr`.</span></span>

<span data-ttu-id="52eb9-158">Per altre informazioni, vedere [Operatore ?:](../language-reference/operators/conditional-operator.md) nelle informazioni di riferimento sul linguaggio.</span><span class="sxs-lookup"><span data-stu-id="52eb9-158">For more information, see [conditional operator (?:)](../language-reference/operators/conditional-operator.md) in the language reference.</span></span>
