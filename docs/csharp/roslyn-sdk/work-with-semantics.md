---
title: Utilizzare il modello semantico di .NET Compiler Platform SDK
description: Questa panoramica consente di conoscere i tipi usati per comprendere e modificare il modello semantico del codice.
ms.date: 10/15/2017
ms.custom: mvc
ms.openlocfilehash: 8575988cd98a4c0ba3f24107788f065f7472f55d
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/14/2020
ms.locfileid: "79156935"
---
# <a name="work-with-semantics"></a><span data-ttu-id="ae7c0-103">Utilizzare la semantica</span><span class="sxs-lookup"><span data-stu-id="ae7c0-103">Work with semantics</span></span>

<span data-ttu-id="ae7c0-104">Gli [alberi della sintassi](work-with-syntax.md) rappresentano la struttura lessicale e sintattica del codice sorgente.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-104">[Syntax trees](work-with-syntax.md) represent the lexical and syntactic structure of source code.</span></span> <span data-ttu-id="ae7c0-105">Anche se queste informazioni da sole sono sufficienti per descrivere tutte le dichiarazioni e la logica nell'origine, non bastano per identificare gli elementi a cui viene fatto riferimento.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-105">Although this information alone is enough to describe all the declarations and logic in the source, it is not enough information to identify what is being referenced.</span></span> <span data-ttu-id="ae7c0-106">Un nome può rappresentare:</span><span class="sxs-lookup"><span data-stu-id="ae7c0-106">A name may represent:</span></span>

- <span data-ttu-id="ae7c0-107">Un tipo</span><span class="sxs-lookup"><span data-stu-id="ae7c0-107">a type</span></span>
- <span data-ttu-id="ae7c0-108">Un campo</span><span class="sxs-lookup"><span data-stu-id="ae7c0-108">a field</span></span>
- <span data-ttu-id="ae7c0-109">Un metodo</span><span class="sxs-lookup"><span data-stu-id="ae7c0-109">a method</span></span>
- <span data-ttu-id="ae7c0-110">Una variabile locale</span><span class="sxs-lookup"><span data-stu-id="ae7c0-110">a local variable</span></span>

<span data-ttu-id="ae7c0-111">Anche se ognuno di questi elementi è univoco, per determinare l'elemento a cui un identificatore fa effettivamente riferimento è spesso necessaria una conoscenza approfondita delle regole del linguaggio.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-111">Although each of these is uniquely different, determining which one an identifier actually refers to often requires a deep understanding of the language rules.</span></span>

<span data-ttu-id="ae7c0-112">Sono presenti elementi di programma rappresentati nel codice sorgente e i programmi possono anche fare riferimento a librerie compilate in precedenza, incluse in file di assembly.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-112">There are program elements represented in source code, and programs can also refer to previously compiled libraries, packaged in assembly files.</span></span> <span data-ttu-id="ae7c0-113">Anche se per gli assembly non è disponibile codice sorgente, e pertanto alcun nodo o albero di sintassi, i programmi possono comunque fare riferimento a elementi contenuti in assembly.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-113">Although no source code, and therefore no syntax nodes or trees, are available for assemblies, programs can still refer to elements inside them.</span></span>

<span data-ttu-id="ae7c0-114">Per queste attività, è necessario il **modello semantico**.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-114">For those tasks, you need the **Semantic model**.</span></span>

<span data-ttu-id="ae7c0-115">Oltre a un modello sintattico del codice sorgente, un modello semantico incapsula le regole del linguaggio, offrendo un modo semplice per abbinare correttamente gli identificatori all'elemento di programma corretto a cui si fa riferimento.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-115">In addition to a syntactic model of the source code, a semantic model encapsulates the language rules, giving you an easy way to correctly match identifiers with the correct program element being referenced.</span></span>

## <a name="compilation"></a><span data-ttu-id="ae7c0-116">Compilazione</span><span class="sxs-lookup"><span data-stu-id="ae7c0-116">Compilation</span></span>

<span data-ttu-id="ae7c0-117">Una compilazione è una rappresentazione di tutti gli elementi necessari per compilare un programma C# o Visual Basic, che include tutti i riferimenti ad assembly, le opzioni del compilatore e i file di origine.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-117">A compilation is a representation of everything needed to compile a C# or Visual Basic program, which includes all the assembly references, compiler options, and source files.</span></span>

<span data-ttu-id="ae7c0-118">Dato che tutte queste informazioni sono raccolte in un'unica posizione, gli elementi contenuti nel codice sorgente possono essere descritti in maggiore dettaglio.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-118">Because all this information is in one place, the elements contained in the source code can be described in more detail.</span></span> <span data-ttu-id="ae7c0-119">La compilazione rappresenta come simbolo ogni tipo, membro o variabile dichiarati.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-119">The compilation represents each declared type, member, or variable as a symbol.</span></span> <span data-ttu-id="ae7c0-120">La compilazione contiene svariati metodi che consentono di trovare e associare i simboli che sono stati dichiarati nel codice sorgente o importati come metadati da un assembly.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-120">The compilation contains a variety of methods that help you find and relate the symbols that have either been declared in the source code or imported as metadata from an assembly.</span></span>

<span data-ttu-id="ae7c0-121">Analogamente agli alberi della sintassi, le compilazioni non sono modificabili.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-121">Similar to syntax trees, compilations are immutable.</span></span> <span data-ttu-id="ae7c0-122">Dopo aver creato una compilazione, non può essere modificata dall'utente o da altri utenti con cui è condivisa.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-122">After you create a compilation, it cannot be changed by you or anyone else you might be sharing it with.</span></span> <span data-ttu-id="ae7c0-123">Tuttavia, è possibile creare una nuova compilazione da una compilazione esistente, specificano una modifica con questa operazione.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-123">However, you can create a new compilation from an existing compilation, specifying a change as you do so.</span></span> <span data-ttu-id="ae7c0-124">Ad esempio, è possibile creare una compilazione che è uguale in tutto e per tutto a una compilazione esistente, tranne per l'aggiunta di un file di origine o un riferimento ad assembly aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-124">For example, you might create a compilation that is the same in every way as an existing compilation, except it may include an additional source file or assembly reference.</span></span>

## <a name="symbols"></a><span data-ttu-id="ae7c0-125">Symbols</span><span class="sxs-lookup"><span data-stu-id="ae7c0-125">Symbols</span></span>

<span data-ttu-id="ae7c0-126">Un simbolo rappresenta un elemento distinto dichiarato dal codice sorgente o importato da un assembly come metadati.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-126">A symbol represents a distinct element declared by the source code or imported from an assembly as metadata.</span></span> <span data-ttu-id="ae7c0-127">Ogni spazio dei nomi, tipo, metodo, proprietà, campo, evento, parametro o variabile locale è rappresentato da un simbolo.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-127">Every namespace, type, method, property, field, event, parameter, or local variable is represented by a symbol.</span></span>

<span data-ttu-id="ae7c0-128">Un'ampia gamma di metodi e proprietà per il tipo <xref:Microsoft.CodeAnalysis.Compilation> sono utili per trovare i simboli.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-128">A variety of methods and properties on the <xref:Microsoft.CodeAnalysis.Compilation> type help you find symbols.</span></span> <span data-ttu-id="ae7c0-129">Ad esempio, è possibile trovare un simbolo per un tipo dichiarato in base al nome dei metadati comuni.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-129">For example, you can find a symbol for a declared type by its common metadata name.</span></span> <span data-ttu-id="ae7c0-130">È anche possibile accedere all'intera tabella dei simboli come albero dei simboli con lo spazio dei nomi globale come radice.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-130">You can also access the entire symbol table as a tree of symbols rooted by the global namespace.</span></span>

<span data-ttu-id="ae7c0-131">I simboli contengono anche informazioni aggiuntive che il compilatore determina dall'origine o dai metadati, come altri simboli di riferimento.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-131">Symbols also contain additional information that the compiler determines from the source or metadata, such as other referenced symbols.</span></span> <span data-ttu-id="ae7c0-132">Ogni tipo di simbolo è rappresentato da un'interfaccia separata derivata da <xref:Microsoft.CodeAnalysis.ISymbol>, ognuna con metodi e proprietà propri che riportano in dettaglio le informazioni raccolte al compilatore.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-132">Each kind of symbol is represented by a separate interface derived from <xref:Microsoft.CodeAnalysis.ISymbol>, each with its own methods and properties detailing the information the compiler has gathered.</span></span> <span data-ttu-id="ae7c0-133">Molte di queste proprietà fanno riferimento direttamente ad altri simboli.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-133">Many of these properties directly reference other symbols.</span></span> <span data-ttu-id="ae7c0-134">Ad esempio, la proprietà <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> indica il simbolo di tipo effettivo a cui fa riferimento la dichiarazione del metodo.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-134">For example, the <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> property tells you the actual type symbol that the method declaration references.</span></span>

<span data-ttu-id="ae7c0-135">I simboli presentano una rappresentazione comune di spazi dei nomi, tipi e membri, tra il codice sorgente e i metadati.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-135">Symbols present a common representation of namespaces, types, and members, between source code and metadata.</span></span> <span data-ttu-id="ae7c0-136">Ad esempio, un metodo dichiarato nel codice sorgente e un metodo importato dai metadati sono rappresentati entrambi da un <xref:Microsoft.CodeAnalysis.IMethodSymbol> con le stesse proprietà.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-136">For example, a method that was declared in source code and a method that was imported from metadata are both represented by an <xref:Microsoft.CodeAnalysis.IMethodSymbol> with the same properties.</span></span>

<span data-ttu-id="ae7c0-137">I simboli sono concettualmente simili al sistema di tipi CLR, come rappresentato dall'API <xref:System.Reflection>, ma sono più completi perché non si limitano alla modellazione dei tipi.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-137">Symbols are similar in concept to the CLR type system as represented by the <xref:System.Reflection> API, yet they are richer in that they model more than just types.</span></span> <span data-ttu-id="ae7c0-138">Gli spazi dei nomi, le variabili locali e le etichette sono tutti simboli.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-138">Namespaces, local variables, and labels are all symbols.</span></span> <span data-ttu-id="ae7c0-139">Inoltre, i simboli sono una rappresentazione di concetti del linguaggio e non di concetti CLR.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-139">In addition, symbols are a representation of language concepts, not CLR concepts.</span></span> <span data-ttu-id="ae7c0-140">Esistono molte sovrapposizioni, ma anche molte differenze significative.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-140">There is a lot of overlap, but there are many meaningful distinctions as well.</span></span> <span data-ttu-id="ae7c0-141">Ad esempio, un metodo iteratore in C# o Visual Basic è un unico simbolo.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-141">For instance, an iterator method in C# or Visual Basic is a single symbol.</span></span> <span data-ttu-id="ae7c0-142">Tuttavia, quando il metodo iteratore viene convertito in metadati CLR, corrisponde a un tipo e più metodi.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-142">However, when the iterator method is translated to CLR metadata, it is a type and multiple methods.</span></span>

## <a name="semantic-model"></a><span data-ttu-id="ae7c0-143">Modello semantico</span><span class="sxs-lookup"><span data-stu-id="ae7c0-143">Semantic model</span></span>

<span data-ttu-id="ae7c0-144">Un modello semantico rappresenta tutte le informazioni semantiche per un singolo file di origine.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-144">A semantic model represents all the semantic information for a single source file.</span></span> <span data-ttu-id="ae7c0-145">È possibile usarlo per individuare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="ae7c0-145">You can use it to discover the following:</span></span>

- <span data-ttu-id="ae7c0-146">I simboli a cui si fa riferimento in una posizione specifica nell'origine.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-146">The symbols referenced at a specific location in source.</span></span>
- <span data-ttu-id="ae7c0-147">Il tipo risultante di qualsiasi espressione.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-147">The resultant type of any expression.</span></span>
- <span data-ttu-id="ae7c0-148">Tutti i dati diagnostici, ovvero errori e avvisi.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-148">All diagnostics, which are errors and warnings.</span></span>
- <span data-ttu-id="ae7c0-149">Il flusso delle variabili in ingresso e in uscita dalle aree di origine.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-149">How variables flow in and out of regions of source.</span></span>
- <span data-ttu-id="ae7c0-150">Risposte a domande più speculative.</span><span class="sxs-lookup"><span data-stu-id="ae7c0-150">The answers to more speculative questions.</span></span>
