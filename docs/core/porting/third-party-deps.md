---
title: Analizzare le dipendenze per convertire il codice per .NET Core
description: Informazioni su come analizzare le dipendenze esterne per convertire il progetto da .NET Framework a .NET Core.
author: cartermp
ms.date: 10/22/2019
ms.openlocfilehash: 2aa09e551a99358d3a6961fafcfc0aa8dbd976b1
ms.sourcegitcommit: cbdc0f4fd39172b5191a35200c33d5030774463c
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/09/2020
ms.locfileid: "75777257"
---
# <a name="analyze-your-dependencies-to-port-code-to-net-core"></a><span data-ttu-id="9f7ec-103">Analizzare le dipendenze per convertire il codice per .NET Core</span><span class="sxs-lookup"><span data-stu-id="9f7ec-103">Analyze your dependencies to port code to .NET Core</span></span>

<span data-ttu-id="9f7ec-104">Per convertire il codice a .NET Core o .NET Standard, è necessario conoscere le dipendenze.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-104">To port your code to .NET Core or .NET Standard, you must understand your dependencies.</span></span> <span data-ttu-id="9f7ec-105">Le dipendenze esterne sono i pacchetti NuGet o `.dll` file a cui si fa riferimento nel progetto, ma che non vengono compilati personalmente.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-105">External dependencies are the NuGet packages or `.dll` files you reference in your project, but that you don't build yourself.</span></span>

## <a name="migrate-your-nuget-packages-to-packagereference"></a><span data-ttu-id="9f7ec-106">Eseguire la migrazione dei pacchetti NuGet a `PackageReference`</span><span class="sxs-lookup"><span data-stu-id="9f7ec-106">Migrate your NuGet packages to `PackageReference`</span></span>

<span data-ttu-id="9f7ec-107">.NET Core usa [PackageReference](/nuget/consume-packages/package-references-in-project-files) per specificare le dipendenze dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-107">.NET Core uses [PackageReference](/nuget/consume-packages/package-references-in-project-files) to specify package dependencies.</span></span> <span data-ttu-id="9f7ec-108">Se si usa [packages. config](/nuget/reference/packages-config) per specificare i pacchetti nel progetto, convertirli nel formato `PackageReference`, perché `packages.config` non è supportato in .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-108">If you're using [packages.config](/nuget/reference/packages-config) to specify your packages in your project, convert it to the `PackageReference` format, because `packages.config` isn't supported in .NET Core.</span></span>

<span data-ttu-id="9f7ec-109">Per informazioni su come eseguire la migrazione, vedere l'articolo [eseguire la migrazione da Packages. config a PackageReference](/nuget/reference/migrate-packages-config-to-package-reference) .</span><span class="sxs-lookup"><span data-stu-id="9f7ec-109">To learn how to migrate, see the [Migrate from packages.config to PackageReference](/nuget/reference/migrate-packages-config-to-package-reference) article.</span></span>

## <a name="upgrade-your-nuget-packages"></a><span data-ttu-id="9f7ec-110">Aggiornare i pacchetti NuGet</span><span class="sxs-lookup"><span data-stu-id="9f7ec-110">Upgrade your NuGet packages</span></span>

<span data-ttu-id="9f7ec-111">Dopo aver eseguito la migrazione del progetto nel formato `PackageReference`, verificare che i pacchetti siano compatibili con .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-111">After you migrate your project to the `PackageReference` format, verify if your packages are compatible with .NET Core.</span></span>

<span data-ttu-id="9f7ec-112">Per prima cosa, aggiornare i pacchetti alla versione più recente.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-112">First, upgrade your packages to the latest version that you can.</span></span> <span data-ttu-id="9f7ec-113">Questa operazione può essere eseguita con l'interfaccia utente di gestione pacchetti NuGet in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-113">This can be done with the NuGet Package Manager UI in Visual Studio.</span></span> <span data-ttu-id="9f7ec-114">È probabile che le versioni più recenti delle dipendenze del pacchetto siano già compatibili con .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-114">It's likely that newer versions of your package dependencies are already compatible with .NET Core.</span></span>

## <a name="analyze-your-package-dependencies"></a><span data-ttu-id="9f7ec-115">Analizzare le dipendenze del pacchetto</span><span class="sxs-lookup"><span data-stu-id="9f7ec-115">Analyze your package dependencies</span></span>

<span data-ttu-id="9f7ec-116">Se non si è ancora verificato che le dipendenze dei pacchetti convertite e aggiornate funzionano in .NET Core, è possibile ottenere questo risultato in diversi modi:</span><span class="sxs-lookup"><span data-stu-id="9f7ec-116">If you haven't already verified that your converted and upgraded package dependencies work on .NET Core, there are a few ways that you can achieve that:</span></span>

### <a name="analyze-nuget-packages-using-nugetorg"></a><span data-ttu-id="9f7ec-117">Analizzare i pacchetti NuGet usando nuget.org</span><span class="sxs-lookup"><span data-stu-id="9f7ec-117">Analyze NuGet packages using nuget.org</span></span>

<span data-ttu-id="9f7ec-118">È possibile visualizzare i moniker del Framework di destinazione (TFM) supportati da ogni pacchetto in [NuGet.org](https://www.nuget.org/) nella sezione **dipendenze** della pagina del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-118">You can see the Target Framework Monikers (TFMs) that each package supports on [nuget.org](https://www.nuget.org/) under the **Dependencies** section of the package page.</span></span>

<span data-ttu-id="9f7ec-119">Sebbene l'utilizzo del sito sia un metodo più semplice per verificare la compatibilità, le informazioni sulle **dipendenze** non sono disponibili nel sito per tutti i pacchetti.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-119">Although using the site is an easier method to verify the compatibility, **Dependencies** information isn't available on the site for all packages.</span></span>

### <a name="analyze-nuget-packages-using-nuget-package-explorer"></a><span data-ttu-id="9f7ec-120">Analizzare i pacchetti NuGet usando NuGet Package Explorer</span><span class="sxs-lookup"><span data-stu-id="9f7ec-120">Analyze NuGet packages using NuGet Package Explorer</span></span>

<span data-ttu-id="9f7ec-121">Un pacchetto NuGet è un set di cartelle contenenti assembly specifici per la piattaforma.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-121">A NuGet package is itself a set of folders that contain platform-specific assemblies.</span></span> <span data-ttu-id="9f7ec-122">Controllare se è presente una cartella che contiene un assembly compatibile all'interno del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-122">Check if there's a folder that contains a compatible assembly inside the package.</span></span>

<span data-ttu-id="9f7ec-123">Il modo più semplice per esaminare le cartelle dei pacchetti NuGet consiste nell'usare lo strumento [NuGet Package Explorer](https://github.com/NuGetPackageExplorer/NuGetPackageExplorer) .</span><span class="sxs-lookup"><span data-stu-id="9f7ec-123">The easiest way to inspect NuGet package folders is to use the [NuGet Package Explorer](https://github.com/NuGetPackageExplorer/NuGetPackageExplorer) tool.</span></span> <span data-ttu-id="9f7ec-124">Dopo aver installato lo strumento seguire questa procedura per visualizzare i nomi delle cartelle:</span><span class="sxs-lookup"><span data-stu-id="9f7ec-124">After installing it, use the following steps to see the folder names:</span></span>

1. <span data-ttu-id="9f7ec-125">Aprire NuGet Package Explorer.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-125">Open the NuGet Package Explorer.</span></span>
2. <span data-ttu-id="9f7ec-126">Fare clic su **Open package from online feed** (Apri il pacchetto dal feed online).</span><span class="sxs-lookup"><span data-stu-id="9f7ec-126">Click **Open package from online feed**.</span></span>
3. <span data-ttu-id="9f7ec-127">Cercare il nome del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-127">Search for the name of the package.</span></span>
4. <span data-ttu-id="9f7ec-128">Selezionare il nome del pacchetto nei risultati della ricerca e fare clic su **open** (Apri).</span><span class="sxs-lookup"><span data-stu-id="9f7ec-128">Select the package name from the search results and click **open**.</span></span>
5. <span data-ttu-id="9f7ec-129">Espandere la cartella *lib* sul lato destro per visualizzare i nomi delle cartelle.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-129">Expand the *lib* folder on the right-hand side and look at folder names.</span></span>

<span data-ttu-id="9f7ec-130">Cercare una cartella con i nomi usando uno dei modelli seguenti: `netstandardX.Y` o `netcoreappX.Y`.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-130">Look for a folder with names using one the following patterns: `netstandardX.Y` or `netcoreappX.Y`.</span></span>

<span data-ttu-id="9f7ec-131">Questi valori sono i [Target Framework Moniker (TFM)](../../standard/frameworks.md) che corrispondono a versioni dei profili [.NET Standard](../../standard/net-standard.md), .NET Core e dei tradizionali profili della libreria di classi portabile (PCL) compatibili con .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-131">These values are the [Target Framework Monikers (TFMs)](../../standard/frameworks.md) that map to versions of the [.NET Standard](../../standard/net-standard.md), .NET Core, and traditional Portable Class Library (PCL) profiles that are compatible with .NET Core.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9f7ec-132">Quando si esaminano i TFM supportati da un pacchetto, si noti che `netcoreapp*` è compatibile, ma è destinato solo ai progetti .NET Core e non ai progetti .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-132">When looking at the TFMs that a package supports, note that `netcoreapp*`, while compatible, is for .NET Core projects only and not for .NET Standard projects.</span></span>
> <span data-ttu-id="9f7ec-133">Una libreria che supporta solo `netcoreapp*` ma non `netstandard*` può essere usata solo da altre applicazioni .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-133">A library that only targets `netcoreapp*` and not `netstandard*` can only be consumed by other .NET Core apps.</span></span>

## <a name="net-framework-compatibility-mode"></a><span data-ttu-id="9f7ec-134">Modalità di compatibilità di .NET Framework</span><span class="sxs-lookup"><span data-stu-id="9f7ec-134">.NET Framework compatibility mode</span></span>

<span data-ttu-id="9f7ec-135">Dopo aver analizzato i pacchetti NuGet, è possibile che siano destinati solo ai .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-135">After analyzing the NuGet packages, you might find that they only target the .NET Framework.</span></span>

<span data-ttu-id="9f7ec-136">A partire da .NET Standard 2.0 è stata introdotta la modalità di compatibilità di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-136">Starting with .NET Standard 2.0, the .NET Framework compatibility mode was introduced.</span></span> <span data-ttu-id="9f7ec-137">Questa modalità consente a progetti .NET Standard e .NET Core di gestire riferimenti a librerie .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-137">This compatibility mode allows .NET Standard and .NET Core projects to reference .NET Framework libraries.</span></span> <span data-ttu-id="9f7ec-138">I riferimenti alle librerie .NET Framework non funzionano per tutti i progetti, ad esempio se la libreria usa API Windows Presentation Foundation (WPF), ma sono in grado di risolvere molti scenari di portabilità.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-138">Referencing .NET Framework libraries doesn't work for all projects, such as if the library uses Windows Presentation Foundation (WPF) APIs, but it does unblock many porting scenarios.</span></span>

<span data-ttu-id="9f7ec-139">Quando si fa riferimento a pacchetti NuGet destinati a .NET Framework nel progetto, ad esempio [Huitian. powercollections](https://www.nuget.org/packages/Huitian.PowerCollections), viene visualizzato un avviso di fallback del pacchetto ([NU1701](/nuget/reference/errors-and-warnings/nu1701)) simile all'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="9f7ec-139">When you reference NuGet packages that target .NET Framework in your project, such as [Huitian.PowerCollections](https://www.nuget.org/packages/Huitian.PowerCollections), you get a package fallback warning ([NU1701](/nuget/reference/errors-and-warnings/nu1701)) similar to the following example:</span></span>

`NU1701: Package ‘Huitian.PowerCollections 1.0.0’ was restored using ‘.NETFramework,Version=v4.6.1’ instead of the project target framework ‘.NETStandard,Version=v2.0’. This package may not be fully compatible with your project.`

<span data-ttu-id="9f7ec-140">Questo avviso viene visualizzato quando si aggiunge il pacchetto e ogni volta che si esegue la compilazione, per garantire che il pacchetto venga testato con il progetto.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-140">That warning is displayed when you add the package and every time you build to make sure you test that package with your project.</span></span> <span data-ttu-id="9f7ec-141">Se il progetto funziona come previsto, è possibile eliminarlo modificando le proprietà del pacchetto in Visual Studio o modificando manualmente il file di progetto nell'editor di codice preferito.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-141">If your project works as expected, you can suppress that warning by editing the package properties in Visual Studio or by manually editing the project file in your favorite code editor.</span></span>

<span data-ttu-id="9f7ec-142">Per eliminare l'avviso modificando il file di progetto, trovare la voce `PackageReference` del pacchetto per il quale si vuole eliminare l'avviso e aggiungere l'attributo `NoWarn`.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-142">To suppress the warning by editing the project file, find the `PackageReference` entry for the package you want to suppress the warning for and add the `NoWarn` attribute.</span></span> <span data-ttu-id="9f7ec-143">L'attributo `NoWarn` accetta un elenco delimitato da virgole di tutti gli ID avviso.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-143">The `NoWarn` attribute accepts a comma-separated list of all the warning IDs.</span></span> <span data-ttu-id="9f7ec-144">L'esempio seguente illustra come eliminare l'avviso `NU1701` per il pacchetto `Huitian.PowerCollections` modificando manualmente il file di progetto:</span><span class="sxs-lookup"><span data-stu-id="9f7ec-144">The following example shows how to suppress the `NU1701` warning for the `Huitian.PowerCollections` package by editing your project file manually:</span></span>

```xml
<ItemGroup>
  <PackageReference Include="Huitian.PowerCollections" Version="1.0.0" NoWarn="NU1701" />
</ItemGroup>
```

<span data-ttu-id="9f7ec-145">Per altre informazioni sull'eliminazione degli avvisi del compilatore in Visual Studio, vedere [Non visualizzare avvisi per i pacchetti NuGet](/visualstudio/ide/how-to-suppress-compiler-warnings#suppress-warnings-for-nuget-packages).</span><span class="sxs-lookup"><span data-stu-id="9f7ec-145">For more information on how to suppress compiler warnings in Visual Studio, see [Suppressing warnings for NuGet packages](/visualstudio/ide/how-to-suppress-compiler-warnings#suppress-warnings-for-nuget-packages).</span></span>

## <a name="what-to-do-when-your-nuget-package-dependency-doesnt-run-on-net-core"></a><span data-ttu-id="9f7ec-146">Operazioni da eseguire quando una dipendenza del pacchetto NuGet non viene eseguita in .NET Core</span><span class="sxs-lookup"><span data-stu-id="9f7ec-146">What to do when your NuGet package dependency doesn't run on .NET Core</span></span>

<span data-ttu-id="9f7ec-147">Se un pacchetto NuGet importante non può essere eseguito in .NET Core, è possibile provare varie soluzioni:</span><span class="sxs-lookup"><span data-stu-id="9f7ec-147">There are a few things you can do if a NuGet package you depend on doesn't run on .NET Core:</span></span>

- <span data-ttu-id="9f7ec-148">Se il progetto è open source e ospitato in una posizione come GitHub, è possibile coinvolgere direttamente gli sviluppatori.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-148">If the project is open source and hosted somewhere like GitHub, you can engage the developers directly.</span></span>
- <span data-ttu-id="9f7ec-149">È possibile contattare l'autore direttamente su [NuGet.org](https://www.nuget.org/). Cercare il pacchetto e fare clic su **Contact owners (Contatta i proprietari** ) sul lato sinistro della pagina del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-149">You can contact the author directly on [nuget.org](https://www.nuget.org/). Search for the package and click **Contact Owners** on the left-hand side of the package's page.</span></span>
- <span data-ttu-id="9f7ec-150">È possibile cercare un altro pacchetto che supporta .NET Core ed esegue la stessa attività del pacchetto in uso.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-150">You can search for another package that runs on .NET Core that accomplishes the same task as the package you were using.</span></span>
- <span data-ttu-id="9f7ec-151">È possibile tentare di scrivere autonomamente il codice eseguito dal pacchetto.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-151">You can attempt to write the code the package was doing yourself.</span></span>
- <span data-ttu-id="9f7ec-152">È inoltre possibile eliminare la dipendenza del pacchetto modificando la funzionalità dell'app, almeno fino a quando una versione compatibile del pacchetto non diventa disponibile.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-152">You could eliminate the dependency on the package by changing the functionality of your app, at least until a compatible version of the package becomes available.</span></span>

<span data-ttu-id="9f7ec-153">Tenere presente che spesso i gestori di progetti open source e gli autori di pacchetti NuGet sono volontari.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-153">Remember that open-source project maintainers and NuGet package publishers are often volunteers.</span></span> <span data-ttu-id="9f7ec-154">Questi utenti offrono il loro contributo a titolo gratuito perché sono interessati a un determinato argomento e in molti casi svolgono un'altra attività.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-154">They contribute because they care about a given domain, do it for free, and often have a different daytime job.</span></span> <span data-ttu-id="9f7ec-155">Tenere presente che quando si contatta loro per richiedere il supporto di .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-155">Be mindful of that when contacting them to ask for .NET Core support.</span></span>

<span data-ttu-id="9f7ec-156">Se non è possibile risolvere il problema con una di queste opzioni, potrebbe essere necessario eseguire il porting in .NET Core in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-156">If you can't resolve your issue with any of these options, you may have to port to .NET Core at a later date.</span></span>

<span data-ttu-id="9f7ec-157">Il team .NET è interessato a sapere quali sono le librerie più importanti da supportare in .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-157">The .NET Team would like to know which libraries are the most important to support with .NET Core.</span></span> <span data-ttu-id="9f7ec-158">È possibile inviare un messaggio di posta elettronica indicando le librerie preferite all'indirizzo dotnet@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-158">You can send an email to dotnet@microsoft.com about the libraries you'd like to use.</span></span>

## <a name="analyze-dependencies-that-arent-nuget-packages"></a><span data-ttu-id="9f7ec-159">Analizzare le dipendenze che non sono pacchetti NuGet</span><span class="sxs-lookup"><span data-stu-id="9f7ec-159">Analyze dependencies that aren't NuGet packages</span></span>

<span data-ttu-id="9f7ec-160">Nel file system può essere presente una dipendenza diversa da un pacchetto NuGet, ad esempio una DLL.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-160">You may have a dependency that isn't a NuGet package, such as a DLL in the file system.</span></span> <span data-ttu-id="9f7ec-161">L'unico metodo per determinare la portabilità di tale dipendenza è l'esecuzione dello strumento [.NET Portability Analyzer](https://github.com/Microsoft/dotnet-apiport).</span><span class="sxs-lookup"><span data-stu-id="9f7ec-161">The only way to determine the portability of that dependency is to run the [.NET Portability Analyzer](https://github.com/Microsoft/dotnet-apiport) tool.</span></span> <span data-ttu-id="9f7ec-162">Lo strumento analizza gli assembly destinati alla .NET Framework e identifica le API che non sono portabili ad altre piattaforme .NET, ad esempio .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9f7ec-162">The tool analyzes assemblies that target the .NET Framework and identifies APIs that aren't portable to other .NET platforms such as .NET Core.</span></span> <span data-ttu-id="9f7ec-163">È possibile eseguire lo strumento come applicazione console o come [estensione di Visual Studio](../../standard/analyzers/portability-analyzer.md).</span><span class="sxs-lookup"><span data-stu-id="9f7ec-163">You can run the tool as a console application or as a [Visual Studio extension](../../standard/analyzers/portability-analyzer.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="9f7ec-164">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="9f7ec-164">Next steps</span></span>

>[!div class="nextstepaction"]
>[<span data-ttu-id="9f7ec-165">Librerie di porte</span><span class="sxs-lookup"><span data-stu-id="9f7ec-165">Port libraries</span></span>](libraries.md)
